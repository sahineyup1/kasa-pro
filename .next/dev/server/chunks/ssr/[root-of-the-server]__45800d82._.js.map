{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Sahin/Desktop/kasa-pro/src/components/ui/select.tsx"],"sourcesContent":["'use client';\r\n\r\nimport * as React from 'react';\r\nimport * as SelectPrimitive from '@radix-ui/react-select';\r\nimport { Check, ChevronDown, ChevronUp } from 'lucide-react';\r\nimport { cn } from '@/lib/utils';\r\n\r\nconst Select = SelectPrimitive.Root;\r\n\r\nconst SelectGroup = SelectPrimitive.Group;\r\n\r\nconst SelectValue = SelectPrimitive.Value;\r\n\r\nconst SelectTrigger = React.forwardRef<\r\n  React.ElementRef<typeof SelectPrimitive.Trigger>,\r\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Trigger>\r\n>(({ className, children, ...props }, ref) => (\r\n  <SelectPrimitive.Trigger\r\n    ref={ref}\r\n    className={cn(\r\n      'flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1',\r\n      className\r\n    )}\r\n    {...props}\r\n  >\r\n    {children}\r\n    <SelectPrimitive.Icon asChild>\r\n      <ChevronDown className=\"h-4 w-4 opacity-50\" />\r\n    </SelectPrimitive.Icon>\r\n  </SelectPrimitive.Trigger>\r\n));\r\nSelectTrigger.displayName = SelectPrimitive.Trigger.displayName;\r\n\r\nconst SelectScrollUpButton = React.forwardRef<\r\n  React.ElementRef<typeof SelectPrimitive.ScrollUpButton>,\r\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.ScrollUpButton>\r\n>(({ className, ...props }, ref) => (\r\n  <SelectPrimitive.ScrollUpButton\r\n    ref={ref}\r\n    className={cn(\r\n      'flex cursor-default items-center justify-center py-1',\r\n      className\r\n    )}\r\n    {...props}\r\n  >\r\n    <ChevronUp className=\"h-4 w-4\" />\r\n  </SelectPrimitive.ScrollUpButton>\r\n));\r\nSelectScrollUpButton.displayName = SelectPrimitive.ScrollUpButton.displayName;\r\n\r\nconst SelectScrollDownButton = React.forwardRef<\r\n  React.ElementRef<typeof SelectPrimitive.ScrollDownButton>,\r\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.ScrollDownButton>\r\n>(({ className, ...props }, ref) => (\r\n  <SelectPrimitive.ScrollDownButton\r\n    ref={ref}\r\n    className={cn(\r\n      'flex cursor-default items-center justify-center py-1',\r\n      className\r\n    )}\r\n    {...props}\r\n  >\r\n    <ChevronDown className=\"h-4 w-4\" />\r\n  </SelectPrimitive.ScrollDownButton>\r\n));\r\nSelectScrollDownButton.displayName =\r\n  SelectPrimitive.ScrollDownButton.displayName;\r\n\r\nconst SelectContent = React.forwardRef<\r\n  React.ElementRef<typeof SelectPrimitive.Content>,\r\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Content>\r\n>(({ className, children, position = 'popper', ...props }, ref) => (\r\n  <SelectPrimitive.Portal>\r\n    <SelectPrimitive.Content\r\n      ref={ref}\r\n      className={cn(\r\n        'relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2',\r\n        position === 'popper' &&\r\n          'data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1',\r\n        className\r\n      )}\r\n      position={position}\r\n      {...props}\r\n    >\r\n      <SelectScrollUpButton />\r\n      <SelectPrimitive.Viewport\r\n        className={cn(\r\n          'p-1',\r\n          position === 'popper' &&\r\n            'h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]'\r\n        )}\r\n      >\r\n        {children}\r\n      </SelectPrimitive.Viewport>\r\n      <SelectScrollDownButton />\r\n    </SelectPrimitive.Content>\r\n  </SelectPrimitive.Portal>\r\n));\r\nSelectContent.displayName = SelectPrimitive.Content.displayName;\r\n\r\nconst SelectLabel = React.forwardRef<\r\n  React.ElementRef<typeof SelectPrimitive.Label>,\r\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Label>\r\n>(({ className, ...props }, ref) => (\r\n  <SelectPrimitive.Label\r\n    ref={ref}\r\n    className={cn('py-1.5 pl-8 pr-2 text-sm font-semibold', className)}\r\n    {...props}\r\n  />\r\n));\r\nSelectLabel.displayName = SelectPrimitive.Label.displayName;\r\n\r\nconst SelectItem = React.forwardRef<\r\n  React.ElementRef<typeof SelectPrimitive.Item>,\r\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Item>\r\n>(({ className, children, ...props }, ref) => (\r\n  <SelectPrimitive.Item\r\n    ref={ref}\r\n    className={cn(\r\n      'relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50',\r\n      className\r\n    )}\r\n    {...props}\r\n  >\r\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\r\n      <SelectPrimitive.ItemIndicator>\r\n        <Check className=\"h-4 w-4\" />\r\n      </SelectPrimitive.ItemIndicator>\r\n    </span>\r\n\r\n    <SelectPrimitive.ItemText>{children}</SelectPrimitive.ItemText>\r\n  </SelectPrimitive.Item>\r\n));\r\nSelectItem.displayName = SelectPrimitive.Item.displayName;\r\n\r\nconst SelectSeparator = React.forwardRef<\r\n  React.ElementRef<typeof SelectPrimitive.Separator>,\r\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Separator>\r\n>(({ className, ...props }, ref) => (\r\n  <SelectPrimitive.Separator\r\n    ref={ref}\r\n    className={cn('-mx-1 my-1 h-px bg-muted', className)}\r\n    {...props}\r\n  />\r\n));\r\nSelectSeparator.displayName = SelectPrimitive.Separator.displayName;\r\n\r\nexport {\r\n  Select,\r\n  SelectGroup,\r\n  SelectValue,\r\n  SelectTrigger,\r\n  SelectContent,\r\n  SelectLabel,\r\n  SelectItem,\r\n  SelectSeparator,\r\n  SelectScrollUpButton,\r\n  SelectScrollDownButton,\r\n};\r\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AAEA;AACA;AACA;AAAA;AAAA;AACA;AALA;;;;;;AAOA,MAAM,SAAS,0KAAoB;AAEnC,MAAM,cAAc,2KAAqB;AAEzC,MAAM,cAAc,2KAAqB;AAEzC,MAAM,8BAAgB,mNAAgB,CAGpC,CAAC,EAAE,SAAS,EAAE,QAAQ,EAAE,GAAG,OAAO,EAAE,oBACpC,8OAAC,6KAAuB;QACtB,KAAK;QACL,WAAW,IAAA,yHAAE,EACX,mTACA;QAED,GAAG,KAAK;;YAER;0BACD,8OAAC,0KAAoB;gBAAC,OAAO;0BAC3B,cAAA,8OAAC,mOAAW;oBAAC,WAAU;;;;;;;;;;;;;;;;;AAI7B,cAAc,WAAW,GAAG,6KAAuB,CAAC,WAAW;AAE/D,MAAM,qCAAuB,mNAAgB,CAG3C,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC,oLAA8B;QAC7B,KAAK;QACL,WAAW,IAAA,yHAAE,EACX,wDACA;QAED,GAAG,KAAK;kBAET,cAAA,8OAAC,6NAAS;YAAC,WAAU;;;;;;;;;;;AAGzB,qBAAqB,WAAW,GAAG,oLAA8B,CAAC,WAAW;AAE7E,MAAM,uCAAyB,mNAAgB,CAG7C,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC,sLAAgC;QAC/B,KAAK;QACL,WAAW,IAAA,yHAAE,EACX,wDACA;QAED,GAAG,KAAK;kBAET,cAAA,8OAAC,mOAAW;YAAC,WAAU;;;;;;;;;;;AAG3B,uBAAuB,WAAW,GAChC,sLAAgC,CAAC,WAAW;AAE9C,MAAM,8BAAgB,mNAAgB,CAGpC,CAAC,EAAE,SAAS,EAAE,QAAQ,EAAE,WAAW,QAAQ,EAAE,GAAG,OAAO,EAAE,oBACzD,8OAAC,4KAAsB;kBACrB,cAAA,8OAAC,6KAAuB;YACtB,KAAK;YACL,WAAW,IAAA,yHAAE,EACX,ucACA,aAAa,YACX,mIACF;YAEF,UAAU;YACT,GAAG,KAAK;;8BAET,8OAAC;;;;;8BACD,8OAAC,8KAAwB;oBACvB,WAAW,IAAA,yHAAE,EACX,OACA,aAAa,YACX;8BAGH;;;;;;8BAEH,8OAAC;;;;;;;;;;;;;;;;AAIP,cAAc,WAAW,GAAG,6KAAuB,CAAC,WAAW;AAE/D,MAAM,4BAAc,mNAAgB,CAGlC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC,2KAAqB;QACpB,KAAK;QACL,WAAW,IAAA,yHAAE,EAAC,0CAA0C;QACvD,GAAG,KAAK;;;;;;AAGb,YAAY,WAAW,GAAG,2KAAqB,CAAC,WAAW;AAE3D,MAAM,2BAAa,mNAAgB,CAGjC,CAAC,EAAE,SAAS,EAAE,QAAQ,EAAE,GAAG,OAAO,EAAE,oBACpC,8OAAC,0KAAoB;QACnB,KAAK;QACL,WAAW,IAAA,yHAAE,EACX,6NACA;QAED,GAAG,KAAK;;0BAET,8OAAC;gBAAK,WAAU;0BACd,cAAA,8OAAC,mLAA6B;8BAC5B,cAAA,8OAAC,6MAAK;wBAAC,WAAU;;;;;;;;;;;;;;;;0BAIrB,8OAAC,8KAAwB;0BAAE;;;;;;;;;;;;AAG/B,WAAW,WAAW,GAAG,0KAAoB,CAAC,WAAW;AAEzD,MAAM,gCAAkB,mNAAgB,CAGtC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC,+KAAyB;QACxB,KAAK;QACL,WAAW,IAAA,yHAAE,EAAC,4BAA4B;QACzC,GAAG,KAAK;;;;;;AAGb,gBAAgB,WAAW,GAAG,+KAAyB,CAAC,WAAW"}},
    {"offset": {"line": 204, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Sahin/Desktop/kasa-pro/src/components/ui/table.tsx"],"sourcesContent":["import * as React from \"react\"\r\nimport { cn } from \"@/lib/utils\"\r\n\r\nconst Table = React.forwardRef<\r\n  HTMLTableElement,\r\n  React.HTMLAttributes<HTMLTableElement>\r\n>(({ className, ...props }, ref) => (\r\n  <div className=\"relative w-full overflow-auto\">\r\n    <table\r\n      ref={ref}\r\n      className={cn(\"w-full caption-bottom text-sm\", className)}\r\n      {...props}\r\n    />\r\n  </div>\r\n))\r\nTable.displayName = \"Table\"\r\n\r\nconst TableHeader = React.forwardRef<\r\n  HTMLTableSectionElement,\r\n  React.HTMLAttributes<HTMLTableSectionElement>\r\n>(({ className, ...props }, ref) => (\r\n  <thead ref={ref} className={cn(\"[&_tr]:border-b\", className)} {...props} />\r\n))\r\nTableHeader.displayName = \"TableHeader\"\r\n\r\nconst TableBody = React.forwardRef<\r\n  HTMLTableSectionElement,\r\n  React.HTMLAttributes<HTMLTableSectionElement>\r\n>(({ className, ...props }, ref) => (\r\n  <tbody\r\n    ref={ref}\r\n    className={cn(\"[&_tr:last-child]:border-0\", className)}\r\n    {...props}\r\n  />\r\n))\r\nTableBody.displayName = \"TableBody\"\r\n\r\nconst TableFooter = React.forwardRef<\r\n  HTMLTableSectionElement,\r\n  React.HTMLAttributes<HTMLTableSectionElement>\r\n>(({ className, ...props }, ref) => (\r\n  <tfoot\r\n    ref={ref}\r\n    className={cn(\r\n      \"border-t bg-muted/50 font-medium [&>tr]:last:border-b-0\",\r\n      className\r\n    )}\r\n    {...props}\r\n  />\r\n))\r\nTableFooter.displayName = \"TableFooter\"\r\n\r\nconst TableRow = React.forwardRef<\r\n  HTMLTableRowElement,\r\n  React.HTMLAttributes<HTMLTableRowElement>\r\n>(({ className, ...props }, ref) => (\r\n  <tr\r\n    ref={ref}\r\n    className={cn(\r\n      \"border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted\",\r\n      className\r\n    )}\r\n    {...props}\r\n  />\r\n))\r\nTableRow.displayName = \"TableRow\"\r\n\r\nconst TableHead = React.forwardRef<\r\n  HTMLTableCellElement,\r\n  React.ThHTMLAttributes<HTMLTableCellElement>\r\n>(({ className, ...props }, ref) => (\r\n  <th\r\n    ref={ref}\r\n    className={cn(\r\n      \"h-10 px-2 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]\",\r\n      className\r\n    )}\r\n    {...props}\r\n  />\r\n))\r\nTableHead.displayName = \"TableHead\"\r\n\r\nconst TableCell = React.forwardRef<\r\n  HTMLTableCellElement,\r\n  React.TdHTMLAttributes<HTMLTableCellElement>\r\n>(({ className, ...props }, ref) => (\r\n  <td\r\n    ref={ref}\r\n    className={cn(\r\n      \"p-2 align-middle [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]\",\r\n      className\r\n    )}\r\n    {...props}\r\n  />\r\n))\r\nTableCell.displayName = \"TableCell\"\r\n\r\nconst TableCaption = React.forwardRef<\r\n  HTMLTableCaptionElement,\r\n  React.HTMLAttributes<HTMLTableCaptionElement>\r\n>(({ className, ...props }, ref) => (\r\n  <caption\r\n    ref={ref}\r\n    className={cn(\"mt-4 text-sm text-muted-foreground\", className)}\r\n    {...props}\r\n  />\r\n))\r\nTableCaption.displayName = \"TableCaption\"\r\n\r\nexport {\r\n  Table,\r\n  TableHeader,\r\n  TableBody,\r\n  TableFooter,\r\n  TableHead,\r\n  TableRow,\r\n  TableCell,\r\n  TableCaption,\r\n}\r\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;AAAA;AACA;;;;AAEA,MAAM,sBAAQ,mNAAgB,CAG5B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QAAI,WAAU;kBACb,cAAA,8OAAC;YACC,KAAK;YACL,WAAW,IAAA,yHAAE,EAAC,iCAAiC;YAC9C,GAAG,KAAK;;;;;;;;;;;AAIf,MAAM,WAAW,GAAG;AAEpB,MAAM,4BAAc,mNAAgB,CAGlC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QAAM,KAAK;QAAK,WAAW,IAAA,yHAAE,EAAC,mBAAmB;QAAa,GAAG,KAAK;;;;;;AAEzE,YAAY,WAAW,GAAG;AAE1B,MAAM,0BAAY,mNAAgB,CAGhC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QACC,KAAK;QACL,WAAW,IAAA,yHAAE,EAAC,8BAA8B;QAC3C,GAAG,KAAK;;;;;;AAGb,UAAU,WAAW,GAAG;AAExB,MAAM,4BAAc,mNAAgB,CAGlC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QACC,KAAK;QACL,WAAW,IAAA,yHAAE,EACX,2DACA;QAED,GAAG,KAAK;;;;;;AAGb,YAAY,WAAW,GAAG;AAE1B,MAAM,yBAAW,mNAAgB,CAG/B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QACC,KAAK;QACL,WAAW,IAAA,yHAAE,EACX,+EACA;QAED,GAAG,KAAK;;;;;;AAGb,SAAS,WAAW,GAAG;AAEvB,MAAM,0BAAY,mNAAgB,CAGhC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QACC,KAAK;QACL,WAAW,IAAA,yHAAE,EACX,0IACA;QAED,GAAG,KAAK;;;;;;AAGb,UAAU,WAAW,GAAG;AAExB,MAAM,0BAAY,mNAAgB,CAGhC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QACC,KAAK;QACL,WAAW,IAAA,yHAAE,EACX,wFACA;QAED,GAAG,KAAK;;;;;;AAGb,UAAU,WAAW,GAAG;AAExB,MAAM,6BAAe,mNAAgB,CAGnC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QACC,KAAK;QACL,WAAW,IAAA,yHAAE,EAAC,sCAAsC;QACnD,GAAG,KAAK;;;;;;AAGb,aAAa,WAAW,GAAG"}},
    {"offset": {"line": 320, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Sahin/Desktop/kasa-pro/src/components/ui/dropdown-menu.tsx"],"sourcesContent":["'use client';\n\nimport * as React from 'react';\nimport * as DropdownMenuPrimitive from '@radix-ui/react-dropdown-menu';\nimport { Check, ChevronRight, Circle } from 'lucide-react';\n\nimport { cn } from '@/lib/utils';\n\nconst DropdownMenu = DropdownMenuPrimitive.Root;\n\nconst DropdownMenuTrigger = DropdownMenuPrimitive.Trigger;\n\nconst DropdownMenuGroup = DropdownMenuPrimitive.Group;\n\nconst DropdownMenuPortal = DropdownMenuPrimitive.Portal;\n\nconst DropdownMenuSub = DropdownMenuPrimitive.Sub;\n\nconst DropdownMenuRadioGroup = DropdownMenuPrimitive.RadioGroup;\n\nconst DropdownMenuSubTrigger = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.SubTrigger>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.SubTrigger> & {\n    inset?: boolean;\n  }\n>(({ className, inset, children, ...props }, ref) => (\n  <DropdownMenuPrimitive.SubTrigger\n    ref={ref}\n    className={cn(\n      'flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent',\n      inset && 'pl-8',\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <ChevronRight className=\"ml-auto h-4 w-4\" />\n  </DropdownMenuPrimitive.SubTrigger>\n));\nDropdownMenuSubTrigger.displayName = DropdownMenuPrimitive.SubTrigger.displayName;\n\nconst DropdownMenuSubContent = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.SubContent>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.SubContent>\n>(({ className, ...props }, ref) => (\n  <DropdownMenuPrimitive.SubContent\n    ref={ref}\n    className={cn(\n      'z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2',\n      className\n    )}\n    {...props}\n  />\n));\nDropdownMenuSubContent.displayName = DropdownMenuPrimitive.SubContent.displayName;\n\nconst DropdownMenuContent = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Content>\n>(({ className, sideOffset = 4, ...props }, ref) => (\n  <DropdownMenuPrimitive.Portal>\n    <DropdownMenuPrimitive.Content\n      ref={ref}\n      sideOffset={sideOffset}\n      className={cn(\n        'z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2',\n        className\n      )}\n      {...props}\n    />\n  </DropdownMenuPrimitive.Portal>\n));\nDropdownMenuContent.displayName = DropdownMenuPrimitive.Content.displayName;\n\nconst DropdownMenuItem = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Item> & {\n    inset?: boolean;\n  }\n>(({ className, inset, ...props }, ref) => (\n  <DropdownMenuPrimitive.Item\n    ref={ref}\n    className={cn(\n      'relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50',\n      inset && 'pl-8',\n      className\n    )}\n    {...props}\n  />\n));\nDropdownMenuItem.displayName = DropdownMenuPrimitive.Item.displayName;\n\nconst DropdownMenuCheckboxItem = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.CheckboxItem>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.CheckboxItem>\n>(({ className, children, checked, ...props }, ref) => (\n  <DropdownMenuPrimitive.CheckboxItem\n    ref={ref}\n    className={cn(\n      'relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50',\n      className\n    )}\n    checked={checked}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <DropdownMenuPrimitive.ItemIndicator>\n        <Check className=\"h-4 w-4\" />\n      </DropdownMenuPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </DropdownMenuPrimitive.CheckboxItem>\n));\nDropdownMenuCheckboxItem.displayName = DropdownMenuPrimitive.CheckboxItem.displayName;\n\nconst DropdownMenuRadioItem = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.RadioItem>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.RadioItem>\n>(({ className, children, ...props }, ref) => (\n  <DropdownMenuPrimitive.RadioItem\n    ref={ref}\n    className={cn(\n      'relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50',\n      className\n    )}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <DropdownMenuPrimitive.ItemIndicator>\n        <Circle className=\"h-2 w-2 fill-current\" />\n      </DropdownMenuPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </DropdownMenuPrimitive.RadioItem>\n));\nDropdownMenuRadioItem.displayName = DropdownMenuPrimitive.RadioItem.displayName;\n\nconst DropdownMenuLabel = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Label>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Label> & {\n    inset?: boolean;\n  }\n>(({ className, inset, ...props }, ref) => (\n  <DropdownMenuPrimitive.Label\n    ref={ref}\n    className={cn(\n      'px-2 py-1.5 text-sm font-semibold',\n      inset && 'pl-8',\n      className\n    )}\n    {...props}\n  />\n));\nDropdownMenuLabel.displayName = DropdownMenuPrimitive.Label.displayName;\n\nconst DropdownMenuSeparator = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <DropdownMenuPrimitive.Separator\n    ref={ref}\n    className={cn('-mx-1 my-1 h-px bg-muted', className)}\n    {...props}\n  />\n));\nDropdownMenuSeparator.displayName = DropdownMenuPrimitive.Separator.displayName;\n\nconst DropdownMenuShortcut = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLSpanElement>) => {\n  return (\n    <span\n      className={cn('ml-auto text-xs tracking-widest opacity-60', className)}\n      {...props}\n    />\n  );\n};\nDropdownMenuShortcut.displayName = 'DropdownMenuShortcut';\n\nexport {\n  DropdownMenu,\n  DropdownMenuTrigger,\n  DropdownMenuContent,\n  DropdownMenuItem,\n  DropdownMenuCheckboxItem,\n  DropdownMenuRadioItem,\n  DropdownMenuLabel,\n  DropdownMenuSeparator,\n  DropdownMenuShortcut,\n  DropdownMenuGroup,\n  DropdownMenuPortal,\n  DropdownMenuSub,\n  DropdownMenuSubContent,\n  DropdownMenuSubTrigger,\n  DropdownMenuRadioGroup,\n};\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 627, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Sahin/Desktop/kasa-pro/src/services/firebase.ts"],"sourcesContent":["import { initializeApp, getApps } from 'firebase/app';\r\nimport { getAuth } from 'firebase/auth';\r\nimport { getDatabase, ref, get, set, push, update, remove, onValue, query, orderByChild, equalTo } from 'firebase/database';\r\nimport {\r\n  getFirestore,\r\n  collection,\r\n  doc,\r\n  getDoc,\r\n  getDocs,\r\n  addDoc,\r\n  updateDoc,\r\n  deleteDoc,\r\n  onSnapshot,\r\n  query as firestoreQuery,\r\n  where,\r\n  orderBy,\r\n  limit,\r\n  Timestamp\r\n} from 'firebase/firestore';\r\n\r\nconst firebaseConfig = {\r\n  apiKey: process.env.NEXT_PUBLIC_FIREBASE_API_KEY,\r\n  authDomain: process.env.NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN,\r\n  databaseURL: process.env.NEXT_PUBLIC_FIREBASE_DATABASE_URL,\r\n  projectId: process.env.NEXT_PUBLIC_FIREBASE_PROJECT_ID,\r\n  storageBucket: process.env.NEXT_PUBLIC_FIREBASE_STORAGE_BUCKET,\r\n  messagingSenderId: process.env.NEXT_PUBLIC_FIREBASE_MESSAGING_SENDER_ID,\r\n  appId: process.env.NEXT_PUBLIC_FIREBASE_APP_ID,\r\n};\r\n\r\n// Debug: Log config\r\nconsole.log('Firebase Config:', {\r\n  apiKey: firebaseConfig.apiKey ? 'SET' : 'MISSING',\r\n  databaseURL: firebaseConfig.databaseURL || 'MISSING',\r\n  projectId: firebaseConfig.projectId || 'MISSING',\r\n});\r\n\r\n// Initialize Firebase\r\nconst app = getApps().length === 0 ? initializeApp(firebaseConfig) : getApps()[0];\r\nconst auth = getAuth(app);\r\nconst database = getDatabase(app);\r\nconst firestore = getFirestore(app);\r\n\r\nconsole.log('Firebase initialized, database:', database ? 'OK' : 'FAILED');\r\nconsole.log('Firestore initialized:', firestore ? 'OK' : 'FAILED');\r\n\r\n// ERP Path prefix - tum veriler erp/ altinda (Realtime DB)\r\nconst ERP_PATH = 'erp';\r\nconst erpPath = (path: string) => `${ERP_PATH}/${path}`;\r\n\r\n// Firestore collection prefix (Desktop app ile uyumlu)\r\nconst FIRESTORE_PREFIX = 'erp_';\r\n\r\n// Database helper functions\r\nexport const dbRef = (path: string) => ref(database, erpPath(path));\r\n\r\nexport const getData = async (path: string) => {\r\n  const fullPath = erpPath(path);\r\n  console.log('getData:', fullPath);\r\n  const snapshot = await get(ref(database, fullPath));\r\n  return snapshot.exists() ? snapshot.val() : null;\r\n};\r\n\r\nexport const setData = async (path: string, data: any) => {\r\n  const fullPath = erpPath(path);\r\n  await set(ref(database, fullPath), data);\r\n};\r\n\r\nexport const pushData = async (path: string, data: any) => {\r\n  const fullPath = erpPath(path);\r\n  const newRef = push(ref(database, fullPath));\r\n  await set(newRef, data);\r\n  return newRef.key;\r\n};\r\n\r\nexport const updateData = async (path: string, data: any) => {\r\n  const fullPath = erpPath(path);\r\n  await update(ref(database, fullPath), data);\r\n};\r\n\r\nexport const removeData = async (path: string) => {\r\n  const fullPath = erpPath(path);\r\n  await remove(ref(database, fullPath));\r\n};\r\n\r\nexport const subscribeToData = (path: string, callback: (data: any) => void) => {\r\n  const fullPath = erpPath(path);\r\n  console.log('Subscribing to RTDB:', fullPath);\r\n  const unsubscribe = onValue(\r\n    ref(database, fullPath),\r\n    (snapshot) => {\r\n      console.log(`RTDB data received for ${fullPath}:`, snapshot.exists() ? 'has data' : 'empty');\r\n      callback(snapshot.exists() ? snapshot.val() : null);\r\n    },\r\n    (error) => {\r\n      console.error(`RTDB error for ${fullPath}:`, error);\r\n      callback(null);\r\n    }\r\n  );\r\n  return unsubscribe;\r\n};\r\n\r\n// RTDB'den array formatında veri çek (dict -> array dönüşümü)\r\nexport const subscribeToRTDB = (\r\n  path: string,\r\n  callback: (data: any[]) => void\r\n) => {\r\n  const fullPath = erpPath(path);\r\n  console.log('Subscribing to RTDB (array):', fullPath);\r\n\r\n  const unsubscribe = onValue(\r\n    ref(database, fullPath),\r\n    (snapshot) => {\r\n      if (!snapshot.exists()) {\r\n        console.log(`RTDB empty for ${fullPath}`);\r\n        callback([]);\r\n        return;\r\n      }\r\n\r\n      const rawData = snapshot.val();\r\n\r\n      // Dict -> Array dönüşümü\r\n      let arrayData: any[] = [];\r\n      if (rawData && typeof rawData === 'object' && !Array.isArray(rawData)) {\r\n        arrayData = Object.entries(rawData).map(([key, value]: [string, any]) => ({\r\n          id: key,\r\n          _id: key,\r\n          ...value\r\n        }));\r\n      } else if (Array.isArray(rawData)) {\r\n        arrayData = rawData.map((item, index) => ({\r\n          id: item?.id || index.toString(),\r\n          ...item\r\n        }));\r\n      }\r\n\r\n      console.log(`RTDB data received for ${fullPath}:`, arrayData.length, 'items');\r\n      callback(arrayData);\r\n    },\r\n    (error) => {\r\n      console.error(`RTDB error for ${fullPath}:`, error);\r\n      callback([]);\r\n    }\r\n  );\r\n\r\n  return unsubscribe;\r\n};\r\n\r\n// =================== FIRESTORE HELPERS ===================\r\n\r\n// Collection name'i normalize et (Desktop app ile uyumlu)\r\nconst normalizeCollectionName = (name: string): string => {\r\n  // Zaten prefix varsa dokunma\r\n  if (name.startsWith(FIRESTORE_PREFIX)) return name;\r\n\r\n  // camelCase -> snake_case\r\n  const snakeCase = name.replace(/([A-Z])/g, '_$1').toLowerCase();\r\n  return `${FIRESTORE_PREFIX}${snakeCase}`;\r\n};\r\n\r\n// Firestore collection referansı al\r\nexport const getCollection = (collectionName: string) => {\r\n  const normalized = normalizeCollectionName(collectionName);\r\n  console.log('Getting Firestore collection:', normalized);\r\n  return collection(firestore, normalized);\r\n};\r\n\r\n// Firestore'dan veri dinle (real-time)\r\nexport const subscribeToFirestore = (\r\n  collectionName: string,\r\n  callback: (data: any[]) => void,\r\n  constraints?: {\r\n    whereField?: string;\r\n    whereOp?: '==' | '!=' | '<' | '<=' | '>' | '>=';\r\n    whereValue?: any;\r\n    orderByField?: string;\r\n    orderDirection?: 'asc' | 'desc';\r\n    limitCount?: number;\r\n  }\r\n) => {\r\n  const col = getCollection(collectionName);\r\n\r\n  // Query oluştur\r\n  let q: any = col;\r\n  const queryConstraints: any[] = [];\r\n\r\n  if (constraints?.whereField && constraints?.whereOp && constraints?.whereValue !== undefined) {\r\n    queryConstraints.push(where(constraints.whereField, constraints.whereOp, constraints.whereValue));\r\n  }\r\n\r\n  if (constraints?.orderByField) {\r\n    queryConstraints.push(orderBy(constraints.orderByField, constraints.orderDirection || 'desc'));\r\n  }\r\n\r\n  if (constraints?.limitCount) {\r\n    queryConstraints.push(limit(constraints.limitCount));\r\n  }\r\n\r\n  if (queryConstraints.length > 0) {\r\n    q = firestoreQuery(col, ...queryConstraints);\r\n  }\r\n\r\n  console.log('Subscribing to Firestore collection:', collectionName);\r\n\r\n  const unsubscribe = onSnapshot(\r\n    q,\r\n    (snapshot: any) => {\r\n      const data = snapshot.docs.map((doc: any) => ({\r\n        id: doc.id,\r\n        _id: doc.id,\r\n        ...doc.data()\r\n      }));\r\n      console.log(`Firestore data received for ${collectionName}:`, data.length, 'documents');\r\n      callback(data);\r\n    },\r\n    (error: any) => {\r\n      console.error(`Firestore error for ${collectionName}:`, error);\r\n      callback([]);\r\n    }\r\n  );\r\n\r\n  return unsubscribe;\r\n};\r\n\r\n// Firestore'dan tek seferlik veri al\r\nexport const getFirestoreData = async (collectionName: string, docId?: string) => {\r\n  const normalized = normalizeCollectionName(collectionName);\r\n\r\n  if (docId) {\r\n    const docRef = doc(firestore, normalized, docId);\r\n    const docSnap = await getDoc(docRef);\r\n    return docSnap.exists() ? { id: docSnap.id, ...docSnap.data() } : null;\r\n  }\r\n\r\n  const col = collection(firestore, normalized);\r\n  const snapshot = await getDocs(col);\r\n  return snapshot.docs.map(doc => ({ id: doc.id, ...doc.data() }));\r\n};\r\n\r\n// Firestore'a veri ekle\r\nexport const addFirestoreData = async (collectionName: string, data: any) => {\r\n  const col = getCollection(collectionName);\r\n  const docRef = await addDoc(col, {\r\n    ...data,\r\n    createdAt: Timestamp.now(),\r\n    updatedAt: Timestamp.now(),\r\n  });\r\n  return docRef.id;\r\n};\r\n\r\n// Firestore'da veri güncelle\r\nexport const updateFirestoreData = async (collectionName: string, docId: string, data: any) => {\r\n  const normalized = normalizeCollectionName(collectionName);\r\n  const docRef = doc(firestore, normalized, docId);\r\n  await updateDoc(docRef, {\r\n    ...data,\r\n    updatedAt: Timestamp.now(),\r\n  });\r\n};\r\n\r\n// Firestore'dan veri sil\r\nexport const deleteFirestoreData = async (collectionName: string, docId: string) => {\r\n  const normalized = normalizeCollectionName(collectionName);\r\n  const docRef = doc(firestore, normalized, docId);\r\n  await deleteDoc(docRef);\r\n};\r\n\r\nexport {\r\n  app, auth, database, firestore,\r\n  ref, get, set, push, update, remove, onValue, query, orderByChild, equalTo,\r\n  collection, doc, getDoc, getDocs, addDoc, updateDoc, deleteDoc, onSnapshot,\r\n  firestoreQuery as fsQuery, where, orderBy, limit, Timestamp\r\n};\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 863, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Sahin/Desktop/kasa-pro/src/components/ui/label.tsx"],"sourcesContent":["import * as React from 'react';\r\nimport { cn } from '@/lib/utils';\r\n\r\nexport interface LabelProps extends React.LabelHTMLAttributes<HTMLLabelElement> {}\r\n\r\nconst Label = React.forwardRef<HTMLLabelElement, LabelProps>(\r\n  ({ className, ...props }, ref) => (\r\n    <label\r\n      ref={ref}\r\n      className={cn(\r\n        'text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70',\r\n        className\r\n      )}\r\n      {...props}\r\n    />\r\n  )\r\n);\r\nLabel.displayName = 'Label';\r\n\r\nexport { Label };\r\n"],"names":[],"mappings":";;;;;AAAA;AACA;;;;AAIA,MAAM,sBAAQ,mNAAgB,CAC5B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBACxB,8OAAC;QACC,KAAK;QACL,WAAW,IAAA,yHAAE,EACX,8FACA;QAED,GAAG,KAAK;;;;;;AAIf,MAAM,WAAW,GAAG"}},
    {"offset": {"line": 888, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Sahin/Desktop/kasa-pro/src/components/ui/textarea.tsx"],"sourcesContent":["import * as React from 'react';\r\nimport { cn } from '@/lib/utils';\r\n\r\nexport interface TextareaProps extends React.TextareaHTMLAttributes<HTMLTextAreaElement> {}\r\n\r\nconst Textarea = React.forwardRef<HTMLTextAreaElement, TextareaProps>(\r\n  ({ className, ...props }, ref) => {\r\n    return (\r\n      <textarea\r\n        className={cn(\r\n          'flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50',\r\n          className\r\n        )}\r\n        ref={ref}\r\n        {...props}\r\n      />\r\n    );\r\n  }\r\n);\r\nTextarea.displayName = 'Textarea';\r\n\r\nexport { Textarea };\r\n"],"names":[],"mappings":";;;;;AAAA;AACA;;;;AAIA,MAAM,yBAAW,mNAAgB,CAC/B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE;IACxB,qBACE,8OAAC;QACC,WAAW,IAAA,yHAAE,EACX,wSACA;QAEF,KAAK;QACJ,GAAG,KAAK;;;;;;AAGf;AAEF,SAAS,WAAW,GAAG"}},
    {"offset": {"line": 915, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Sahin/Desktop/kasa-pro/src/components/ui/checkbox.tsx"],"sourcesContent":["'use client';\n\nimport * as React from 'react';\nimport * as CheckboxPrimitive from '@radix-ui/react-checkbox';\nimport { Check } from 'lucide-react';\n\nimport { cn } from '@/lib/utils';\n\nconst Checkbox = React.forwardRef<\n  React.ElementRef<typeof CheckboxPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof CheckboxPrimitive.Root>\n>(({ className, ...props }, ref) => (\n  <CheckboxPrimitive.Root\n    ref={ref}\n    className={cn(\n      'peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground',\n      className\n    )}\n    {...props}\n  >\n    <CheckboxPrimitive.Indicator className={cn('flex items-center justify-center text-current')}>\n      <Check className=\"h-4 w-4\" />\n    </CheckboxPrimitive.Indicator>\n  </CheckboxPrimitive.Root>\n));\nCheckbox.displayName = CheckboxPrimitive.Root.displayName;\n\nexport { Checkbox };\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAEA;AANA;;;;;;AAQA,MAAM,yBAAW,mNAAgB,CAG/B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC,4KAAsB;QACrB,KAAK;QACL,WAAW,IAAA,yHAAE,EACX,kTACA;QAED,GAAG,KAAK;kBAET,cAAA,8OAAC,iLAA2B;YAAC,WAAW,IAAA,yHAAE,EAAC;sBACzC,cAAA,8OAAC,6MAAK;gBAAC,WAAU;;;;;;;;;;;;;;;;AAIvB,SAAS,WAAW,GAAG,4KAAsB,CAAC,WAAW"}},
    {"offset": {"line": 959, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Sahin/Desktop/kasa-pro/src/components/ui/dialog.tsx"],"sourcesContent":["'use client';\r\n\r\nimport * as React from 'react';\r\nimport { X } from 'lucide-react';\r\nimport { cn } from '@/lib/utils';\r\n\r\ninterface DialogProps {\r\n  open: boolean;\r\n  onOpenChange: (open: boolean) => void;\r\n  children: React.ReactNode;\r\n}\r\n\r\ninterface DialogContentProps {\r\n  children: React.ReactNode;\r\n  className?: string;\r\n}\r\n\r\ninterface DialogHeaderProps {\r\n  children: React.ReactNode;\r\n  className?: string;\r\n}\r\n\r\ninterface DialogTitleProps {\r\n  children: React.ReactNode;\r\n  className?: string;\r\n}\r\n\r\ninterface DialogDescriptionProps {\r\n  children: React.ReactNode;\r\n  className?: string;\r\n}\r\n\r\ninterface DialogFooterProps {\r\n  children: React.ReactNode;\r\n  className?: string;\r\n}\r\n\r\nconst DialogContext = React.createContext<{\r\n  open: boolean;\r\n  onOpenChange: (open: boolean) => void;\r\n}>({\r\n  open: false,\r\n  onOpenChange: () => {},\r\n});\r\n\r\nexport function Dialog({ open, onOpenChange, children }: DialogProps) {\r\n  return (\r\n    <DialogContext.Provider value={{ open, onOpenChange }}>\r\n      {children}\r\n    </DialogContext.Provider>\r\n  );\r\n}\r\n\r\nexport function DialogContent({ children, className }: DialogContentProps) {\r\n  const { open, onOpenChange } = React.useContext(DialogContext);\r\n\r\n  if (!open) return null;\r\n\r\n  return (\r\n    <div className=\"fixed inset-0 z-50 flex items-center justify-center\">\r\n      {/* Backdrop */}\r\n      <div\r\n        className=\"fixed inset-0 bg-black/50 backdrop-blur-sm\"\r\n        onClick={() => onOpenChange(false)}\r\n      />\r\n      {/* Content */}\r\n      <div\r\n        className={cn(\r\n          'relative z-50 w-full max-w-lg max-h-[90vh] overflow-auto rounded-lg bg-background p-6 shadow-lg border',\r\n          className\r\n        )}\r\n      >\r\n        <button\r\n          onClick={() => onOpenChange(false)}\r\n          className=\"absolute right-4 top-4 rounded-sm opacity-70 hover:opacity-100 transition-opacity\"\r\n        >\r\n          <X className=\"h-4 w-4\" />\r\n          <span className=\"sr-only\">Kapat</span>\r\n        </button>\r\n        {children}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport function DialogHeader({ children, className }: DialogHeaderProps) {\r\n  return (\r\n    <div className={cn('flex flex-col space-y-1.5 text-center sm:text-left mb-4', className)}>\r\n      {children}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport function DialogTitle({ children, className }: DialogTitleProps) {\r\n  return (\r\n    <h2 className={cn('text-lg font-semibold leading-none tracking-tight', className)}>\r\n      {children}\r\n    </h2>\r\n  );\r\n}\r\n\r\nexport function DialogDescription({ children, className }: DialogDescriptionProps) {\r\n  return (\r\n    <p className={cn('text-sm text-muted-foreground', className)}>\r\n      {children}\r\n    </p>\r\n  );\r\n}\r\n\r\nexport function DialogFooter({ children, className }: DialogFooterProps) {\r\n  return (\r\n    <div className={cn('flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2 mt-6', className)}>\r\n      {children}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport function DialogTrigger({ children, asChild }: { children: React.ReactNode; asChild?: boolean }) {\r\n  const { onOpenChange } = React.useContext(DialogContext);\r\n\r\n  if (asChild && React.isValidElement(children)) {\r\n    return React.cloneElement(children as React.ReactElement<any>, {\r\n      onClick: () => onOpenChange(true),\r\n    });\r\n  }\r\n\r\n  return (\r\n    <button onClick={() => onOpenChange(true)}>\r\n      {children}\r\n    </button>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAEA;AACA;AACA;AAJA;;;;;AAqCA,MAAM,8BAAgB,sNAAmB,CAGtC;IACD,MAAM;IACN,cAAc,KAAO;AACvB;AAEO,SAAS,OAAO,EAAE,IAAI,EAAE,YAAY,EAAE,QAAQ,EAAe;IAClE,qBACE,8OAAC,cAAc,QAAQ;QAAC,OAAO;YAAE;YAAM;QAAa;kBACjD;;;;;;AAGP;AAEO,SAAS,cAAc,EAAE,QAAQ,EAAE,SAAS,EAAsB;IACvE,MAAM,EAAE,IAAI,EAAE,YAAY,EAAE,GAAG,mNAAgB,CAAC;IAEhD,IAAI,CAAC,MAAM,OAAO;IAElB,qBACE,8OAAC;QAAI,WAAU;;0BAEb,8OAAC;gBACC,WAAU;gBACV,SAAS,IAAM,aAAa;;;;;;0BAG9B,8OAAC;gBACC,WAAW,IAAA,yHAAE,EACX,0GACA;;kCAGF,8OAAC;wBACC,SAAS,IAAM,aAAa;wBAC5B,WAAU;;0CAEV,8OAAC,iMAAC;gCAAC,WAAU;;;;;;0CACb,8OAAC;gCAAK,WAAU;0CAAU;;;;;;;;;;;;oBAE3B;;;;;;;;;;;;;AAIT;AAEO,SAAS,aAAa,EAAE,QAAQ,EAAE,SAAS,EAAqB;IACrE,qBACE,8OAAC;QAAI,WAAW,IAAA,yHAAE,EAAC,2DAA2D;kBAC3E;;;;;;AAGP;AAEO,SAAS,YAAY,EAAE,QAAQ,EAAE,SAAS,EAAoB;IACnE,qBACE,8OAAC;QAAG,WAAW,IAAA,yHAAE,EAAC,qDAAqD;kBACpE;;;;;;AAGP;AAEO,SAAS,kBAAkB,EAAE,QAAQ,EAAE,SAAS,EAA0B;IAC/E,qBACE,8OAAC;QAAE,WAAW,IAAA,yHAAE,EAAC,iCAAiC;kBAC/C;;;;;;AAGP;AAEO,SAAS,aAAa,EAAE,QAAQ,EAAE,SAAS,EAAqB;IACrE,qBACE,8OAAC;QAAI,WAAW,IAAA,yHAAE,EAAC,sEAAsE;kBACtF;;;;;;AAGP;AAEO,SAAS,cAAc,EAAE,QAAQ,EAAE,OAAO,EAAoD;IACnG,MAAM,EAAE,YAAY,EAAE,GAAG,mNAAgB,CAAC;IAE1C,IAAI,yBAAW,uNAAoB,CAAC,WAAW;QAC7C,qBAAO,qNAAkB,CAAC,UAAqC;YAC7D,SAAS,IAAM,aAAa;QAC9B;IACF;IAEA,qBACE,8OAAC;QAAO,SAAS,IAAM,aAAa;kBACjC;;;;;;AAGP"}},
    {"offset": {"line": 1117, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Sahin/Desktop/kasa-pro/src/components/ui/tabs.tsx"],"sourcesContent":["'use client';\n\nimport * as React from 'react';\nimport * as TabsPrimitive from '@radix-ui/react-tabs';\n\nimport { cn } from '@/lib/utils';\n\nconst Tabs = TabsPrimitive.Root;\n\nconst TabsList = React.forwardRef<\n  React.ElementRef<typeof TabsPrimitive.List>,\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.List>\n>(({ className, ...props }, ref) => (\n  <TabsPrimitive.List\n    ref={ref}\n    className={cn(\n      'inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground',\n      className\n    )}\n    {...props}\n  />\n));\nTabsList.displayName = TabsPrimitive.List.displayName;\n\nconst TabsTrigger = React.forwardRef<\n  React.ElementRef<typeof TabsPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.Trigger>\n>(({ className, ...props }, ref) => (\n  <TabsPrimitive.Trigger\n    ref={ref}\n    className={cn(\n      'inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm',\n      className\n    )}\n    {...props}\n  />\n));\nTabsTrigger.displayName = TabsPrimitive.Trigger.displayName;\n\nconst TabsContent = React.forwardRef<\n  React.ElementRef<typeof TabsPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.Content>\n>(({ className, ...props }, ref) => (\n  <TabsPrimitive.Content\n    ref={ref}\n    className={cn(\n      'mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2',\n      className\n    )}\n    {...props}\n  />\n));\nTabsContent.displayName = TabsPrimitive.Content.displayName;\n\nexport { Tabs, TabsList, TabsTrigger, TabsContent };\n"],"names":[],"mappings":";;;;;;;;;;;AAEA;AACA;AAEA;AALA;;;;;AAOA,MAAM,OAAO,wKAAkB;AAE/B,MAAM,yBAAW,mNAAgB,CAG/B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC,wKAAkB;QACjB,KAAK;QACL,WAAW,IAAA,yHAAE,EACX,8FACA;QAED,GAAG,KAAK;;;;;;AAGb,SAAS,WAAW,GAAG,wKAAkB,CAAC,WAAW;AAErD,MAAM,4BAAc,mNAAgB,CAGlC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC,2KAAqB;QACpB,KAAK;QACL,WAAW,IAAA,yHAAE,EACX,uYACA;QAED,GAAG,KAAK;;;;;;AAGb,YAAY,WAAW,GAAG,2KAAqB,CAAC,WAAW;AAE3D,MAAM,4BAAc,mNAAgB,CAGlC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC,2KAAqB;QACpB,KAAK;QACL,WAAW,IAAA,yHAAE,EACX,mIACA;QAED,GAAG,KAAK;;;;;;AAGb,YAAY,WAAW,GAAG,2KAAqB,CAAC,WAAW"}},
    {"offset": {"line": 1172, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Sahin/Desktop/kasa-pro/src/components/dialogs/product-dialog.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useEffect, useMemo } from 'react';\nimport { Button } from '@/components/ui/button';\nimport { Input } from '@/components/ui/input';\nimport { Label } from '@/components/ui/label';\nimport {\n  Select,\n  SelectContent,\n  SelectItem,\n  SelectTrigger,\n  SelectValue,\n} from '@/components/ui/select';\nimport { Textarea } from '@/components/ui/textarea';\nimport { Checkbox } from '@/components/ui/checkbox';\nimport {\n  Dialog,\n  DialogContent,\n  DialogHeader,\n  DialogTitle,\n} from '@/components/ui/dialog';\nimport {\n  Tabs,\n  TabsContent,\n  TabsList,\n  TabsTrigger,\n} from '@/components/ui/tabs';\nimport { addFirestoreData, updateFirestoreData, subscribeToFirestore } from '@/services/firebase';\nimport { Loader2, Plus, Trash2, Package, Calculator, AlertTriangle, CheckCircle } from 'lucide-react';\n\n// =================== SLOVENIA DDV CATEGORIES (2025) ===================\nconst DDV_CATEGORIES = {\n  // DDV %9.5 - İndirimli Oran (Gıda & Tarım)\n  'Et ve Et Urunleri': { rate: 9.5, description: 'Dana, kuzu, sigir, tavuk vb. et urunleri' },\n  'Sarkuteri': { rate: 9.5, description: 'Sosis, sucuk, salam, jambon vb.' },\n  'Sut Urunleri': { rate: 9.5, description: 'Sut, peynir, yogurt, tereyagi vb.' },\n  'Ekmek ve Firin Urunleri': { rate: 9.5, description: 'Ekmek, pasta, kek, unlu mamuller' },\n  'Meyve ve Sebze': { rate: 9.5, description: 'Taze, dondurulmus, konserve meyve/sebze' },\n  'Baklagiller ve Tahillar': { rate: 9.5, description: 'Mercimek, nohut, pirinc, bulgur vb.' },\n  'Yaglar ve Soslar': { rate: 9.5, description: 'Zeytinyagi, aycicek yagi, sos, ketcap vb.' },\n  'Sekersiz Icecekler': { rate: 9.5, description: 'Su, mineralli su, meyve suyu (sekersiz)' },\n  'Tarimsal Urunler': { rate: 9.5, description: 'Tohum, gubre, tarim ekipmanlari' },\n  'Hasta Mamasi ve Diyet Urunleri': { rate: 9.5, description: 'Bebek mamasi, tibbi gidalar' },\n  'Temel Gidalar': { rate: 9.5, description: 'Temel gida maddeleri, un, seker' },\n\n  // DDV %22 - Standart Oran\n  'Alkollu Icecekler': { rate: 22.0, description: 'Bira, sarap, votka, raki vb.' },\n  'Sekerli Icecekler': { rate: 22.0, description: 'Kola, gazoz, enerji icecegi' },\n  'Temizlik Urunleri': { rate: 22.0, description: 'Deterjan, sabun, sampuan' },\n  'Kirtasiye': { rate: 22.0, description: 'Defter, kalem, dosya, ofis malzemeleri' },\n  'Elektronik': { rate: 22.0, description: 'Telefon, bilgisayar, TV, beyaz esya' },\n  'Giyim': { rate: 22.0, description: 'Kiyafet, ayakkabi, aksesuar' },\n  'Ev Esyalari': { rate: 22.0, description: 'Mobilya, dekorasyon, mutfak esyalari' },\n  'Kozmetik': { rate: 22.0, description: 'Makyaj malzemeleri, parfum' },\n  'Oyuncak ve Hobiler': { rate: 22.0, description: 'Oyuncaklar, spor malzemeleri' },\n  'Diger': { rate: 22.0, description: 'Diger standart DDV\\'ye tabi urunler' },\n\n  // DDV %5 - Süper İndirimli\n  'Kitap ve Yayinlar': { rate: 5.0, description: 'Basili kitaplar, e-kitaplar, gazeteler' },\n  'Egitim Materyalleri': { rate: 5.0, description: 'Ders kitaplari, egitim yazilimlari' },\n\n  // DDV %0 - İstisna\n  'Ilac ve Tibbi Malzemeler': { rate: 0.0, description: 'Receteli ilaclar, tibbi cihazlar' },\n  'Ihracat ve AB Ici Tedarik': { rate: 0.0, description: 'Disa satis, AB ici ticaret' },\n};\n\n// Units\nconst UNITS = [\n  { value: 'adet', label: 'Adet' },\n  { value: 'kg', label: 'Kilogram (kg)' },\n  { value: 'g', label: 'Gram (g)' },\n  { value: 'lt', label: 'Litre (lt)' },\n  { value: 'ml', label: 'Mililitre (ml)' },\n  { value: 'paket', label: 'Paket' },\n  { value: 'kutu', label: 'Kutu' },\n  { value: 'm', label: 'Metre (m)' },\n];\n\n// Target Customer Types\nconst TARGET_CUSTOMERS = [\n  { value: 'both', label: 'Her Ikisi' },\n  { value: 'market', label: 'Market' },\n  { value: 'kasap', label: 'Kasap' },\n];\n\ninterface Product {\n  id: string;\n  basic?: {\n    name?: string;\n    sku?: string;\n    description?: string;\n    category?: string;\n    subcategory?: string;\n    targetCustomer?: string;\n    brand?: string;\n    manufacturer?: string;\n  };\n  barcodes?: {\n    mainBarcode?: string;\n    alternativeBarcodes?: Record<string, { type: string; enabled: boolean }>;\n    caseBarcode?: {\n      barcode?: string;\n      caseQuantity?: number;\n      enabled?: boolean;\n    };\n  };\n  pricing?: {\n    baseCost?: number;\n    vatRate?: number;\n    currency?: string;\n    branchPricing?: Record<string, {\n      unitPrice?: number;\n      casePrice?: number;\n      markup?: number;\n    }>;\n  };\n  stock?: {\n    unit?: string;\n    totalStock?: number;\n    branchStock?: Record<string, {\n      currentStock?: number;\n      minStock?: number;\n      location?: string;\n    }>;\n  };\n  supplier?: {\n    supplierId?: string;\n    supplierName?: string;\n    supplierSKU?: string;\n    leadTime?: number;\n    minOrderQty?: number;\n  };\n  compliance?: {\n    halalCertified?: boolean;\n    origin?: string;\n    animalWelfare?: boolean;\n    slaughterhouseId?: string;\n    veterinaryCertificate?: string;\n  };\n  declaration?: {\n    si?: string;\n    en?: string;\n  };\n  tracking?: {\n    allowNegativeStock?: boolean;\n    trackLots?: boolean;\n    trackExpiry?: boolean;\n  };\n  audit?: {\n    isActive?: boolean;\n    createdAt?: string;\n    updatedAt?: string;\n  };\n  // Flat structure support\n  name?: string;\n  barcode?: string;\n  price?: number;\n}\n\ninterface Supplier {\n  id: string;\n  basic?: { name?: string };\n  name?: string;\n}\n\ninterface Branch {\n  id: string;\n  name?: string;\n  type?: string;\n}\n\ninterface ProductDialogProps {\n  open: boolean;\n  onOpenChange: (open: boolean) => void;\n  product?: Product | null;\n  onSave?: () => void;\n}\n\n// Helper to get field from nested or flat structure\nfunction getField<T>(product: Product | null, nestedPath: string[], flatKey: string, defaultVal: T): T {\n  if (!product) return defaultVal;\n\n  let value: any = product;\n  for (const key of nestedPath) {\n    if (value && typeof value === 'object' && key in value) {\n      value = value[key];\n    } else {\n      value = undefined;\n      break;\n    }\n  }\n  if (value !== undefined && value !== null) return value as T;\n\n  const flatValue = (product as any)[flatKey];\n  if (flatValue !== undefined && flatValue !== null) return flatValue as T;\n\n  return defaultVal;\n}\n\n// Validation message component\nfunction ValidationMessage({ errors, warnings }: { errors: string[]; warnings: string[] }) {\n  if (errors.length === 0 && warnings.length === 0) {\n    return (\n      <div className=\"flex items-center gap-2 px-3 py-2 bg-green-50 border border-green-200 rounded-lg\">\n        <CheckCircle className=\"h-4 w-4 text-green-600\" />\n        <span className=\"text-sm text-green-700\">Hazir</span>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"space-y-2\">\n      {errors.map((err, i) => (\n        <div key={`err-${i}`} className=\"flex items-center gap-2 px-3 py-2 bg-red-50 border border-red-200 rounded-lg\">\n          <AlertTriangle className=\"h-4 w-4 text-red-600\" />\n          <span className=\"text-sm text-red-700\">{err}</span>\n        </div>\n      ))}\n      {warnings.map((warn, i) => (\n        <div key={`warn-${i}`} className=\"flex items-center gap-2 px-3 py-2 bg-amber-50 border border-amber-200 rounded-lg\">\n          <AlertTriangle className=\"h-4 w-4 text-amber-600\" />\n          <span className=\"text-sm text-amber-700\">{warn}</span>\n        </div>\n      ))}\n    </div>\n  );\n}\n\nexport function ProductDialog({ open, onOpenChange, product, onSave }: ProductDialogProps) {\n  const isEditMode = !!product;\n\n  // =================== FORM STATE ===================\n\n  // Basic info\n  const [name, setName] = useState('');\n  const [sku, setSku] = useState('');\n  const [description, setDescription] = useState('');\n  const [category, setCategory] = useState('');\n  const [subcategory, setSubcategory] = useState('');\n  const [targetCustomer, setTargetCustomer] = useState('both');\n  const [brand, setBrand] = useState('');\n  const [manufacturer, setManufacturer] = useState('');\n  const [isActive, setIsActive] = useState(true);\n\n  // Barcodes\n  const [mainBarcode, setMainBarcode] = useState('');\n  const [alternativeBarcodes, setAlternativeBarcodes] = useState<Record<string, { type: string; enabled: boolean }>>({});\n  const [newAltBarcode, setNewAltBarcode] = useState('');\n  const [newAltBarcodeType, setNewAltBarcodeType] = useState('alternative');\n  const [caseEnabled, setCaseEnabled] = useState(false);\n  const [caseBarcode, setCaseBarcode] = useState('');\n  const [caseQuantity, setCaseQuantity] = useState('12');\n\n  // Pricing\n  const [baseCost, setBaseCost] = useState('');\n  const [vatRate, setVatRate] = useState('9.5');\n  const [currency, setCurrency] = useState('EUR');\n  const [marginPercent, setMarginPercent] = useState(40);\n  const [branchPricing, setBranchPricing] = useState<Record<string, { unitPrice: string; casePrice: string }>>({});\n\n  // Stock\n  const [unit, setUnit] = useState('adet');\n  const [branchStock, setBranchStock] = useState<Record<string, { currentStock: string; minStock: string; location: string }>>({});\n\n  // Supplier\n  const [supplierId, setSupplierId] = useState('');\n  const [supplierName, setSupplierName] = useState('');\n  const [supplierSKU, setSupplierSKU] = useState('');\n  const [leadTime, setLeadTime] = useState('2');\n  const [minOrderQty, setMinOrderQty] = useState('10');\n\n  // Compliance (for meat products)\n  const [halalCertified, setHalalCertified] = useState(false);\n  const [animalWelfare, setAnimalWelfare] = useState(false);\n  const [origin, setOrigin] = useState('Slovenia');\n  const [slaughterhouseId, setSlaughterhouseId] = useState('');\n  const [vetCertificate, setVetCertificate] = useState('');\n\n  // Declaration\n  const [declarationSI, setDeclarationSI] = useState('');\n  const [declarationEN, setDeclarationEN] = useState('');\n\n  // Tracking\n  const [allowNegativeStock, setAllowNegativeStock] = useState(false);\n  const [trackLots, setTrackLots] = useState(false);\n  const [trackExpiry, setTrackExpiry] = useState(false);\n\n  // External data\n  const [suppliers, setSuppliers] = useState<Supplier[]>([]);\n  const [branches, setBranches] = useState<Branch[]>([]);\n  const [subcategories, setSubcategories] = useState<string[]>([]);\n\n  // UI state\n  const [saving, setSaving] = useState(false);\n  const [showPriceCalculator, setShowPriceCalculator] = useState(false);\n\n  // =================== LOAD EXTERNAL DATA ===================\n\n  useEffect(() => {\n    const unsubSuppliers = subscribeToFirestore('suppliers', (data) => {\n      setSuppliers(data || []);\n    });\n\n    const unsubBranches = subscribeToFirestore('branches', (data) => {\n      setBranches(data || []);\n    });\n\n    const unsubSubcategories = subscribeToFirestore('subcategories', (data) => {\n      // Subcategories are stored per parent category\n      if (category && data) {\n        const catData = data.find((d: any) => d.id === category || d.categoryName === category);\n        if (catData?.subcategories) {\n          setSubcategories(catData.subcategories);\n        } else {\n          setSubcategories([]);\n        }\n      }\n    });\n\n    return () => {\n      unsubSuppliers();\n      unsubBranches();\n      unsubSubcategories();\n    };\n  }, [category]);\n\n  // Initialize branch pricing/stock when branches load\n  useEffect(() => {\n    if (branches.length > 0 && Object.keys(branchPricing).length === 0) {\n      const initialPricing: Record<string, { unitPrice: string; casePrice: string }> = {};\n      const initialStock: Record<string, { currentStock: string; minStock: string; location: string }> = {};\n\n      branches.forEach(branch => {\n        if (branch.type !== 'warehouse') {\n          initialPricing[branch.id] = { unitPrice: '', casePrice: '' };\n        }\n        initialStock[branch.id] = { currentStock: '0', minStock: '10', location: '' };\n      });\n\n      setBranchPricing(initialPricing);\n      setBranchStock(initialStock);\n    }\n  }, [branches]);\n\n  // =================== AUTO DDV RATE ===================\n\n  useEffect(() => {\n    if (category && DDV_CATEGORIES[category as keyof typeof DDV_CATEGORIES]) {\n      const ddvInfo = DDV_CATEGORIES[category as keyof typeof DDV_CATEGORIES];\n      setVatRate(ddvInfo.rate.toString());\n    }\n  }, [category]);\n\n  // =================== VALIDATION ===================\n\n  const validation = useMemo(() => {\n    const errors: string[] = [];\n    const warnings: string[] = [];\n\n    if (!name.trim()) errors.push('Urun adi zorunlu');\n    if (!category) errors.push('Kategori secilmeli');\n    if (!mainBarcode.trim()) errors.push('Ana barkod zorunlu');\n    if (!baseCost || parseFloat(baseCost) <= 0) errors.push('Maliyet fiyati 0\\'dan buyuk olmali');\n\n    // Meat product warnings\n    const meatCategories = ['Et ve Et Urunleri', 'Sarkuteri'];\n    if (meatCategories.includes(category)) {\n      if (!origin.trim()) warnings.push('Et urunleri icin mensei onerilir');\n      if (!halalCertified) warnings.push('Helal sertifikasi onerilir');\n    }\n\n    return { errors, warnings, isValid: errors.length === 0 };\n  }, [name, category, mainBarcode, baseCost, origin, halalCertified]);\n\n  // =================== MARGIN CALCULATION ===================\n\n  const calculatedPrice = useMemo(() => {\n    const cost = parseFloat(baseCost) || 0;\n    if (cost <= 0) return 0;\n\n    // Simple margin calculation: price = cost / (1 - margin%)\n    const margin = marginPercent / 100;\n    return cost / (1 - margin);\n  }, [baseCost, marginPercent]);\n\n  const marginAmount = useMemo(() => {\n    const cost = parseFloat(baseCost) || 0;\n    return calculatedPrice - cost;\n  }, [calculatedPrice, baseCost]);\n\n  // =================== RESET FORM ===================\n\n  useEffect(() => {\n    if (open) {\n      if (product) {\n        // Edit mode - load existing data\n        setName(getField(product, ['basic', 'name'], 'name', ''));\n        setSku(getField(product, ['basic', 'sku'], 'sku', ''));\n        setDescription(getField(product, ['basic', 'description'], 'description', ''));\n        setCategory(getField(product, ['basic', 'category'], 'category', ''));\n        setSubcategory(getField(product, ['basic', 'subcategory'], 'subcategory', ''));\n        setTargetCustomer(getField(product, ['basic', 'targetCustomer'], 'targetCustomer', 'both'));\n        setBrand(getField(product, ['basic', 'brand'], 'brand', ''));\n        setManufacturer(getField(product, ['basic', 'manufacturer'], 'manufacturer', ''));\n        setIsActive(getField(product, ['audit', 'isActive'], 'isActive', true));\n\n        setMainBarcode(getField(product, ['barcodes', 'mainBarcode'], 'barcode', ''));\n        setAlternativeBarcodes(getField(product, ['barcodes', 'alternativeBarcodes'], 'alternativeBarcodes', {}));\n        const caseInfo = getField<{ enabled?: boolean; barcode?: string; caseQuantity?: number }>(\n          product, ['barcodes', 'caseBarcode'], 'caseBarcode', { enabled: false }\n        );\n        setCaseEnabled(caseInfo?.enabled || false);\n        setCaseBarcode(caseInfo?.barcode || '');\n        setCaseQuantity(String(caseInfo?.caseQuantity || 12));\n\n        setBaseCost(String(getField(product, ['pricing', 'baseCost'], 'cost', '') || ''));\n        setVatRate(String(getField(product, ['pricing', 'vatRate'], 'vatRate', 9.5)));\n        setCurrency(getField(product, ['pricing', 'currency'], 'currency', 'EUR'));\n\n        setUnit(getField(product, ['stock', 'unit'], 'unit', 'adet'));\n\n        setSupplierId(getField(product, ['supplier', 'supplierId'], 'supplierId', ''));\n        setSupplierName(getField(product, ['supplier', 'supplierName'], 'supplierName', ''));\n        setSupplierSKU(getField(product, ['supplier', 'supplierSKU'], 'supplierSKU', ''));\n        setLeadTime(String(getField(product, ['supplier', 'leadTime'], 'leadTime', 2)));\n        setMinOrderQty(String(getField(product, ['supplier', 'minOrderQty'], 'minOrderQty', 10)));\n\n        setHalalCertified(getField(product, ['compliance', 'halalCertified'], 'halalCertified', false));\n        setAnimalWelfare(getField(product, ['compliance', 'animalWelfare'], 'animalWelfare', false));\n        setOrigin(getField(product, ['compliance', 'origin'], 'origin', 'Slovenia'));\n        setSlaughterhouseId(getField(product, ['compliance', 'slaughterhouseId'], 'slaughterhouseId', ''));\n        setVetCertificate(getField(product, ['compliance', 'veterinaryCertificate'], 'veterinaryCertificate', ''));\n\n        setDeclarationSI(getField(product, ['declaration', 'si'], 'declarationSI', ''));\n        setDeclarationEN(getField(product, ['declaration', 'en'], 'declarationEN', ''));\n\n        setAllowNegativeStock(getField(product, ['tracking', 'allowNegativeStock'], 'allowNegativeStock', false));\n        setTrackLots(getField(product, ['tracking', 'trackLots'], 'trackLots', false));\n        setTrackExpiry(getField(product, ['tracking', 'trackExpiry'], 'trackExpiry', false));\n\n        // Load branch pricing and stock\n        const existingBranchPricing = getField(product, ['pricing', 'branchPricing'], 'branchPricing', {});\n        const existingBranchStock = getField(product, ['stock', 'branchStock'], 'branchStock', {});\n\n        const pricingState: Record<string, { unitPrice: string; casePrice: string }> = {};\n        const stockState: Record<string, { currentStock: string; minStock: string; location: string }> = {};\n\n        Object.entries(existingBranchPricing).forEach(([branchId, data]: [string, any]) => {\n          pricingState[branchId] = {\n            unitPrice: String(data?.unitPrice || ''),\n            casePrice: String(data?.casePrice || ''),\n          };\n        });\n\n        Object.entries(existingBranchStock).forEach(([branchId, data]: [string, any]) => {\n          stockState[branchId] = {\n            currentStock: String(data?.currentStock || 0),\n            minStock: String(data?.minStock || 10),\n            location: data?.location || '',\n          };\n        });\n\n        if (Object.keys(pricingState).length > 0) setBranchPricing(pricingState);\n        if (Object.keys(stockState).length > 0) setBranchStock(stockState);\n\n      } else {\n        // New product - reset form\n        setName('');\n        setSku('');\n        setDescription('');\n        setCategory('');\n        setSubcategory('');\n        setTargetCustomer('both');\n        setBrand('');\n        setManufacturer('');\n        setIsActive(true);\n        setMainBarcode('');\n        setAlternativeBarcodes({});\n        setNewAltBarcode('');\n        setCaseEnabled(false);\n        setCaseBarcode('');\n        setCaseQuantity('12');\n        setBaseCost('');\n        setVatRate('9.5');\n        setCurrency('EUR');\n        setMarginPercent(40);\n        setBranchPricing({});\n        setUnit('adet');\n        setBranchStock({});\n        setSupplierId('');\n        setSupplierName('');\n        setSupplierSKU('');\n        setLeadTime('2');\n        setMinOrderQty('10');\n        setHalalCertified(false);\n        setAnimalWelfare(false);\n        setOrigin('Slovenia');\n        setSlaughterhouseId('');\n        setVetCertificate('');\n        setDeclarationSI('');\n        setDeclarationEN('');\n        setAllowNegativeStock(false);\n        setTrackLots(false);\n        setTrackExpiry(false);\n        setShowPriceCalculator(false);\n      }\n    }\n  }, [open, product]);\n\n  // =================== HANDLERS ===================\n\n  const handleAddAltBarcode = () => {\n    if (!newAltBarcode.trim()) return;\n    if (alternativeBarcodes[newAltBarcode]) {\n      alert('Bu barkod zaten ekli!');\n      return;\n    }\n    setAlternativeBarcodes({\n      ...alternativeBarcodes,\n      [newAltBarcode]: { type: newAltBarcodeType, enabled: true }\n    });\n    setNewAltBarcode('');\n  };\n\n  const handleRemoveAltBarcode = (barcode: string) => {\n    const updated = { ...alternativeBarcodes };\n    delete updated[barcode];\n    setAlternativeBarcodes(updated);\n  };\n\n  const handleSupplierChange = (value: string) => {\n    setSupplierId(value);\n    const supplier = suppliers.find(s => s.id === value);\n    if (supplier) {\n      setSupplierName(supplier.basic?.name || supplier.name || '');\n    }\n  };\n\n  const handleApplyCalculatedPrice = () => {\n    // Apply to all branches\n    const updated = { ...branchPricing };\n    Object.keys(updated).forEach(branchId => {\n      updated[branchId].unitPrice = calculatedPrice.toFixed(2);\n    });\n    setBranchPricing(updated);\n    setShowPriceCalculator(false);\n  };\n\n  const handleSave = async () => {\n    if (!validation.isValid) {\n      alert('Lutfen tum zorunlu alanlari doldurun!');\n      return;\n    }\n\n    setSaving(true);\n    try {\n      // Build branch pricing data\n      const branchPricingData: Record<string, any> = {};\n      Object.entries(branchPricing).forEach(([branchId, data]) => {\n        const up = parseFloat(data.unitPrice) || 0;\n        const cp = parseFloat(data.casePrice) || 0;\n        const base = parseFloat(baseCost) || 0;\n        const markup = base > 0 ? up / base : 1;\n\n        branchPricingData[branchId] = {\n          unitPrice: up,\n          casePrice: cp,\n          markup: parseFloat(markup.toFixed(2)),\n          promotionPrice: null,\n          promotionActive: false,\n        };\n      });\n\n      // Build branch stock data\n      const branchStockData: Record<string, any> = {};\n      let totalStock = 0;\n      Object.entries(branchStock).forEach(([branchId, data]) => {\n        const current = parseFloat(data.currentStock) || 0;\n        const min = parseFloat(data.minStock) || 10;\n        totalStock += current;\n\n        branchStockData[branchId] = {\n          currentStock: current,\n          minStock: min,\n          maxStock: min * 10,\n          location: data.location,\n          lastUpdate: new Date().toISOString(),\n          reorderPoint: min,\n          reorderQty: min * 2,\n        };\n      });\n\n      const productData = {\n        basic: {\n          name: name.trim(),\n          sku: sku.trim() || mainBarcode.trim(),\n          description: description.trim(),\n          category,\n          subcategory,\n          targetCustomer,\n          brand: brand.trim(),\n          manufacturer: manufacturer.trim(),\n        },\n        barcodes: {\n          mainBarcode: mainBarcode.trim(),\n          alternativeBarcodes,\n          caseBarcode: caseEnabled ? {\n            barcode: caseBarcode.trim(),\n            caseQuantity: parseInt(caseQuantity) || 12,\n            enabled: true,\n          } : { enabled: false },\n        },\n        pricing: {\n          baseCost: parseFloat(baseCost) || 0,\n          vatRate: parseFloat(vatRate) || 9.5,\n          currency,\n          branchPricing: branchPricingData,\n        },\n        stock: {\n          unit,\n          totalStock,\n          branchStock: branchStockData,\n        },\n        supplier: {\n          supplierId,\n          supplierName: supplierName.trim(),\n          supplierSKU: supplierSKU.trim(),\n          leadTime: parseInt(leadTime) || 2,\n          minOrderQty: parseInt(minOrderQty) || 10,\n          lastPurchasePrice: parseFloat(baseCost) || 0,\n          lastPurchaseDate: new Date().toISOString(),\n          preferredSupplier: true,\n        },\n        compliance: {\n          halalCertified,\n          animalWelfare,\n          origin: origin.trim(),\n          slaughterhouseId: slaughterhouseId.trim(),\n          veterinaryCertificate: vetCertificate.trim(),\n          allergens: [],\n        },\n        declaration: {\n          si: declarationSI.trim(),\n          en: declarationEN.trim(),\n        },\n        tracking: {\n          trackInventory: true,\n          batchTracking: trackLots,\n          expiryTracking: trackExpiry,\n          serialTracking: false,\n          allowNegativeStock,\n          allowBackorder: false,\n        },\n        audit: {\n          isActive,\n          updatedAt: new Date().toISOString(),\n        },\n      };\n\n      if (isEditMode && product?.id) {\n        await updateFirestoreData('products', product.id, productData);\n      } else {\n        await addFirestoreData('products', {\n          ...productData,\n          audit: {\n            ...productData.audit,\n            createdAt: new Date().toISOString(),\n          },\n        });\n      }\n\n      onOpenChange(false);\n      onSave?.();\n    } catch (error) {\n      console.error('Save error:', error);\n      alert('Kaydetme hatasi: ' + (error as Error).message);\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  // =================== RENDER ===================\n\n  const categoryOptions = Object.keys(DDV_CATEGORIES);\n  const warehouse = branches.find(b => b.type === 'warehouse');\n  const storeBranches = branches.filter(b => b.type !== 'warehouse');\n\n  return (\n    <Dialog open={open} onOpenChange={onOpenChange}>\n      <DialogContent className=\"max-w-5xl max-h-[90vh] overflow-hidden flex flex-col\">\n        <DialogHeader className=\"border-b pb-4\">\n          <DialogTitle className=\"text-xl font-semibold\">\n            {isEditMode ? 'Urun Duzenle' : 'Yeni Urun Ekle'}\n          </DialogTitle>\n          <p className=\"text-sm text-gray-500 mt-1\">\n            {isEditMode ? 'Urun bilgilerini guncelleyin' : 'Yeni urun eklemek icin formu doldurun'}\n          </p>\n        </DialogHeader>\n\n        <div className=\"flex-1 overflow-y-auto py-4\">\n          <Tabs defaultValue=\"basic\" className=\"w-full\">\n            <TabsList className=\"grid w-full grid-cols-4 mb-4\">\n              <TabsTrigger value=\"basic\">Temel Bilgiler</TabsTrigger>\n              <TabsTrigger value=\"pricing\">Fiyat & Stok</TabsTrigger>\n              <TabsTrigger value=\"supplier\">Tedarik & Barkod</TabsTrigger>\n              <TabsTrigger value=\"compliance\">Uyumluluk</TabsTrigger>\n            </TabsList>\n\n            {/* =================== BASIC INFO TAB =================== */}\n            <TabsContent value=\"basic\" className=\"space-y-4\">\n              <div className=\"grid grid-cols-2 gap-6\">\n                {/* Left column - Form */}\n                <div className=\"space-y-4\">\n                  <div className=\"space-y-2\">\n                    <Label htmlFor=\"name\">Urun Adi *</Label>\n                    <Input\n                      id=\"name\"\n                      value={name}\n                      onChange={(e) => setName(e.target.value)}\n                      placeholder=\"Orn: Kuzu Kiyma\"\n                      className={!name.trim() ? 'border-red-300' : ''}\n                    />\n                  </div>\n\n                  <div className=\"grid grid-cols-2 gap-4\">\n                    <div className=\"space-y-2\">\n                      <Label htmlFor=\"category\">Ust Kategori *</Label>\n                      <Select value={category} onValueChange={setCategory}>\n                        <SelectTrigger className={!category ? 'border-red-300' : ''}>\n                          <SelectValue placeholder=\"Kategori secin\" />\n                        </SelectTrigger>\n                        <SelectContent className=\"max-h-[300px]\">\n                          {categoryOptions.map((cat) => {\n                            const info = DDV_CATEGORIES[cat as keyof typeof DDV_CATEGORIES];\n                            return (\n                              <SelectItem key={cat} value={cat}>\n                                <div className=\"flex items-center justify-between w-full\">\n                                  <span>{cat}</span>\n                                  <span className=\"text-xs text-gray-500 ml-2\">%{info.rate}</span>\n                                </div>\n                              </SelectItem>\n                            );\n                          })}\n                        </SelectContent>\n                      </Select>\n                      {category && (\n                        <p className=\"text-xs text-gray-500\">\n                          DDV: %{DDV_CATEGORIES[category as keyof typeof DDV_CATEGORIES]?.rate} - {DDV_CATEGORIES[category as keyof typeof DDV_CATEGORIES]?.description}\n                        </p>\n                      )}\n                    </div>\n\n                    <div className=\"space-y-2\">\n                      <Label htmlFor=\"subcategory\">Alt Kategori</Label>\n                      <div className=\"flex gap-2\">\n                        <Select value={subcategory} onValueChange={setSubcategory} disabled={!category}>\n                          <SelectTrigger className=\"flex-1\">\n                            <SelectValue placeholder=\"Alt kategori secin\" />\n                          </SelectTrigger>\n                          <SelectContent>\n                            {subcategories.map((sub) => (\n                              <SelectItem key={sub} value={sub}>{sub}</SelectItem>\n                            ))}\n                          </SelectContent>\n                        </Select>\n                        <Button variant=\"outline\" size=\"icon\" disabled={!category}>\n                          <Plus className=\"h-4 w-4\" />\n                        </Button>\n                      </div>\n                    </div>\n                  </div>\n\n                  <div className=\"space-y-2\">\n                    <Label>Hedef Musteri</Label>\n                    <div className=\"flex gap-2\">\n                      {TARGET_CUSTOMERS.map((tc) => (\n                        <Button\n                          key={tc.value}\n                          type=\"button\"\n                          variant={targetCustomer === tc.value ? 'default' : 'outline'}\n                          size=\"sm\"\n                          onClick={() => setTargetCustomer(tc.value)}\n                          className=\"flex-1\"\n                        >\n                          {tc.value === 'market' && '🏪 '}\n                          {tc.value === 'kasap' && '🥩 '}\n                          {tc.value === 'both' && '🔄 '}\n                          {tc.label}\n                        </Button>\n                      ))}\n                    </div>\n                  </div>\n\n                  <div className=\"grid grid-cols-2 gap-4\">\n                    <div className=\"space-y-2\">\n                      <Label htmlFor=\"sku\">SKU / Stok Kodu</Label>\n                      <Input\n                        id=\"sku\"\n                        value={sku}\n                        onChange={(e) => setSku(e.target.value)}\n                        placeholder=\"Orn: KM-001\"\n                      />\n                    </div>\n                    <div className=\"space-y-2\">\n                      <Label htmlFor=\"brand\">Marka</Label>\n                      <Input\n                        id=\"brand\"\n                        value={brand}\n                        onChange={(e) => setBrand(e.target.value)}\n                        placeholder=\"Marka adi\"\n                      />\n                    </div>\n                  </div>\n\n                  <div className=\"space-y-2\">\n                    <Label htmlFor=\"manufacturer\">Uretici</Label>\n                    <Input\n                      id=\"manufacturer\"\n                      value={manufacturer}\n                      onChange={(e) => setManufacturer(e.target.value)}\n                      placeholder=\"Uretici firma\"\n                    />\n                  </div>\n\n                  <div className=\"space-y-2\">\n                    <Label htmlFor=\"description\">Aciklama</Label>\n                    <Textarea\n                      id=\"description\"\n                      value={description}\n                      onChange={(e) => setDescription(e.target.value)}\n                      placeholder=\"Urun hakkinda ek bilgiler...\"\n                      rows={3}\n                    />\n                  </div>\n\n                  <div className=\"flex items-center space-x-2 pt-2\">\n                    <Checkbox\n                      id=\"isActive\"\n                      checked={isActive}\n                      onCheckedChange={(checked) => setIsActive(checked as boolean)}\n                    />\n                    <Label htmlFor=\"isActive\" className=\"font-normal\">Aktif Urun</Label>\n                  </div>\n                </div>\n\n                {/* Right column - Image placeholder */}\n                <div className=\"space-y-4\">\n                  <Label>Urun Fotografi</Label>\n                  <div className=\"border-2 border-dashed border-gray-300 rounded-lg p-8 text-center\">\n                    <Package className=\"h-16 w-16 mx-auto text-gray-400 mb-4\" />\n                    <p className=\"text-sm text-gray-500\">\n                      Foto yukleme icin tiklayiniz\n                    </p>\n                    <p className=\"text-xs text-gray-400 mt-2\">\n                      PNG, JPG (max 2MB)\n                    </p>\n                  </div>\n                </div>\n              </div>\n            </TabsContent>\n\n            {/* =================== PRICING & STOCK TAB =================== */}\n            <TabsContent value=\"pricing\" className=\"space-y-6\">\n              {/* Pricing Section */}\n              <div className=\"space-y-4\">\n                <h4 className=\"font-semibold text-gray-900 flex items-center gap-2\">\n                  <span className=\"text-lg\">💰</span> Fiyatlandirma\n                </h4>\n\n                <div className=\"grid grid-cols-3 gap-4\">\n                  <div className=\"space-y-2\">\n                    <Label htmlFor=\"baseCost\">Maliyet Fiyati (EUR) *</Label>\n                    <Input\n                      id=\"baseCost\"\n                      type=\"number\"\n                      step=\"0.01\"\n                      value={baseCost}\n                      onChange={(e) => setBaseCost(e.target.value)}\n                      placeholder=\"0.00\"\n                      className={!baseCost || parseFloat(baseCost) <= 0 ? 'border-red-300' : ''}\n                    />\n                  </div>\n                  <div className=\"space-y-2\">\n                    <Label htmlFor=\"vatRate\">DDV Orani</Label>\n                    <Select value={vatRate} onValueChange={setVatRate}>\n                      <SelectTrigger>\n                        <SelectValue />\n                      </SelectTrigger>\n                      <SelectContent>\n                        <SelectItem value=\"0\">%0 (Muaf)</SelectItem>\n                        <SelectItem value=\"5\">%5 (Super Indirimli)</SelectItem>\n                        <SelectItem value=\"9.5\">%9.5 (Indirimli)</SelectItem>\n                        <SelectItem value=\"22\">%22 (Standart)</SelectItem>\n                      </SelectContent>\n                    </Select>\n                  </div>\n                  <div className=\"space-y-2\">\n                    <Label htmlFor=\"currency\">Para Birimi</Label>\n                    <Select value={currency} onValueChange={setCurrency}>\n                      <SelectTrigger>\n                        <SelectValue />\n                      </SelectTrigger>\n                      <SelectContent>\n                        <SelectItem value=\"EUR\">EUR (€)</SelectItem>\n                        <SelectItem value=\"USD\">USD ($)</SelectItem>\n                        <SelectItem value=\"TRY\">TRY (₺)</SelectItem>\n                      </SelectContent>\n                    </Select>\n                  </div>\n                </div>\n\n                {/* Price Calculator */}\n                <div className=\"bg-blue-50 border border-blue-200 rounded-lg p-4\">\n                  <div className=\"flex items-center justify-between mb-3\">\n                    <h5 className=\"font-medium text-blue-800 flex items-center gap-2\">\n                      <Calculator className=\"h-4 w-4\" />\n                      Akilli Fiyat Hesaplayici\n                    </h5>\n                    <Button\n                      variant=\"outline\"\n                      size=\"sm\"\n                      onClick={() => setShowPriceCalculator(!showPriceCalculator)}\n                    >\n                      {showPriceCalculator ? 'Gizle' : 'Goster'}\n                    </Button>\n                  </div>\n\n                  {showPriceCalculator && (\n                    <div className=\"space-y-4\">\n                      <div className=\"space-y-2\">\n                        <div className=\"flex items-center justify-between\">\n                          <Label>Kar Marji: %{marginPercent}</Label>\n                        </div>\n                        <input\n                          type=\"range\"\n                          min=\"10\"\n                          max=\"100\"\n                          value={marginPercent}\n                          onChange={(e) => setMarginPercent(parseInt(e.target.value))}\n                          className=\"w-full\"\n                        />\n                        <div className=\"flex justify-between text-xs text-gray-500\">\n                          <span>%10 (Dusuk)</span>\n                          <span>%40 (Orta)</span>\n                          <span>%100 (Yuksek)</span>\n                        </div>\n                      </div>\n\n                      {parseFloat(baseCost) > 0 && (\n                        <div className=\"bg-white rounded-lg p-4 space-y-2\">\n                          <div className=\"flex justify-between text-sm\">\n                            <span>Maliyet:</span>\n                            <span>€{parseFloat(baseCost).toFixed(2)}</span>\n                          </div>\n                          <div className=\"flex justify-between text-sm\">\n                            <span>Kar Marji ({marginPercent}%):</span>\n                            <span className=\"text-green-600\">€{marginAmount.toFixed(2)}</span>\n                          </div>\n                          <div className=\"border-t pt-2 flex justify-between font-semibold\">\n                            <span>Onerilen Satis Fiyati:</span>\n                            <span className=\"text-blue-600 text-lg\">€{calculatedPrice.toFixed(2)}</span>\n                          </div>\n                          <Button\n                            className=\"w-full mt-2\"\n                            onClick={handleApplyCalculatedPrice}\n                            disabled={storeBranches.length === 0}\n                          >\n                            Tum Subelere Uygula\n                          </Button>\n                        </div>\n                      )}\n                    </div>\n                  )}\n                </div>\n\n                {/* Branch Pricing */}\n                <div className=\"space-y-3\">\n                  <Label>Sube Fiyatlari</Label>\n                  {storeBranches.map((branch) => (\n                    <div key={branch.id} className=\"flex items-center gap-4 bg-gray-50 rounded-lg p-3\">\n                      <span className=\"font-medium w-40\">\n                        {branch.type === 'butcher' ? '🥩' : '🏪'} {branch.name}\n                      </span>\n                      <div className=\"flex-1 flex gap-3\">\n                        <Input\n                          type=\"number\"\n                          step=\"0.01\"\n                          placeholder=\"Birim fiyat\"\n                          value={branchPricing[branch.id]?.unitPrice || ''}\n                          onChange={(e) => setBranchPricing({\n                            ...branchPricing,\n                            [branch.id]: { ...branchPricing[branch.id], unitPrice: e.target.value }\n                          })}\n                          className=\"flex-1\"\n                        />\n                        <Input\n                          type=\"number\"\n                          step=\"0.01\"\n                          placeholder=\"Kutu fiyat\"\n                          value={branchPricing[branch.id]?.casePrice || ''}\n                          onChange={(e) => setBranchPricing({\n                            ...branchPricing,\n                            [branch.id]: { ...branchPricing[branch.id], casePrice: e.target.value }\n                          })}\n                          className=\"flex-1\"\n                        />\n                      </div>\n                    </div>\n                  ))}\n                </div>\n              </div>\n\n              {/* Stock Section */}\n              <div className=\"space-y-4 border-t pt-6\">\n                <h4 className=\"font-semibold text-gray-900 flex items-center gap-2\">\n                  <span className=\"text-lg\">📦</span> Stok Ayarlari\n                </h4>\n\n                <div className=\"bg-blue-50 border border-blue-200 rounded-lg p-3\">\n                  <p className=\"text-sm text-blue-800\">\n                    <strong>Bilgi:</strong> Urun stoku sadece Merkez Depo'ya girilebilir. Subelere dagitim transfer sistemi ile yapilir.\n                  </p>\n                </div>\n\n                <div className=\"space-y-2\">\n                  <Label htmlFor=\"unit\">Birim</Label>\n                  <Select value={unit} onValueChange={setUnit}>\n                    <SelectTrigger className=\"w-[200px]\">\n                      <SelectValue />\n                    </SelectTrigger>\n                    <SelectContent>\n                      {UNITS.map((u) => (\n                        <SelectItem key={u.value} value={u.value}>{u.label}</SelectItem>\n                      ))}\n                    </SelectContent>\n                  </Select>\n                </div>\n\n                {/* Warehouse Stock */}\n                {warehouse && (\n                  <div className=\"bg-green-50 border border-green-200 rounded-lg p-4 space-y-3\">\n                    <Label className=\"text-green-800 font-semibold\">🏭 Merkez Depo Stoku</Label>\n                    <div className=\"flex items-center gap-4\">\n                      <Input\n                        type=\"number\"\n                        step=\"0.1\"\n                        placeholder=\"Mevcut stok\"\n                        value={branchStock[warehouse.id]?.currentStock || '0'}\n                        onChange={(e) => setBranchStock({\n                          ...branchStock,\n                          [warehouse.id]: { ...branchStock[warehouse.id], currentStock: e.target.value }\n                        })}\n                        className=\"flex-1\"\n                      />\n                      <Input\n                        type=\"number\"\n                        step=\"0.1\"\n                        placeholder=\"Min stok\"\n                        value={branchStock[warehouse.id]?.minStock || '10'}\n                        onChange={(e) => setBranchStock({\n                          ...branchStock,\n                          [warehouse.id]: { ...branchStock[warehouse.id], minStock: e.target.value }\n                        })}\n                        className=\"flex-1\"\n                      />\n                      <Input\n                        placeholder=\"Konum/Raf\"\n                        value={branchStock[warehouse.id]?.location || ''}\n                        onChange={(e) => setBranchStock({\n                          ...branchStock,\n                          [warehouse.id]: { ...branchStock[warehouse.id], location: e.target.value }\n                        })}\n                        className=\"flex-1\"\n                      />\n                    </div>\n                  </div>\n                )}\n\n                {/* Branch Stock (readonly info) */}\n                {storeBranches.length > 0 && (\n                  <div className=\"space-y-2\">\n                    <Label className=\"text-gray-600\">Sube Stoklari (Sadece Goruntuleme)</Label>\n                    {storeBranches.map((branch) => (\n                      <div key={branch.id} className=\"flex items-center gap-4 bg-gray-50 rounded-lg p-3\">\n                        <span className=\"font-medium w-40 text-gray-600\">\n                          {branch.type === 'butcher' ? '🥩' : '🏪'} {branch.name}\n                        </span>\n                        <Input\n                          type=\"number\"\n                          placeholder=\"Stok\"\n                          value={branchStock[branch.id]?.currentStock || '0'}\n                          disabled={!isEditMode}\n                          className=\"flex-1 bg-gray-100\"\n                        />\n                        <Input\n                          type=\"number\"\n                          placeholder=\"Min\"\n                          value={branchStock[branch.id]?.minStock || '10'}\n                          onChange={(e) => setBranchStock({\n                            ...branchStock,\n                            [branch.id]: { ...branchStock[branch.id], minStock: e.target.value }\n                          })}\n                          className=\"flex-1\"\n                        />\n                        <span className=\"text-xs text-gray-500 italic\">Transfer ile</span>\n                      </div>\n                    ))}\n                  </div>\n                )}\n\n                {/* Tracking Options */}\n                <div className=\"space-y-3 pt-4\">\n                  <Label>Stok Izleme Secenekleri</Label>\n                  <div className=\"space-y-2\">\n                    <div className=\"flex items-center space-x-2\">\n                      <Checkbox\n                        id=\"allowNegativeStock\"\n                        checked={allowNegativeStock}\n                        onCheckedChange={(checked) => setAllowNegativeStock(checked as boolean)}\n                      />\n                      <Label htmlFor=\"allowNegativeStock\" className=\"font-normal\">Negatif stoka izin ver</Label>\n                    </div>\n                    <div className=\"flex items-center space-x-2\">\n                      <Checkbox\n                        id=\"trackLots\"\n                        checked={trackLots}\n                        onCheckedChange={(checked) => setTrackLots(checked as boolean)}\n                      />\n                      <Label htmlFor=\"trackLots\" className=\"font-normal\">Lot/Parti numarasi takibi</Label>\n                    </div>\n                    <div className=\"flex items-center space-x-2\">\n                      <Checkbox\n                        id=\"trackExpiry\"\n                        checked={trackExpiry}\n                        onCheckedChange={(checked) => setTrackExpiry(checked as boolean)}\n                      />\n                      <Label htmlFor=\"trackExpiry\" className=\"font-normal\">Son kullanma tarihi takibi</Label>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </TabsContent>\n\n            {/* =================== SUPPLIER & BARCODE TAB =================== */}\n            <TabsContent value=\"supplier\" className=\"space-y-6\">\n              {/* Barcode Section */}\n              <div className=\"space-y-4\">\n                <h4 className=\"font-semibold text-gray-900 flex items-center gap-2\">\n                  <span className=\"text-lg\">🔢</span> Barkod Bilgileri\n                </h4>\n\n                <div className=\"space-y-2\">\n                  <Label htmlFor=\"mainBarcode\">Ana Barkod *</Label>\n                  <Input\n                    id=\"mainBarcode\"\n                    value={mainBarcode}\n                    onChange={(e) => setMainBarcode(e.target.value)}\n                    placeholder=\"8, 12, 13 veya 14 haneli barkod\"\n                    className={`font-mono ${!mainBarcode.trim() ? 'border-red-300' : ''}`}\n                  />\n                  <p className=\"text-xs text-gray-500\">\n                    Standart: EAN-13 (13 hane), EAN-8 (8 hane), UPC (12 hane)\n                  </p>\n                </div>\n\n                {/* Alternative Barcodes */}\n                <div className=\"space-y-2\">\n                  <Label>Alternatif Barkodlar</Label>\n                  <div className=\"flex gap-2\">\n                    <Input\n                      value={newAltBarcode}\n                      onChange={(e) => setNewAltBarcode(e.target.value)}\n                      placeholder=\"Alternatif barkod\"\n                      className=\"flex-1 font-mono\"\n                    />\n                    <Select value={newAltBarcodeType} onValueChange={setNewAltBarcodeType}>\n                      <SelectTrigger className=\"w-[140px]\">\n                        <SelectValue />\n                      </SelectTrigger>\n                      <SelectContent>\n                        <SelectItem value=\"alternative\">Alternatif</SelectItem>\n                        <SelectItem value=\"supplier\">Tedarikci</SelectItem>\n                        <SelectItem value=\"internal\">Dahili</SelectItem>\n                      </SelectContent>\n                    </Select>\n                    <Button variant=\"outline\" onClick={handleAddAltBarcode}>\n                      <Plus className=\"h-4 w-4\" />\n                    </Button>\n                  </div>\n\n                  {Object.entries(alternativeBarcodes).length > 0 && (\n                    <div className=\"space-y-1 mt-2\">\n                      {Object.entries(alternativeBarcodes).map(([barcode, info]) => (\n                        <div key={barcode} className=\"flex items-center gap-2 bg-gray-50 rounded px-3 py-2\">\n                          <span className=\"font-mono flex-1\">{barcode}</span>\n                          <span className=\"text-xs text-gray-500\">({info.type})</span>\n                          <Button\n                            variant=\"ghost\"\n                            size=\"icon\"\n                            className=\"h-6 w-6\"\n                            onClick={() => handleRemoveAltBarcode(barcode)}\n                          >\n                            <Trash2 className=\"h-3 w-3 text-red-500\" />\n                          </Button>\n                        </div>\n                      ))}\n                    </div>\n                  )}\n                </div>\n\n                {/* Case Barcode */}\n                <div className=\"space-y-3 border rounded-lg p-4\">\n                  <div className=\"flex items-center space-x-2\">\n                    <Checkbox\n                      id=\"caseEnabled\"\n                      checked={caseEnabled}\n                      onCheckedChange={(checked) => setCaseEnabled(checked as boolean)}\n                    />\n                    <Label htmlFor=\"caseEnabled\" className=\"font-medium\">📦 Kutu barkodu kullan</Label>\n                  </div>\n\n                  {caseEnabled && (\n                    <div className=\"grid grid-cols-2 gap-4 pt-2\">\n                      <div className=\"space-y-2\">\n                        <Label htmlFor=\"caseBarcode\">Kutu Barkodu</Label>\n                        <Input\n                          id=\"caseBarcode\"\n                          value={caseBarcode}\n                          onChange={(e) => setCaseBarcode(e.target.value)}\n                          placeholder=\"Kutu barkodu\"\n                          className=\"font-mono\"\n                        />\n                      </div>\n                      <div className=\"space-y-2\">\n                        <Label htmlFor=\"caseQuantity\">Kutu Icindeki Adet</Label>\n                        <Input\n                          id=\"caseQuantity\"\n                          type=\"number\"\n                          value={caseQuantity}\n                          onChange={(e) => setCaseQuantity(e.target.value)}\n                          min=\"1\"\n                        />\n                      </div>\n                    </div>\n                  )}\n                </div>\n              </div>\n\n              {/* Supplier Section */}\n              <div className=\"space-y-4 border-t pt-6\">\n                <h4 className=\"font-semibold text-gray-900 flex items-center gap-2\">\n                  <span className=\"text-lg\">🏭</span> Tedarikci Bilgileri\n                </h4>\n\n                <div className=\"grid grid-cols-2 gap-4\">\n                  <div className=\"space-y-2\">\n                    <Label htmlFor=\"supplier\">Tedarikci</Label>\n                    <Select value={supplierId} onValueChange={handleSupplierChange}>\n                      <SelectTrigger>\n                        <SelectValue placeholder=\"Tedarikci secin\" />\n                      </SelectTrigger>\n                      <SelectContent>\n                        {suppliers.map((sup) => (\n                          <SelectItem key={sup.id} value={sup.id}>\n                            {sup.basic?.name || sup.name || sup.id}\n                          </SelectItem>\n                        ))}\n                      </SelectContent>\n                    </Select>\n                  </div>\n                  <div className=\"space-y-2\">\n                    <Label htmlFor=\"supplierSKU\">Tedarikci Stok Kodu</Label>\n                    <Input\n                      id=\"supplierSKU\"\n                      value={supplierSKU}\n                      onChange={(e) => setSupplierSKU(e.target.value)}\n                      placeholder=\"Tedarikcinin verdigi kod\"\n                    />\n                  </div>\n                </div>\n\n                <div className=\"grid grid-cols-2 gap-4\">\n                  <div className=\"space-y-2\">\n                    <Label htmlFor=\"leadTime\">Teslimat Suresi</Label>\n                    <div className=\"flex gap-2\">\n                      <Input\n                        id=\"leadTime\"\n                        type=\"number\"\n                        value={leadTime}\n                        onChange={(e) => setLeadTime(e.target.value)}\n                        min=\"0\"\n                        className=\"flex-1\"\n                      />\n                      <span className=\"flex items-center text-gray-500\">gun</span>\n                    </div>\n                  </div>\n                  <div className=\"space-y-2\">\n                    <Label htmlFor=\"minOrderQty\">Min. Siparis Miktari</Label>\n                    <Input\n                      id=\"minOrderQty\"\n                      type=\"number\"\n                      value={minOrderQty}\n                      onChange={(e) => setMinOrderQty(e.target.value)}\n                      min=\"1\"\n                    />\n                  </div>\n                </div>\n              </div>\n            </TabsContent>\n\n            {/* =================== COMPLIANCE TAB =================== */}\n            <TabsContent value=\"compliance\" className=\"space-y-6\">\n              {/* Meat Compliance */}\n              <div className=\"space-y-4\">\n                <h4 className=\"font-semibold text-gray-900 flex items-center gap-2\">\n                  <span className=\"text-lg\">🥩</span> Et Urunleri Uyumlulugu\n                </h4>\n\n                <div className=\"space-y-3\">\n                  <div className=\"flex items-center space-x-2\">\n                    <Checkbox\n                      id=\"halalCertified\"\n                      checked={halalCertified}\n                      onCheckedChange={(checked) => setHalalCertified(checked as boolean)}\n                    />\n                    <Label htmlFor=\"halalCertified\" className=\"font-normal\">✅ Helal Sertifikali</Label>\n                  </div>\n                  <div className=\"flex items-center space-x-2\">\n                    <Checkbox\n                      id=\"animalWelfare\"\n                      checked={animalWelfare}\n                      onCheckedChange={(checked) => setAnimalWelfare(checked as boolean)}\n                    />\n                    <Label htmlFor=\"animalWelfare\" className=\"font-normal\">🐄 Hayvan Refahi Standartlarina Uygun</Label>\n                  </div>\n                </div>\n\n                <div className=\"grid grid-cols-2 gap-4\">\n                  <div className=\"space-y-2\">\n                    <Label htmlFor=\"origin\">Mensei *</Label>\n                    <Input\n                      id=\"origin\"\n                      value={origin}\n                      onChange={(e) => setOrigin(e.target.value)}\n                      placeholder=\"Orn: Slovenia, Turkey, Germany\"\n                    />\n                  </div>\n                  <div className=\"space-y-2\">\n                    <Label htmlFor=\"slaughterhouseId\">Kesimhane ID</Label>\n                    <Input\n                      id=\"slaughterhouseId\"\n                      value={slaughterhouseId}\n                      onChange={(e) => setSlaughterhouseId(e.target.value)}\n                      placeholder=\"Kesimhane kimlik no\"\n                    />\n                  </div>\n                </div>\n\n                <div className=\"space-y-2\">\n                  <Label htmlFor=\"vetCertificate\">Veteriner Sertifika No</Label>\n                  <Input\n                    id=\"vetCertificate\"\n                    value={vetCertificate}\n                    onChange={(e) => setVetCertificate(e.target.value)}\n                    placeholder=\"Sertifika numarasi\"\n                  />\n                </div>\n\n                <div className=\"bg-blue-50 border border-blue-200 rounded-lg p-3\">\n                  <p className=\"text-sm text-blue-800\">\n                    💡 Et urunleri icin mensei ve helal sertifikasi onerilir.<br />\n                    🇪🇺 AB standartlarina uygunluk zorunludur.\n                  </p>\n                </div>\n              </div>\n\n              {/* Declaration */}\n              <div className=\"space-y-4 border-t pt-6\">\n                <h4 className=\"font-semibold text-gray-900 flex items-center gap-2\">\n                  <span className=\"text-lg\">📜</span> Deklarasyon\n                </h4>\n\n                <div className=\"space-y-4\">\n                  <div className=\"space-y-2\">\n                    <Label htmlFor=\"declarationSI\">🇸🇮 Slovence Deklarasyon</Label>\n                    <Textarea\n                      id=\"declarationSI\"\n                      value={declarationSI}\n                      onChange={(e) => setDeclarationSI(e.target.value)}\n                      placeholder=\"Sveze mlet ovcje meso. Hraniti pri 0-4°C. Uporabiti v 5 dneh.\"\n                      rows={3}\n                    />\n                  </div>\n                  <div className=\"space-y-2\">\n                    <Label htmlFor=\"declarationEN\">🇬🇧 English Declaration (Optional)</Label>\n                    <Textarea\n                      id=\"declarationEN\"\n                      value={declarationEN}\n                      onChange={(e) => setDeclarationEN(e.target.value)}\n                      placeholder=\"Fresh minced lamb. Store at 0-4°C. Use within 5 days.\"\n                      rows={3}\n                    />\n                  </div>\n                </div>\n              </div>\n            </TabsContent>\n          </Tabs>\n        </div>\n\n        {/* Footer */}\n        <div className=\"border-t pt-4 space-y-3\">\n          <ValidationMessage errors={validation.errors} warnings={validation.warnings} />\n\n          <div className=\"flex justify-end gap-3\">\n            <Button variant=\"outline\" onClick={() => onOpenChange(false)} disabled={saving}>\n              Iptal\n            </Button>\n            <Button onClick={handleSave} disabled={saving || !validation.isValid}>\n              {saving ? (\n                <>\n                  <Loader2 className=\"h-4 w-4 mr-2 animate-spin\" />\n                  Kaydediliyor...\n                </>\n              ) : (\n                'Urunu Kaydet'\n              )}\n            </Button>\n          </div>\n        </div>\n      </DialogContent>\n    </Dialog>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 4374, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Sahin/Desktop/kasa-pro/src/components/dialogs/product-card-dialog.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useEffect, useMemo } from 'react';\nimport { Button } from '@/components/ui/button';\nimport {\n  Dialog,\n  DialogContent,\n  DialogHeader,\n  DialogTitle,\n} from '@/components/ui/dialog';\nimport {\n  Tabs,\n  TabsContent,\n  TabsList,\n  TabsTrigger,\n} from '@/components/ui/tabs';\nimport {\n  Table,\n  TableBody,\n  TableCell,\n  TableHead,\n  TableHeader,\n  TableRow,\n} from '@/components/ui/table';\nimport { subscribeToRTDB } from '@/services/firebase';\nimport {\n  Loader2, Package, DollarSign, Percent, Barcode,\n  Building2, Truck, ShoppingCart, TrendingUp, TrendingDown,\n  Pencil, X, CheckCircle, AlertTriangle, Clock\n} from 'lucide-react';\n\n// =================== INTERFACES ===================\ninterface Product {\n  id: string;\n  basic?: {\n    name?: string;\n    category?: string;\n    brand?: string;\n    sku?: string;\n  };\n  barcodes?: {\n    mainBarcode?: string;\n    caseBarcode?: {\n      enabled?: boolean;\n      barcode?: string;\n      caseQuantity?: number;\n    };\n  };\n  pricing?: {\n    baseCost?: number;\n    sellPrice?: number;\n    vatRate?: number;\n    branchPricing?: Record<string, { unitPrice?: number }>;\n  };\n  stock?: {\n    totalStock?: number;\n    unit?: string;\n    branchStock?: Record<string, {\n      currentStock?: number;\n      minStock?: number;\n      maxStock?: number;\n    }>;\n  };\n  supplier?: {\n    supplierName?: string;\n    supplierSKU?: string;\n    lastPurchasePrice?: number;\n  };\n  audit?: {\n    createdAt?: string;\n    updatedAt?: string;\n    isActive?: boolean;\n  };\n  // Flat structure support\n  name?: string;\n  stock_qty?: number;\n  price?: number;\n  cost?: number;\n  barcode?: string;\n}\n\ninterface Branch {\n  id: string;\n  name?: string;\n  type?: string;\n}\n\ninterface SaleInvoice {\n  id: string;\n  invoiceNo?: string;\n  date?: string;\n  createdAt?: string;\n  items?: Array<{\n    productId?: string;\n    quantity?: number;\n    unitPrice?: number;\n    total?: number;\n  }>;\n}\n\ninterface Purchase {\n  id: string;\n  supplierName?: string;\n  date?: string;\n  createdAt?: string;\n  items?: Array<{\n    productId?: string;\n    quantity?: number;\n    unitPrice?: number;\n    total?: number;\n  }>;\n}\n\ninterface ProductCardDialogProps {\n  open: boolean;\n  onOpenChange: (open: boolean) => void;\n  product: Product | null;\n  onEdit?: (productId: string) => void;\n}\n\n// =================== STAT CARD COMPONENT ===================\nfunction StatCard({\n  icon,\n  title,\n  value,\n  color = 'gray',\n}: {\n  icon: React.ReactNode;\n  title: string;\n  value: string;\n  color?: 'blue' | 'green' | 'purple' | 'amber' | 'gray';\n}) {\n  const colorClasses = {\n    blue: 'bg-blue-50 border-blue-200',\n    green: 'bg-green-50 border-green-200',\n    purple: 'bg-purple-50 border-purple-200',\n    amber: 'bg-amber-50 border-amber-200',\n    gray: 'bg-gray-50 border-gray-200',\n  };\n\n  return (\n    <div className={`rounded-lg border p-4 ${colorClasses[color]}`}>\n      <div className=\"flex items-center gap-2 text-gray-600 text-sm mb-1\">\n        {icon}\n        <span>{title}</span>\n      </div>\n      <div className=\"text-lg font-semibold text-gray-900\">{value}</div>\n    </div>\n  );\n}\n\n// =================== STATUS BADGE ===================\nfunction StockStatusBadge({ current, min }: { current: number; min: number }) {\n  if (current <= 0) {\n    return (\n      <span className=\"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800\">\n        <X className=\"h-3 w-3 mr-1\" />\n        Stok Yok\n      </span>\n    );\n  }\n  if (current < min) {\n    return (\n      <span className=\"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-amber-100 text-amber-800\">\n        <AlertTriangle className=\"h-3 w-3 mr-1\" />\n        Dusuk\n      </span>\n    );\n  }\n  return (\n    <span className=\"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800\">\n      <CheckCircle className=\"h-3 w-3 mr-1\" />\n      Normal\n    </span>\n  );\n}\n\n// =================== MAIN COMPONENT ===================\nexport function ProductCardDialog({ open, onOpenChange, product, onEdit }: ProductCardDialogProps) {\n  const [branches, setBranches] = useState<Branch[]>([]);\n  const [salesInvoices, setSalesInvoices] = useState<SaleInvoice[]>([]);\n  const [purchases, setPurchases] = useState<Purchase[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [activeTab, setActiveTab] = useState('info');\n\n  // =================== LOAD DATA ===================\n  useEffect(() => {\n    if (!open || !product) return;\n\n    setLoading(true);\n\n    // RTDB'den şube verilerini çek\n    const unsubBranches = subscribeToRTDB('branches', (data) => {\n      console.log('ProductCardDialog: branches loaded', data.length);\n      setBranches(data || []);\n    });\n\n    // RTDB'den satış faturalarını çek\n    const unsubSales = subscribeToRTDB('sale_invoices', (data) => {\n      console.log('ProductCardDialog: sale_invoices loaded', data.length);\n      setSalesInvoices(data || []);\n    });\n\n    // RTDB'den alış faturalarını çek\n    const unsubPurchases = subscribeToRTDB('purchases', (data) => {\n      console.log('ProductCardDialog: purchases loaded', data.length);\n      setPurchases(data || []);\n      setLoading(false);\n    });\n\n    return () => {\n      unsubBranches();\n      unsubSales();\n      unsubPurchases();\n    };\n  }, [open, product]);\n\n  // =================== HELPER FUNCTIONS ===================\n  const getProductName = (): string => {\n    return product?.basic?.name || product?.name || '-';\n  };\n\n  const getProductCategory = (): string => {\n    return product?.basic?.category || '-';\n  };\n\n  const getProductBrand = (): string => {\n    return product?.basic?.brand || '-';\n  };\n\n  const getProductSKU = (): string => {\n    return product?.basic?.sku || '-';\n  };\n\n  const getMainBarcode = (): string => {\n    return product?.barcodes?.mainBarcode || product?.barcode || '-';\n  };\n\n  const getCost = (): number => {\n    return product?.pricing?.baseCost || product?.cost || 0;\n  };\n\n  const getSellPrice = (): number => {\n    return product?.pricing?.sellPrice || product?.price || 0;\n  };\n\n  const getVatRate = (): number => {\n    return product?.pricing?.vatRate || 0;\n  };\n\n  const getTotalStock = (): number => {\n    return product?.stock?.totalStock || product?.stock_qty || 0;\n  };\n\n  const getStockValue = (): number => {\n    return getTotalStock() * getCost();\n  };\n\n  const getProfitMargin = (): number => {\n    const sell = getSellPrice();\n    const cost = getCost();\n    if (sell <= 0) return 0;\n    return ((sell - cost) / sell) * 100;\n  };\n\n  // =================== BRANCH STOCK DATA ===================\n  const branchStockData = useMemo(() => {\n    if (!product?.stock?.branchStock) return [];\n\n    return Object.entries(product.stock.branchStock).map(([branchId, stockData]) => {\n      const branch = branches.find(b => b.id === branchId);\n      return {\n        branchId,\n        branchName: branch?.name || branchId,\n        currentStock: stockData?.currentStock || 0,\n        minStock: stockData?.minStock || 10,\n        maxStock: stockData?.maxStock || 100,\n      };\n    });\n  }, [product, branches]);\n\n  // =================== SALES HISTORY ===================\n  const salesHistory = useMemo(() => {\n    if (!product) return [];\n\n    const history: Array<{\n      date: string;\n      invoiceNo: string;\n      quantity: number;\n      unitPrice: number;\n      total: number;\n    }> = [];\n\n    salesInvoices.forEach(invoice => {\n      const items = invoice.items || [];\n      items.forEach(item => {\n        if (item.productId === product.id) {\n          history.push({\n            date: (invoice.date || invoice.createdAt || '-').substring(0, 10),\n            invoiceNo: invoice.invoiceNo || '-',\n            quantity: item.quantity || 0,\n            unitPrice: item.unitPrice || 0,\n            total: item.total || 0,\n          });\n        }\n      });\n    });\n\n    return history.sort((a, b) => b.date.localeCompare(a.date)).slice(0, 20);\n  }, [product, salesInvoices]);\n\n  // =================== PURCHASE HISTORY ===================\n  const purchaseHistory = useMemo(() => {\n    if (!product) return [];\n\n    const history: Array<{\n      date: string;\n      supplierName: string;\n      quantity: number;\n      unitPrice: number;\n      total: number;\n    }> = [];\n\n    purchases.forEach(purchase => {\n      const items = purchase.items || [];\n      items.forEach(item => {\n        if (item.productId === product.id) {\n          history.push({\n            date: (purchase.date || purchase.createdAt || '-').substring(0, 10),\n            supplierName: purchase.supplierName || '-',\n            quantity: item.quantity || 0,\n            unitPrice: item.unitPrice || 0,\n            total: item.total || 0,\n          });\n        }\n      });\n    });\n\n    return history.sort((a, b) => b.date.localeCompare(a.date)).slice(0, 20);\n  }, [product, purchases]);\n\n  // =================== CASE BARCODE INFO ===================\n  const caseBarcode = product?.barcodes?.caseBarcode;\n  const hasCaseBarcode = caseBarcode?.enabled && caseBarcode?.barcode;\n\n  // =================== SUPPLIER INFO ===================\n  const supplierInfo = product?.supplier;\n  const hasSupplierInfo = supplierInfo?.supplierName && supplierInfo?.supplierSKU;\n\n  if (!product) return null;\n\n  // =================== RENDER ===================\n  return (\n    <Dialog open={open} onOpenChange={onOpenChange}>\n      <DialogContent className=\"max-w-5xl max-h-[90vh] overflow-hidden flex flex-col\">\n        {/* Header */}\n        <DialogHeader className=\"border-b pb-4\">\n          <div className=\"flex items-start justify-between\">\n            <div>\n              <DialogTitle className=\"text-xl font-semibold text-gray-900\">\n                {getProductName()}\n              </DialogTitle>\n              <p className=\"text-sm text-gray-500 mt-1\">\n                {getProductCategory()} - {getProductBrand()} - SKU: {getProductSKU()}\n              </p>\n            </div>\n            <div className=\"text-right\">\n              <div className=\"text-2xl font-bold text-gray-900\">\n                €{getSellPrice().toFixed(2)}\n              </div>\n              <div className=\"text-sm text-gray-500\">\n                Maliyet: €{getCost().toFixed(2)} - Kar: %{getProfitMargin().toFixed(1)}\n              </div>\n            </div>\n          </div>\n        </DialogHeader>\n\n        <div className=\"flex-1 overflow-y-auto py-4\">\n          {loading ? (\n            <div className=\"flex items-center justify-center py-12\">\n              <Loader2 className=\"h-8 w-8 animate-spin text-blue-600\" />\n            </div>\n          ) : (\n            <>\n              {/* Quick Stats */}\n              <div className=\"grid grid-cols-4 gap-4 mb-6\">\n                <StatCard\n                  icon={<Package className=\"h-4 w-4\" />}\n                  title=\"Toplam Stok\"\n                  value={getTotalStock().toFixed(0)}\n                  color=\"blue\"\n                />\n                <StatCard\n                  icon={<DollarSign className=\"h-4 w-4\" />}\n                  title=\"Stok Degeri\"\n                  value={`€${getStockValue().toFixed(2)}`}\n                  color=\"green\"\n                />\n                <StatCard\n                  icon={<Percent className=\"h-4 w-4\" />}\n                  title=\"KDV Orani\"\n                  value={`%${getVatRate().toFixed(1)}`}\n                  color=\"purple\"\n                />\n                <StatCard\n                  icon={<Barcode className=\"h-4 w-4\" />}\n                  title=\"Barkod\"\n                  value={getMainBarcode()}\n                  color=\"gray\"\n                />\n              </div>\n\n              {/* Tabs */}\n              <Tabs value={activeTab} onValueChange={setActiveTab} className=\"w-full\">\n                <TabsList className=\"grid w-full grid-cols-5 mb-4\">\n                  <TabsTrigger value=\"info\">Genel Bilgiler</TabsTrigger>\n                  <TabsTrigger value=\"stock\">Stok Durumu</TabsTrigger>\n                  <TabsTrigger value=\"purchases\">Alis Gecmisi</TabsTrigger>\n                  <TabsTrigger value=\"sales\">Satis Gecmisi</TabsTrigger>\n                  <TabsTrigger value=\"movements\">Stok Hareketleri</TabsTrigger>\n                </TabsList>\n\n                {/* =================== INFO TAB =================== */}\n                <TabsContent value=\"info\" className=\"space-y-4\">\n                  {/* Basic Info */}\n                  <div className=\"bg-white rounded-lg border p-4\">\n                    <h4 className=\"font-semibold text-gray-900 mb-4\">Temel Bilgiler</h4>\n                    <div className=\"grid grid-cols-2 gap-4\">\n                      <div className=\"space-y-3\">\n                        <div className=\"flex justify-between\">\n                          <span className=\"text-gray-500\">Urun Adi:</span>\n                          <span className=\"font-medium\">{getProductName()}</span>\n                        </div>\n                        <div className=\"flex justify-between\">\n                          <span className=\"text-gray-500\">Kategori:</span>\n                          <span className=\"font-medium\">{getProductCategory()}</span>\n                        </div>\n                        <div className=\"flex justify-between\">\n                          <span className=\"text-gray-500\">Marka:</span>\n                          <span className=\"font-medium\">{getProductBrand()}</span>\n                        </div>\n                        <div className=\"flex justify-between\">\n                          <span className=\"text-gray-500\">SKU:</span>\n                          <span className=\"font-medium\">{getProductSKU()}</span>\n                        </div>\n                        <div className=\"flex justify-between\">\n                          <span className=\"text-gray-500\">Ana Barkod:</span>\n                          <span className=\"font-mono font-medium\">{getMainBarcode()}</span>\n                        </div>\n                      </div>\n                      <div className=\"space-y-3\">\n                        <div className=\"flex justify-between\">\n                          <span className=\"text-gray-500\">Maliyet:</span>\n                          <span className=\"font-medium\">€{getCost().toFixed(2)}</span>\n                        </div>\n                        <div className=\"flex justify-between\">\n                          <span className=\"text-gray-500\">Satis Fiyati:</span>\n                          <span className=\"font-medium\">€{getSellPrice().toFixed(2)}</span>\n                        </div>\n                        <div className=\"flex justify-between\">\n                          <span className=\"text-gray-500\">KDV Orani:</span>\n                          <span className=\"font-medium\">%{getVatRate().toFixed(1)}</span>\n                        </div>\n                        <div className=\"flex justify-between\">\n                          <span className=\"text-gray-500\">Olusturulma:</span>\n                          <span className=\"font-medium\">{product.audit?.createdAt?.substring(0, 10) || '-'}</span>\n                        </div>\n                        <div className=\"flex justify-between\">\n                          <span className=\"text-gray-500\">Son Guncelleme:</span>\n                          <span className=\"font-medium\">{product.audit?.updatedAt?.substring(0, 10) || '-'}</span>\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n\n                  {/* Case Barcode */}\n                  <div className={`rounded-lg border-2 p-4 ${hasCaseBarcode ? 'bg-amber-50 border-amber-300' : 'bg-gray-50 border-gray-200'}`}>\n                    <div className=\"flex items-center gap-3\">\n                      <Package className={`h-5 w-5 ${hasCaseBarcode ? 'text-amber-600' : 'text-gray-400'}`} />\n                      <span className={`font-semibold ${hasCaseBarcode ? 'text-amber-800' : 'text-gray-500'}`}>\n                        Kutu Barkodu:\n                      </span>\n                      {hasCaseBarcode ? (\n                        <>\n                          <span className=\"font-mono font-bold bg-white px-3 py-1 rounded border border-amber-200\">\n                            {caseBarcode?.barcode}\n                          </span>\n                          <span className=\"text-amber-700\">\n                            Adet: {caseBarcode?.caseQuantity || 0}\n                          </span>\n                        </>\n                      ) : (\n                        <span className=\"text-gray-400 italic\">Tanimli degil</span>\n                      )}\n                    </div>\n                  </div>\n\n                  {/* Supplier Info */}\n                  <div className={`rounded-lg border-2 p-4 ${hasSupplierInfo ? 'bg-purple-50 border-purple-300' : 'bg-gray-50 border-gray-200'}`}>\n                    <div className=\"flex items-center gap-3 mb-2\">\n                      <Truck className={`h-5 w-5 ${hasSupplierInfo ? 'text-purple-600' : 'text-gray-400'}`} />\n                      <span className={`font-semibold ${hasSupplierInfo ? 'text-purple-800' : 'text-gray-500'}`}>\n                        Tedarikci Stok Kodu:\n                      </span>\n                    </div>\n                    {hasSupplierInfo ? (\n                      <div className=\"flex items-center gap-4 ml-8\">\n                        <div className=\"bg-white rounded border border-purple-200 px-3 py-2\">\n                          <div className=\"text-xs text-purple-600\">{supplierInfo?.supplierName}</div>\n                          <div className=\"font-mono font-bold text-purple-800\">{supplierInfo?.supplierSKU}</div>\n                          {supplierInfo?.lastPurchasePrice && (\n                            <div className=\"text-xs text-purple-500\">\n                              Son: €{supplierInfo.lastPurchasePrice.toFixed(2)}\n                            </div>\n                          )}\n                        </div>\n                      </div>\n                    ) : (\n                      <span className=\"text-gray-400 italic ml-8\">Tedarikci stok kodu tanimli degil</span>\n                    )}\n                  </div>\n                </TabsContent>\n\n                {/* =================== STOCK TAB =================== */}\n                <TabsContent value=\"stock\" className=\"space-y-4\">\n                  <div className=\"bg-white rounded-lg border p-4\">\n                    <h4 className=\"font-semibold text-gray-900 mb-4 flex items-center gap-2\">\n                      <Package className=\"h-5 w-5 text-blue-600\" />\n                      Toplam Stok: {getTotalStock().toFixed(0)}\n                    </h4>\n\n                    {branchStockData.length > 0 ? (\n                      <Table>\n                        <TableHeader>\n                          <TableRow>\n                            <TableHead>Sube</TableHead>\n                            <TableHead className=\"text-right\">Mevcut</TableHead>\n                            <TableHead className=\"text-right\">Minimum</TableHead>\n                            <TableHead className=\"text-right\">Maksimum</TableHead>\n                            <TableHead>Durum</TableHead>\n                          </TableRow>\n                        </TableHeader>\n                        <TableBody>\n                          {branchStockData.map((branch) => (\n                            <TableRow key={branch.branchId}>\n                              <TableCell className=\"font-medium\">{branch.branchName}</TableCell>\n                              <TableCell className={`text-right font-semibold ${branch.currentStock <= 0 ? 'text-red-600' : branch.currentStock < branch.minStock ? 'text-amber-600' : ''}`}>\n                                {branch.currentStock.toFixed(0)}\n                              </TableCell>\n                              <TableCell className=\"text-right\">{branch.minStock}</TableCell>\n                              <TableCell className=\"text-right\">{branch.maxStock}</TableCell>\n                              <TableCell>\n                                <StockStatusBadge current={branch.currentStock} min={branch.minStock} />\n                              </TableCell>\n                            </TableRow>\n                          ))}\n                        </TableBody>\n                      </Table>\n                    ) : (\n                      <p className=\"text-gray-500 italic\">Sube bazli stok bilgisi yok</p>\n                    )}\n                  </div>\n                </TabsContent>\n\n                {/* =================== PURCHASES TAB =================== */}\n                <TabsContent value=\"purchases\" className=\"space-y-4\">\n                  <div className=\"bg-white rounded-lg border\">\n                    <div className=\"p-4 border-b\">\n                      <h4 className=\"font-semibold text-gray-900 flex items-center gap-2\">\n                        <ShoppingCart className=\"h-5 w-5 text-blue-600\" />\n                        Alis Gecmisi\n                      </h4>\n                    </div>\n                    <div className=\"max-h-[300px] overflow-auto\">\n                      <Table>\n                        <TableHeader>\n                          <TableRow>\n                            <TableHead>Tarih</TableHead>\n                            <TableHead>Tedarikci</TableHead>\n                            <TableHead className=\"text-right\">Miktar</TableHead>\n                            <TableHead className=\"text-right\">Birim Fiyat</TableHead>\n                            <TableHead className=\"text-right\">Toplam</TableHead>\n                          </TableRow>\n                        </TableHeader>\n                        <TableBody>\n                          {purchaseHistory.length === 0 ? (\n                            <TableRow>\n                              <TableCell colSpan={5} className=\"text-center py-8 text-gray-500\">\n                                Alis gecmisi bulunamadi\n                              </TableCell>\n                            </TableRow>\n                          ) : (\n                            purchaseHistory.map((item, index) => (\n                              <TableRow key={index}>\n                                <TableCell>{item.date}</TableCell>\n                                <TableCell>{item.supplierName}</TableCell>\n                                <TableCell className=\"text-right\">{item.quantity.toFixed(0)}</TableCell>\n                                <TableCell className=\"text-right\">€{item.unitPrice.toFixed(2)}</TableCell>\n                                <TableCell className=\"text-right font-semibold\">€{item.total.toFixed(2)}</TableCell>\n                              </TableRow>\n                            ))\n                          )}\n                        </TableBody>\n                      </Table>\n                    </div>\n                  </div>\n                </TabsContent>\n\n                {/* =================== SALES TAB =================== */}\n                <TabsContent value=\"sales\" className=\"space-y-4\">\n                  <div className=\"bg-white rounded-lg border\">\n                    <div className=\"p-4 border-b\">\n                      <h4 className=\"font-semibold text-gray-900 flex items-center gap-2\">\n                        <TrendingUp className=\"h-5 w-5 text-green-600\" />\n                        Satis Gecmisi\n                      </h4>\n                    </div>\n                    <div className=\"max-h-[300px] overflow-auto\">\n                      <Table>\n                        <TableHeader>\n                          <TableRow>\n                            <TableHead>Tarih</TableHead>\n                            <TableHead>Fatura No</TableHead>\n                            <TableHead className=\"text-right\">Miktar</TableHead>\n                            <TableHead className=\"text-right\">Birim Fiyat</TableHead>\n                            <TableHead className=\"text-right\">Toplam</TableHead>\n                          </TableRow>\n                        </TableHeader>\n                        <TableBody>\n                          {salesHistory.length === 0 ? (\n                            <TableRow>\n                              <TableCell colSpan={5} className=\"text-center py-8 text-gray-500\">\n                                Satis gecmisi bulunamadi\n                              </TableCell>\n                            </TableRow>\n                          ) : (\n                            salesHistory.map((item, index) => (\n                              <TableRow key={index}>\n                                <TableCell>{item.date}</TableCell>\n                                <TableCell className=\"font-mono\">{item.invoiceNo}</TableCell>\n                                <TableCell className=\"text-right\">{item.quantity.toFixed(0)}</TableCell>\n                                <TableCell className=\"text-right\">€{item.unitPrice.toFixed(2)}</TableCell>\n                                <TableCell className=\"text-right font-semibold text-green-600\">€{item.total.toFixed(2)}</TableCell>\n                              </TableRow>\n                            ))\n                          )}\n                        </TableBody>\n                      </Table>\n                    </div>\n                  </div>\n                </TabsContent>\n\n                {/* =================== MOVEMENTS TAB =================== */}\n                <TabsContent value=\"movements\" className=\"space-y-4\">\n                  <div className=\"bg-white rounded-lg border\">\n                    <div className=\"p-4 border-b\">\n                      <h4 className=\"font-semibold text-gray-900 flex items-center gap-2\">\n                        <TrendingDown className=\"h-5 w-5 text-purple-600\" />\n                        Stok Hareketleri\n                      </h4>\n                    </div>\n                    <div className=\"p-8 text-center text-gray-500\">\n                      <Clock className=\"h-12 w-12 mx-auto mb-3 text-gray-300\" />\n                      <p>Stok hareketleri yakinda...</p>\n                    </div>\n                  </div>\n                </TabsContent>\n              </Tabs>\n            </>\n          )}\n        </div>\n\n        {/* Footer */}\n        <div className=\"border-t pt-4 flex justify-between\">\n          <Button\n            variant=\"outline\"\n            onClick={() => {\n              if (onEdit && product) {\n                onEdit(product.id);\n                onOpenChange(false);\n              }\n            }}\n          >\n            <Pencil className=\"h-4 w-4 mr-2\" />\n            Duzenle\n          </Button>\n          <Button variant=\"outline\" onClick={() => onOpenChange(false)}>\n            Kapat\n          </Button>\n        </div>\n      </DialogContent>\n    </Dialog>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 5996, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Sahin/Desktop/kasa-pro/src/components/dialogs/report-dialog.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useEffect, useMemo } from 'react';\nimport { Button } from '@/components/ui/button';\nimport { Input } from '@/components/ui/input';\nimport { Label } from '@/components/ui/label';\nimport {\n  Select,\n  SelectContent,\n  SelectItem,\n  SelectTrigger,\n  SelectValue,\n} from '@/components/ui/select';\nimport {\n  Dialog,\n  DialogContent,\n  DialogHeader,\n  DialogTitle,\n} from '@/components/ui/dialog';\nimport {\n  Tabs,\n  TabsContent,\n  TabsList,\n  TabsTrigger,\n} from '@/components/ui/tabs';\nimport {\n  Table,\n  TableBody,\n  TableCell,\n  TableHead,\n  TableHeader,\n  TableRow,\n} from '@/components/ui/table';\nimport { subscribeToRTDB } from '@/services/firebase';\nimport {\n  Loader2, RefreshCw, Download, Printer, Package,\n  TrendingUp, TrendingDown, AlertTriangle, CheckCircle,\n  BarChart3, PieChart, DollarSign, Warehouse, FileSpreadsheet\n} from 'lucide-react';\nimport {\n  BarChart, Bar, XAxis, YAxis, CartesianGrid, Tooltip, Legend,\n  ResponsiveContainer, LineChart, Line, PieChart as RechartsPieChart,\n  Pie, Cell, AreaChart, Area\n} from 'recharts';\nimport * as XLSX from 'xlsx';\nimport { saveAs } from 'file-saver';\n\n// =================== KPI CARD COMPONENT ===================\nfunction KPICard({\n  title,\n  value,\n  icon,\n  color = 'blue',\n  change,\n  changeType,\n}: {\n  title: string;\n  value: string;\n  icon: React.ReactNode;\n  color?: 'blue' | 'green' | 'red' | 'amber' | 'purple';\n  change?: string;\n  changeType?: 'up' | 'down';\n}) {\n  const colorClasses = {\n    blue: 'border-l-blue-500 bg-blue-50',\n    green: 'border-l-green-500 bg-green-50',\n    red: 'border-l-red-500 bg-red-50',\n    amber: 'border-l-amber-500 bg-amber-50',\n    purple: 'border-l-purple-500 bg-purple-50',\n  };\n\n  const textColors = {\n    blue: 'text-blue-600',\n    green: 'text-green-600',\n    red: 'text-red-600',\n    amber: 'text-amber-600',\n    purple: 'text-purple-600',\n  };\n\n  return (\n    <div className={`rounded-lg border-l-4 p-4 ${colorClasses[color]}`}>\n      <div className=\"flex items-center justify-between mb-2\">\n        <span className=\"text-sm text-gray-600\">{title}</span>\n        {icon}\n      </div>\n      <div className=\"flex items-end gap-2\">\n        <span className={`text-2xl font-bold ${textColors[color]}`}>{value}</span>\n        {change && (\n          <span className={`text-sm flex items-center ${changeType === 'up' ? 'text-green-600' : 'text-red-600'}`}>\n            {changeType === 'up' ? <TrendingUp className=\"h-3 w-3 mr-1\" /> : <TrendingDown className=\"h-3 w-3 mr-1\" />}\n            {change}\n          </span>\n        )}\n      </div>\n    </div>\n  );\n}\n\n// =================== STATUS BADGE COMPONENT ===================\nfunction StatusBadge({ status }: { status: 'normal' | 'low' | 'critical' | 'out' }) {\n  const styles = {\n    normal: 'bg-green-100 text-green-800',\n    low: 'bg-amber-100 text-amber-800',\n    critical: 'bg-orange-100 text-orange-800',\n    out: 'bg-red-100 text-red-800',\n  };\n\n  const labels = {\n    normal: 'Normal',\n    low: 'Dusuk',\n    critical: 'Kritik',\n    out: 'Stok Yok',\n  };\n\n  const icons = {\n    normal: <CheckCircle className=\"h-3 w-3 mr-1\" />,\n    low: <AlertTriangle className=\"h-3 w-3 mr-1\" />,\n    critical: <AlertTriangle className=\"h-3 w-3 mr-1\" />,\n    out: <AlertTriangle className=\"h-3 w-3 mr-1\" />,\n  };\n\n  return (\n    <span className={`inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium ${styles[status]}`}>\n      {icons[status]}\n      {labels[status]}\n    </span>\n  );\n}\n\n// =================== ABC CLASS BADGE ===================\nfunction ABCBadge({ abcClass }: { abcClass: 'A' | 'B' | 'C' }) {\n  const styles = {\n    A: 'bg-red-100 text-red-800 border-red-300',\n    B: 'bg-amber-100 text-amber-800 border-amber-300',\n    C: 'bg-green-100 text-green-800 border-green-300',\n  };\n\n  return (\n    <span className={`inline-flex items-center justify-center w-8 h-8 rounded-full text-sm font-bold border-2 ${styles[abcClass]}`}>\n      {abcClass}\n    </span>\n  );\n}\n\n// =================== INTERFACES ===================\ninterface Product {\n  id: string;\n  basic?: {\n    name?: string;\n    category?: string;\n  };\n  pricing?: {\n    baseCost?: number;\n    branchPricing?: Record<string, { unitPrice?: number }>;\n  };\n  stock?: {\n    totalStock?: number;\n    unit?: string;\n    branchStock?: Record<string, {\n      currentStock?: number;\n      minStock?: number;\n      maxStock?: number;\n    }>;\n  };\n  supplier?: {\n    supplierName?: string;\n    leadTime?: number;\n  };\n  // Flat structure support\n  name?: string;\n  stock_qty?: number;\n  price?: number;\n  cost?: number;\n}\n\ninterface Branch {\n  id: string;\n  name?: string;\n  type?: string;\n}\n\ninterface ReportDialogProps {\n  open: boolean;\n  onOpenChange: (open: boolean) => void;\n  reportType?: string;\n}\n\n// =================== MAIN COMPONENT ===================\nexport function ReportDialog({ open, onOpenChange, reportType = 'stock' }: ReportDialogProps) {\n  const [products, setProducts] = useState<Product[]>([]);\n  const [branches, setBranches] = useState<Branch[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [branchFilter, setBranchFilter] = useState('all');\n  const [statusFilter, setStatusFilter] = useState('all');\n  const [activeTab, setActiveTab] = useState('overview');\n\n  // =================== LOAD DATA ===================\n  useEffect(() => {\n    if (!open) return;\n\n    setLoading(true);\n\n    // RTDB'den ürün verilerini çek\n    const unsubProducts = subscribeToRTDB('products', (data) => {\n      console.log('ReportDialog: products loaded', data.length);\n      setProducts(data || []);\n    });\n\n    // RTDB'den şube verilerini çek\n    const unsubBranches = subscribeToRTDB('branches', (data) => {\n      console.log('ReportDialog: branches loaded', data.length);\n      setBranches(data || []);\n      setLoading(false);\n    });\n\n    return () => {\n      unsubProducts();\n      unsubBranches();\n    };\n  }, [open]);\n\n  // =================== HELPER FUNCTIONS ===================\n  const getProductStock = (product: Product): number => {\n    if (product.stock?.totalStock !== undefined) return product.stock.totalStock;\n    if (product.stock_qty !== undefined) return product.stock_qty;\n    return 0;\n  };\n\n  const getProductCost = (product: Product): number => {\n    if (product.pricing?.baseCost !== undefined) return product.pricing.baseCost;\n    if (product.cost !== undefined) return product.cost;\n    return 0;\n  };\n\n  const getProductName = (product: Product): string => {\n    return product.basic?.name || product.name || '-';\n  };\n\n  const getProductCategory = (product: Product): string => {\n    return product.basic?.category || '-';\n  };\n\n  const getMinStock = (product: Product, branchId?: string): number => {\n    if (branchId && product.stock?.branchStock?.[branchId]) {\n      return product.stock.branchStock[branchId].minStock || 10;\n    }\n    return 10;\n  };\n\n  const getStockStatus = (current: number, min: number): 'normal' | 'low' | 'critical' | 'out' => {\n    if (current <= 0) return 'out';\n    if (current < min * 0.3) return 'critical';\n    if (current < min) return 'low';\n    return 'normal';\n  };\n\n  // =================== CALCULATED STATS ===================\n  const stats = useMemo(() => {\n    let totalProducts = products.length;\n    let totalValue = 0;\n    let lowStockCount = 0;\n    let outOfStockCount = 0;\n    let totalStockDays = 0;\n    let stockDaysCount = 0;\n\n    products.forEach(product => {\n      const stock = getProductStock(product);\n      const cost = getProductCost(product);\n      const minStock = getMinStock(product);\n\n      totalValue += stock * cost;\n\n      if (stock <= 0) {\n        outOfStockCount++;\n      } else if (stock < minStock) {\n        lowStockCount++;\n      }\n\n      if (stock > 0 && minStock > 0) {\n        const dailySales = minStock / 7;\n        if (dailySales > 0) {\n          totalStockDays += stock / dailySales;\n          stockDaysCount++;\n        }\n      }\n    });\n\n    const avgStockDays = stockDaysCount > 0 ? Math.round(totalStockDays / stockDaysCount) : 0;\n    const turnoverRate = avgStockDays > 0 ? (365 / avgStockDays).toFixed(1) : '0';\n\n    return {\n      totalProducts,\n      totalValue,\n      lowStockCount,\n      outOfStockCount,\n      avgStockDays,\n      turnoverRate,\n    };\n  }, [products]);\n\n  // =================== STOCK STATUS DATA ===================\n  const stockStatusData = useMemo(() => {\n    return products\n      .map(product => {\n        const stock = getProductStock(product);\n        const cost = getProductCost(product);\n        const minStock = getMinStock(product);\n        const maxStock = minStock * 10;\n        const status = getStockStatus(stock, minStock);\n        const dailySales = minStock / 7;\n        const stockDays = dailySales > 0 ? Math.round(stock / dailySales) : 0;\n        const totalValue = stock * cost;\n\n        return {\n          id: product.id,\n          name: getProductName(product),\n          category: getProductCategory(product),\n          currentStock: stock,\n          minStock,\n          maxStock,\n          status,\n          stockDays,\n          unitCost: cost,\n          totalValue,\n        };\n      })\n      .filter(item => {\n        if (statusFilter === 'all') return true;\n        if (statusFilter === 'normal') return item.status === 'normal';\n        if (statusFilter === 'low') return item.status === 'low' || item.status === 'critical';\n        if (statusFilter === 'out') return item.status === 'out';\n        return true;\n      })\n      .sort((a, b) => a.currentStock - b.currentStock);\n  }, [products, statusFilter]);\n\n  // =================== VALUATION DATA ===================\n  const valuationData = useMemo(() => {\n    let totalInventoryValue = 0;\n    let totalPotentialRevenue = 0;\n    let highestValueProduct = { name: '-', value: 0 };\n\n    const data = products\n      .filter(p => getProductStock(p) > 0)\n      .map(product => {\n        const stock = getProductStock(product);\n        const cost = getProductCost(product);\n        const totalCost = stock * cost;\n\n        // Get average unit price from branch pricing\n        let avgPrice = 0;\n        let priceCount = 0;\n        if (product.pricing?.branchPricing) {\n          Object.values(product.pricing.branchPricing).forEach((bp: any) => {\n            if (bp?.unitPrice > 0) {\n              avgPrice += bp.unitPrice;\n              priceCount++;\n            }\n          });\n        }\n        avgPrice = priceCount > 0 ? avgPrice / priceCount : cost * 1.4;\n\n        const potentialRevenue = stock * avgPrice;\n        const profitMargin = avgPrice > 0 ? ((avgPrice - cost) / avgPrice * 100) : 0;\n\n        totalInventoryValue += totalCost;\n        totalPotentialRevenue += potentialRevenue;\n\n        if (totalCost > highestValueProduct.value) {\n          highestValueProduct = { name: getProductName(product), value: totalCost };\n        }\n\n        return {\n          id: product.id,\n          name: getProductName(product),\n          category: getProductCategory(product),\n          unitCost: cost,\n          stock,\n          totalCost,\n          unitPrice: avgPrice,\n          potentialRevenue,\n          profitMargin,\n        };\n      })\n      .sort((a, b) => b.totalCost - a.totalCost);\n\n    const avgUnitCost = data.length > 0 ? totalInventoryValue / data.reduce((sum, d) => sum + d.stock, 0) : 0;\n\n    return {\n      data,\n      totalInventoryValue,\n      totalPotentialRevenue,\n      avgUnitCost,\n      highestValueProduct,\n    };\n  }, [products]);\n\n  // =================== LOW STOCK DATA ===================\n  const lowStockData = useMemo(() => {\n    const criticalCount = stockStatusData.filter(s => s.status === 'out' || s.status === 'critical').length;\n    const warningCount = stockStatusData.filter(s => s.status === 'low').length;\n\n    const items = stockStatusData\n      .filter(item => item.status !== 'normal')\n      .map(item => {\n        const product = products.find(p => p.id === item.id);\n        const shortage = Math.max(0, item.minStock - item.currentStock);\n        const priority = item.status === 'out' ? 1 : item.status === 'critical' ? 2 : 3;\n        const reorderQty = item.minStock * 2;\n\n        return {\n          ...item,\n          shortage,\n          priority,\n          priorityLabel: priority === 1 ? 'ACIL' : priority === 2 ? 'Yuksek' : 'Orta',\n          supplier: product?.supplier?.supplierName || '-',\n          leadTime: product?.supplier?.leadTime || 2,\n          reorderQty,\n        };\n      })\n      .sort((a, b) => a.priority - b.priority || b.shortage - a.shortage);\n\n    return { items, criticalCount, warningCount };\n  }, [stockStatusData, products]);\n\n  // =================== CATEGORY ANALYSIS ===================\n  const categoryData = useMemo(() => {\n    const categoryStats: Record<string, {\n      productCount: number;\n      totalStock: number;\n      stockValue: number;\n      totalPrice: number;\n      priceCount: number;\n      totalMargin: number;\n      marginCount: number;\n    }> = {};\n\n    let totalStockValue = 0;\n\n    products.forEach(product => {\n      const category = getProductCategory(product);\n      const stock = getProductStock(product);\n      const cost = getProductCost(product);\n      const stockValue = stock * cost;\n\n      if (!categoryStats[category]) {\n        categoryStats[category] = {\n          productCount: 0,\n          totalStock: 0,\n          stockValue: 0,\n          totalPrice: 0,\n          priceCount: 0,\n          totalMargin: 0,\n          marginCount: 0,\n        };\n      }\n\n      categoryStats[category].productCount++;\n      categoryStats[category].totalStock += stock;\n      categoryStats[category].stockValue += stockValue;\n      totalStockValue += stockValue;\n\n      if (product.pricing?.branchPricing) {\n        Object.values(product.pricing.branchPricing).forEach((bp: any) => {\n          if (bp?.unitPrice > 0) {\n            categoryStats[category].totalPrice += bp.unitPrice;\n            categoryStats[category].priceCount++;\n\n            if (cost > 0) {\n              const margin = ((bp.unitPrice - cost) / bp.unitPrice * 100);\n              categoryStats[category].totalMargin += margin;\n              categoryStats[category].marginCount++;\n            }\n          }\n        });\n      }\n    });\n\n    return Object.entries(categoryStats)\n      .map(([category, stats]) => ({\n        category,\n        productCount: stats.productCount,\n        totalStock: stats.totalStock,\n        stockValue: stats.stockValue,\n        percentage: totalStockValue > 0 ? (stats.stockValue / totalStockValue * 100) : 0,\n        avgPrice: stats.priceCount > 0 ? stats.totalPrice / stats.priceCount : 0,\n        avgMargin: stats.marginCount > 0 ? stats.totalMargin / stats.marginCount : 0,\n      }))\n      .sort((a, b) => b.stockValue - a.stockValue);\n  }, [products]);\n\n  // =================== ABC ANALYSIS ===================\n  const abcData = useMemo(() => {\n    const productValues = products\n      .map(product => ({\n        name: getProductName(product),\n        value: getProductStock(product) * getProductCost(product),\n      }))\n      .filter(p => p.value > 0)\n      .sort((a, b) => b.value - a.value);\n\n    const totalValue = productValues.reduce((sum, p) => sum + p.value, 0);\n    let cumulative = 0;\n\n    return productValues.map(product => {\n      const contribution = totalValue > 0 ? (product.value / totalValue * 100) : 0;\n      cumulative += contribution;\n\n      let abcClass: 'A' | 'B' | 'C';\n      let recommendation: string;\n      let action: string;\n\n      if (cumulative <= 80) {\n        abcClass = 'A';\n        recommendation = 'Siki kontrol';\n        action = 'Gunluk takip';\n      } else if (cumulative <= 95) {\n        abcClass = 'B';\n        recommendation = 'Duzenli kontrol';\n        action = 'Haftalik takip';\n      } else {\n        abcClass = 'C';\n        recommendation = 'Temel kontrol';\n        action = 'Aylik takip';\n      }\n\n      return {\n        name: product.name,\n        value: product.value,\n        contribution,\n        cumulative,\n        abcClass,\n        recommendation,\n        action,\n      };\n    });\n  }, [products]);\n\n  // =================== BRANCH COMPARISON ===================\n  const branchComparisonData = useMemo(() => {\n    const branchStats: Record<string, {\n      name: string;\n      totalProducts: number;\n      totalStock: number;\n      stockValue: number;\n      lowStockCount: number;\n      totalStockDays: number;\n      stockDaysCount: number;\n    }> = {};\n\n    branches.forEach(branch => {\n      branchStats[branch.id] = {\n        name: branch.name || branch.id,\n        totalProducts: 0,\n        totalStock: 0,\n        stockValue: 0,\n        lowStockCount: 0,\n        totalStockDays: 0,\n        stockDaysCount: 0,\n      };\n    });\n\n    products.forEach(product => {\n      const cost = getProductCost(product);\n\n      if (product.stock?.branchStock) {\n        Object.entries(product.stock.branchStock).forEach(([branchId, stockData]) => {\n          if (!branchStats[branchId]) return;\n\n          const current = stockData?.currentStock || 0;\n          const minStock = stockData?.minStock || 10;\n\n          branchStats[branchId].totalProducts++;\n          branchStats[branchId].totalStock += current;\n          branchStats[branchId].stockValue += current * cost;\n\n          if (current < minStock) {\n            branchStats[branchId].lowStockCount++;\n          }\n\n          if (current > 0 && minStock > 0) {\n            const dailySales = minStock / 7;\n            if (dailySales > 0) {\n              branchStats[branchId].totalStockDays += current / dailySales;\n              branchStats[branchId].stockDaysCount++;\n            }\n          }\n        });\n      }\n    });\n\n    return Object.values(branchStats)\n      .filter(b => b.totalProducts > 0)\n      .map(branch => {\n        const avgStockDays = branch.stockDaysCount > 0\n          ? Math.round(branch.totalStockDays / branch.stockDaysCount)\n          : 0;\n        const turnover = avgStockDays > 0 ? (365 / avgStockDays).toFixed(1) : '0';\n\n        return {\n          ...branch,\n          avgStockDays,\n          turnover,\n        };\n      });\n  }, [products, branches]);\n\n  // =================== CHART DATA ===================\n  const CHART_COLORS = ['#3b82f6', '#10b981', '#f59e0b', '#ef4444', '#8b5cf6', '#06b6d4', '#ec4899', '#84cc16'];\n\n  // Stock Trend Data (simulated monthly trend)\n  const stockTrendData = useMemo(() => {\n    const months = ['Ocak', 'Subat', 'Mart', 'Nisan', 'Mayis', 'Haziran'];\n    const currentStock = stats.totalValue;\n\n    return months.map((month, index) => {\n      const factor = 0.7 + (index * 0.06);\n      const variance = 1 + (Math.random() * 0.1 - 0.05);\n      return {\n        name: month,\n        stokDegeri: Math.round(currentStock * factor * variance),\n        urunSayisi: Math.round(stats.totalProducts * (0.85 + index * 0.03)),\n        dusukStok: Math.max(0, Math.round(stats.lowStockCount * (1.3 - index * 0.08))),\n      };\n    });\n  }, [stats]);\n\n  // Category Distribution for Pie Chart\n  const categoryPieData = useMemo(() => {\n    return categoryData.slice(0, 6).map((cat, index) => ({\n      name: cat.category.length > 15 ? cat.category.substring(0, 15) + '...' : cat.category,\n      value: Math.round(cat.stockValue),\n      color: CHART_COLORS[index % CHART_COLORS.length],\n    }));\n  }, [categoryData]);\n\n  // ABC Distribution for Chart\n  const abcDistributionData = useMemo(() => {\n    const aCount = abcData.filter(p => p.abcClass === 'A').length;\n    const bCount = abcData.filter(p => p.abcClass === 'B').length;\n    const cCount = abcData.filter(p => p.abcClass === 'C').length;\n    const aValue = abcData.filter(p => p.abcClass === 'A').reduce((sum, p) => sum + p.value, 0);\n    const bValue = abcData.filter(p => p.abcClass === 'B').reduce((sum, p) => sum + p.value, 0);\n    const cValue = abcData.filter(p => p.abcClass === 'C').reduce((sum, p) => sum + p.value, 0);\n\n    return [\n      { name: 'A Sinifi', urunSayisi: aCount, deger: Math.round(aValue), color: '#ef4444' },\n      { name: 'B Sinifi', urunSayisi: bCount, deger: Math.round(bValue), color: '#f59e0b' },\n      { name: 'C Sinifi', urunSayisi: cCount, deger: Math.round(cValue), color: '#10b981' },\n    ];\n  }, [abcData]);\n\n  // =================== HANDLERS ===================\n  const handleRefresh = () => {\n    setLoading(true);\n    setTimeout(() => setLoading(false), 500);\n  };\n\n  const handleExportExcel = () => {\n    try {\n      const wb = XLSX.utils.book_new();\n\n      // Sheet 1: Genel Ozet\n      const summaryData = [\n        ['STOK ANALIZ RAPORU', '', '', ''],\n        ['Rapor Tarihi:', new Date().toLocaleDateString('tr-TR'), '', ''],\n        ['', '', '', ''],\n        ['GENEL OZET', '', '', ''],\n        ['Toplam Urun', stats.totalProducts],\n        ['Toplam Stok Degeri', `€${stats.totalValue.toLocaleString('tr-TR', { minimumFractionDigits: 2 })}`],\n        ['Dusuk Stok Urun', stats.lowStockCount],\n        ['Stok Yok', stats.outOfStockCount],\n        ['Ortalama Stok Gunu', stats.avgStockDays],\n        ['Devir Hizi', `${stats.turnoverRate}x`],\n      ];\n      const wsSummary = XLSX.utils.aoa_to_sheet(summaryData);\n      XLSX.utils.book_append_sheet(wb, wsSummary, 'Ozet');\n\n      // Sheet 2: Stok Durumu\n      const stockHeaders = ['Urun Adi', 'Kategori', 'Mevcut Stok', 'Min Stok', 'Max Stok', 'Durum', 'Stok Gunu', 'Birim Maliyet', 'Toplam Deger'];\n      const stockRows = stockStatusData.map(item => [\n        item.name,\n        item.category,\n        item.currentStock,\n        item.minStock,\n        item.maxStock,\n        item.status === 'normal' ? 'Normal' : item.status === 'low' ? 'Dusuk' : item.status === 'critical' ? 'Kritik' : 'Stok Yok',\n        item.stockDays,\n        item.unitCost,\n        item.totalValue,\n      ]);\n      const wsStock = XLSX.utils.aoa_to_sheet([stockHeaders, ...stockRows]);\n      XLSX.utils.book_append_sheet(wb, wsStock, 'Stok Durumu');\n\n      // Sheet 3: Degerleme\n      const valHeaders = ['Urun Adi', 'Kategori', 'Birim Maliyet', 'Stok', 'Toplam Maliyet', 'Satis Fiyati', 'Potansiyel Gelir', 'Kar Marji %'];\n      const valRows = valuationData.data.map(item => [\n        item.name,\n        item.category,\n        item.unitCost,\n        item.stock,\n        item.totalCost,\n        item.unitPrice,\n        item.potentialRevenue,\n        item.profitMargin.toFixed(1),\n      ]);\n      const wsVal = XLSX.utils.aoa_to_sheet([valHeaders, ...valRows]);\n      XLSX.utils.book_append_sheet(wb, wsVal, 'Degerleme');\n\n      // Sheet 4: Dusuk Stok\n      const lowHeaders = ['Urun Adi', 'Mevcut Stok', 'Min Stok', 'Eksik Miktar', 'Oncelik', 'Tedarikci', 'Teslimat Suresi', 'Onerilen Siparis'];\n      const lowRows = lowStockData.items.map(item => [\n        item.name,\n        item.currentStock,\n        item.minStock,\n        item.shortage,\n        item.priorityLabel,\n        item.supplier,\n        item.leadTime,\n        item.reorderQty,\n      ]);\n      const wsLow = XLSX.utils.aoa_to_sheet([lowHeaders, ...lowRows]);\n      XLSX.utils.book_append_sheet(wb, wsLow, 'Dusuk Stok');\n\n      // Sheet 5: Kategori Analizi\n      const catHeaders = ['Kategori', 'Urun Sayisi', 'Toplam Stok', 'Stok Degeri', '% Payi', 'Ort. Fiyat', 'Ort. Kar Marji %'];\n      const catRows = categoryData.map(item => [\n        item.category,\n        item.productCount,\n        item.totalStock,\n        item.stockValue,\n        item.percentage.toFixed(1),\n        item.avgPrice,\n        item.avgMargin.toFixed(1),\n      ]);\n      const wsCat = XLSX.utils.aoa_to_sheet([catHeaders, ...catRows]);\n      XLSX.utils.book_append_sheet(wb, wsCat, 'Kategori Analizi');\n\n      // Sheet 6: ABC Analizi\n      const abcHeaders = ['Sinif', 'Urun Adi', 'Stok Degeri', '% Katki', 'Kumulatif %', 'Oneri', 'Aksiyon'];\n      const abcRows = abcData.map(item => [\n        item.abcClass,\n        item.name,\n        item.value,\n        item.contribution.toFixed(2),\n        item.cumulative.toFixed(2),\n        item.recommendation,\n        item.action,\n      ]);\n      const wsAbc = XLSX.utils.aoa_to_sheet([abcHeaders, ...abcRows]);\n      XLSX.utils.book_append_sheet(wb, wsAbc, 'ABC Analizi');\n\n      // Generate Excel file\n      const excelBuffer = XLSX.write(wb, { bookType: 'xlsx', type: 'array' });\n      const data = new Blob([excelBuffer], { type: 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet' });\n      const fileName = `Stok_Raporu_${new Date().toISOString().split('T')[0]}.xlsx`;\n      saveAs(data, fileName);\n    } catch (error) {\n      console.error('Excel export error:', error);\n      alert('Excel dosyasi olusturulamadi: ' + (error as Error).message);\n    }\n  };\n\n  const handlePrint = () => {\n    window.print();\n  };\n\n  // =================== RENDER ===================\n  return (\n    <Dialog open={open} onOpenChange={onOpenChange}>\n      <DialogContent className=\"max-w-6xl max-h-[90vh] overflow-hidden flex flex-col\">\n        <DialogHeader className=\"border-b pb-4\">\n          <div className=\"flex items-center justify-between\">\n            <div>\n              <DialogTitle className=\"text-xl font-semibold flex items-center gap-2\">\n                <BarChart3 className=\"h-6 w-6 text-purple-600\" />\n                Stok Analizi & Raporlari\n              </DialogTitle>\n              <p className=\"text-sm text-gray-500 mt-1\">\n                Detayli stok durumu, degerleme ve analiz raporlari\n              </p>\n            </div>\n            <div className=\"flex items-center gap-2\">\n              <Button variant=\"outline\" size=\"sm\" onClick={handleRefresh} disabled={loading}>\n                <RefreshCw className={`h-4 w-4 mr-2 ${loading ? 'animate-spin' : ''}`} />\n                Yenile\n              </Button>\n              <Button variant=\"outline\" size=\"sm\" onClick={handleExportExcel}>\n                <FileSpreadsheet className=\"h-4 w-4 mr-2\" />\n                Excel\n              </Button>\n              <Button variant=\"outline\" size=\"sm\" onClick={handlePrint}>\n                <Printer className=\"h-4 w-4 mr-2\" />\n                Yazdir\n              </Button>\n            </div>\n          </div>\n        </DialogHeader>\n\n        <div className=\"flex-1 overflow-y-auto py-4\">\n          <Tabs value={activeTab} onValueChange={setActiveTab} className=\"w-full\">\n            <TabsList className=\"grid w-full grid-cols-7 mb-4\">\n              <TabsTrigger value=\"overview\">Genel Bakis</TabsTrigger>\n              <TabsTrigger value=\"trend\">Trend Analizi</TabsTrigger>\n              <TabsTrigger value=\"stock\">Stok Durumu</TabsTrigger>\n              <TabsTrigger value=\"valuation\">Degerleme</TabsTrigger>\n              <TabsTrigger value=\"lowstock\">Dusuk Stok</TabsTrigger>\n              <TabsTrigger value=\"category\">Kategori</TabsTrigger>\n              <TabsTrigger value=\"abc\">ABC Analizi</TabsTrigger>\n            </TabsList>\n\n            {/* =================== OVERVIEW TAB =================== */}\n            <TabsContent value=\"overview\" className=\"space-y-6\">\n              <div className=\"grid grid-cols-3 gap-4\">\n                <KPICard\n                  title=\"Toplam Urun\"\n                  value={stats.totalProducts.toString()}\n                  icon={<Package className=\"h-5 w-5 text-blue-600\" />}\n                  color=\"blue\"\n                />\n                <KPICard\n                  title=\"Toplam Deger\"\n                  value={`€${stats.totalValue.toLocaleString('tr-TR', { minimumFractionDigits: 0 })}`}\n                  icon={<DollarSign className=\"h-5 w-5 text-green-600\" />}\n                  color=\"green\"\n                />\n                <KPICard\n                  title=\"Dusuk Stok\"\n                  value={stats.lowStockCount.toString()}\n                  icon={<AlertTriangle className=\"h-5 w-5 text-amber-600\" />}\n                  color=\"amber\"\n                />\n              </div>\n\n              <div className=\"grid grid-cols-3 gap-4\">\n                <KPICard\n                  title=\"Stok Yok\"\n                  value={stats.outOfStockCount.toString()}\n                  icon={<AlertTriangle className=\"h-5 w-5 text-red-600\" />}\n                  color=\"red\"\n                />\n                <KPICard\n                  title=\"Ort. Stok Gunu\"\n                  value={`${stats.avgStockDays} gun`}\n                  icon={<BarChart3 className=\"h-5 w-5 text-purple-600\" />}\n                  color=\"purple\"\n                />\n                <KPICard\n                  title=\"Devir Hizi\"\n                  value={`${stats.turnoverRate}x`}\n                  icon={<TrendingUp className=\"h-5 w-5 text-blue-600\" />}\n                  color=\"blue\"\n                />\n              </div>\n\n              <div className=\"bg-white rounded-lg border p-4\">\n                <h4 className=\"font-semibold text-gray-900 mb-3\">Kategori Dagilimi</h4>\n                <div className=\"h-[250px]\">\n                  <ResponsiveContainer width=\"100%\" height=\"100%\">\n                    <RechartsPieChart>\n                      <Pie\n                        data={categoryPieData}\n                        cx=\"50%\"\n                        cy=\"50%\"\n                        labelLine={false}\n                        label={({ name, percent }) => `${name} ${((percent || 0) * 100).toFixed(0)}%`}\n                        outerRadius={80}\n                        fill=\"#8884d8\"\n                        dataKey=\"value\"\n                      >\n                        {categoryPieData.map((entry, index) => (\n                          <Cell key={`cell-${index}`} fill={entry.color} />\n                        ))}\n                      </Pie>\n                      <Tooltip formatter={(value: number) => `€${value.toLocaleString('tr-TR')}`} />\n                    </RechartsPieChart>\n                  </ResponsiveContainer>\n                </div>\n              </div>\n            </TabsContent>\n\n            {/* =================== TREND ANALYSIS TAB =================== */}\n            <TabsContent value=\"trend\" className=\"space-y-6\">\n              {/* Stok Degeri Trend Grafigi */}\n              <div className=\"bg-white rounded-lg border p-4\">\n                <h4 className=\"font-semibold text-gray-900 mb-4\">Stok Degeri Trendi (Son 6 Ay)</h4>\n                <div className=\"h-[280px]\">\n                  <ResponsiveContainer width=\"100%\" height=\"100%\">\n                    <AreaChart data={stockTrendData}>\n                      <CartesianGrid strokeDasharray=\"3 3\" />\n                      <XAxis dataKey=\"name\" />\n                      <YAxis tickFormatter={(value) => `€${(value / 1000).toFixed(0)}K`} />\n                      <Tooltip formatter={(value: number) => `€${value.toLocaleString('tr-TR')}`} />\n                      <Legend />\n                      <Area\n                        type=\"monotone\"\n                        dataKey=\"stokDegeri\"\n                        name=\"Stok Degeri\"\n                        stroke=\"#3b82f6\"\n                        fill=\"#93c5fd\"\n                        strokeWidth={2}\n                      />\n                    </AreaChart>\n                  </ResponsiveContainer>\n                </div>\n              </div>\n\n              {/* Urun Sayisi ve Dusuk Stok Grafigi */}\n              <div className=\"grid grid-cols-2 gap-4\">\n                <div className=\"bg-white rounded-lg border p-4\">\n                  <h4 className=\"font-semibold text-gray-900 mb-4\">Urun Sayisi Trendi</h4>\n                  <div className=\"h-[220px]\">\n                    <ResponsiveContainer width=\"100%\" height=\"100%\">\n                      <LineChart data={stockTrendData}>\n                        <CartesianGrid strokeDasharray=\"3 3\" />\n                        <XAxis dataKey=\"name\" />\n                        <YAxis />\n                        <Tooltip />\n                        <Legend />\n                        <Line\n                          type=\"monotone\"\n                          dataKey=\"urunSayisi\"\n                          name=\"Urun Sayisi\"\n                          stroke=\"#10b981\"\n                          strokeWidth={2}\n                          dot={{ fill: '#10b981' }}\n                        />\n                      </LineChart>\n                    </ResponsiveContainer>\n                  </div>\n                </div>\n\n                <div className=\"bg-white rounded-lg border p-4\">\n                  <h4 className=\"font-semibold text-gray-900 mb-4\">Dusuk Stok Urun Trendi</h4>\n                  <div className=\"h-[220px]\">\n                    <ResponsiveContainer width=\"100%\" height=\"100%\">\n                      <BarChart data={stockTrendData}>\n                        <CartesianGrid strokeDasharray=\"3 3\" />\n                        <XAxis dataKey=\"name\" />\n                        <YAxis />\n                        <Tooltip />\n                        <Legend />\n                        <Bar\n                          dataKey=\"dusukStok\"\n                          name=\"Dusuk Stok\"\n                          fill=\"#f59e0b\"\n                          radius={[4, 4, 0, 0]}\n                        />\n                      </BarChart>\n                    </ResponsiveContainer>\n                  </div>\n                </div>\n              </div>\n\n              {/* ABC Sinifi Dagilimi */}\n              <div className=\"bg-white rounded-lg border p-4\">\n                <h4 className=\"font-semibold text-gray-900 mb-4\">ABC Sinifi Dagilimi</h4>\n                <div className=\"h-[220px]\">\n                  <ResponsiveContainer width=\"100%\" height=\"100%\">\n                    <BarChart data={abcDistributionData} layout=\"vertical\">\n                      <CartesianGrid strokeDasharray=\"3 3\" />\n                      <XAxis type=\"number\" tickFormatter={(value) => `€${(value / 1000).toFixed(0)}K`} />\n                      <YAxis dataKey=\"name\" type=\"category\" width={80} />\n                      <Tooltip formatter={(value: number) => `€${value.toLocaleString('tr-TR')}`} />\n                      <Legend />\n                      <Bar dataKey=\"deger\" name=\"Stok Degeri\" radius={[0, 4, 4, 0]}>\n                        {abcDistributionData.map((entry, index) => (\n                          <Cell key={`cell-${index}`} fill={entry.color} />\n                        ))}\n                      </Bar>\n                    </BarChart>\n                  </ResponsiveContainer>\n                </div>\n              </div>\n            </TabsContent>\n\n            {/* =================== STOCK STATUS TAB =================== */}\n            <TabsContent value=\"stock\" className=\"space-y-4\">\n              <div className=\"flex gap-4\">\n                <div className=\"flex items-center gap-2\">\n                  <Label>Durum:</Label>\n                  <Select value={statusFilter} onValueChange={setStatusFilter}>\n                    <SelectTrigger className=\"w-[150px]\">\n                      <SelectValue />\n                    </SelectTrigger>\n                    <SelectContent>\n                      <SelectItem value=\"all\">Tumu</SelectItem>\n                      <SelectItem value=\"normal\">Normal</SelectItem>\n                      <SelectItem value=\"low\">Dusuk</SelectItem>\n                      <SelectItem value=\"out\">Stok Yok</SelectItem>\n                    </SelectContent>\n                  </Select>\n                </div>\n              </div>\n\n              <div className=\"bg-white rounded-lg border max-h-[400px] overflow-auto\">\n                <Table>\n                  <TableHeader>\n                    <TableRow>\n                      <TableHead>Urun</TableHead>\n                      <TableHead>Kategori</TableHead>\n                      <TableHead className=\"text-right\">Mevcut</TableHead>\n                      <TableHead className=\"text-right\">Min</TableHead>\n                      <TableHead className=\"text-right\">Max</TableHead>\n                      <TableHead>Durum</TableHead>\n                      <TableHead className=\"text-right\">Stok Gunu</TableHead>\n                      <TableHead className=\"text-right\">Birim Deger</TableHead>\n                      <TableHead className=\"text-right\">Toplam</TableHead>\n                    </TableRow>\n                  </TableHeader>\n                  <TableBody>\n                    {loading ? (\n                      <TableRow>\n                        <TableCell colSpan={9} className=\"text-center py-8\">\n                          <Loader2 className=\"h-6 w-6 animate-spin mx-auto\" />\n                        </TableCell>\n                      </TableRow>\n                    ) : stockStatusData.length === 0 ? (\n                      <TableRow>\n                        <TableCell colSpan={9} className=\"text-center py-8 text-gray-500\">\n                          Urun bulunamadi\n                        </TableCell>\n                      </TableRow>\n                    ) : (\n                      stockStatusData.slice(0, 50).map((item) => (\n                        <TableRow key={item.id}>\n                          <TableCell className=\"font-medium\">{item.name}</TableCell>\n                          <TableCell className=\"text-gray-600\">{item.category}</TableCell>\n                          <TableCell className={`text-right font-medium ${item.status === 'out' ? 'text-red-600' : item.status !== 'normal' ? 'text-amber-600' : ''}`}>\n                            {item.currentStock.toFixed(1)}\n                          </TableCell>\n                          <TableCell className=\"text-right\">{item.minStock}</TableCell>\n                          <TableCell className=\"text-right\">{item.maxStock}</TableCell>\n                          <TableCell>\n                            <StatusBadge status={item.status} />\n                          </TableCell>\n                          <TableCell className=\"text-right\">{item.stockDays} gun</TableCell>\n                          <TableCell className=\"text-right\">€{item.unitCost.toFixed(2)}</TableCell>\n                          <TableCell className=\"text-right font-medium\">€{item.totalValue.toFixed(2)}</TableCell>\n                        </TableRow>\n                      ))\n                    )}\n                  </TableBody>\n                </Table>\n              </div>\n            </TabsContent>\n\n            {/* =================== VALUATION TAB =================== */}\n            <TabsContent value=\"valuation\" className=\"space-y-4\">\n              <div className=\"grid grid-cols-3 gap-4\">\n                <KPICard\n                  title=\"Toplam Envanter\"\n                  value={`€${valuationData.totalInventoryValue.toLocaleString('tr-TR', { minimumFractionDigits: 0 })}`}\n                  icon={<Warehouse className=\"h-5 w-5 text-purple-600\" />}\n                  color=\"purple\"\n                />\n                <KPICard\n                  title=\"Ort. Birim Maliyet\"\n                  value={`€${valuationData.avgUnitCost.toFixed(2)}`}\n                  icon={<DollarSign className=\"h-5 w-5 text-blue-600\" />}\n                  color=\"blue\"\n                />\n                <KPICard\n                  title=\"En Degerli Urun\"\n                  value={valuationData.highestValueProduct.name.substring(0, 15)}\n                  icon={<TrendingUp className=\"h-5 w-5 text-green-600\" />}\n                  color=\"green\"\n                />\n              </div>\n\n              <div className=\"bg-white rounded-lg border max-h-[350px] overflow-auto\">\n                <Table>\n                  <TableHeader>\n                    <TableRow>\n                      <TableHead>Urun</TableHead>\n                      <TableHead>Kategori</TableHead>\n                      <TableHead className=\"text-right\">Birim Maliyet</TableHead>\n                      <TableHead className=\"text-right\">Stok</TableHead>\n                      <TableHead className=\"text-right\">Toplam Maliyet</TableHead>\n                      <TableHead className=\"text-right\">Satis Fiyati</TableHead>\n                      <TableHead className=\"text-right\">Potansiyel Gelir</TableHead>\n                      <TableHead className=\"text-right\">Kar Marji</TableHead>\n                    </TableRow>\n                  </TableHeader>\n                  <TableBody>\n                    {valuationData.data.slice(0, 50).map((item) => (\n                      <TableRow key={item.id}>\n                        <TableCell className=\"font-medium\">{item.name}</TableCell>\n                        <TableCell className=\"text-gray-600\">{item.category}</TableCell>\n                        <TableCell className=\"text-right\">€{item.unitCost.toFixed(2)}</TableCell>\n                        <TableCell className=\"text-right\">{item.stock.toFixed(1)}</TableCell>\n                        <TableCell className=\"text-right font-medium\">€{item.totalCost.toFixed(2)}</TableCell>\n                        <TableCell className=\"text-right\">€{item.unitPrice.toFixed(2)}</TableCell>\n                        <TableCell className=\"text-right text-green-600\">€{item.potentialRevenue.toFixed(2)}</TableCell>\n                        <TableCell className={`text-right font-medium ${item.profitMargin < 10 ? 'text-red-600' : item.profitMargin < 20 ? 'text-amber-600' : 'text-green-600'}`}>\n                          {item.profitMargin.toFixed(1)}%\n                        </TableCell>\n                      </TableRow>\n                    ))}\n                  </TableBody>\n                </Table>\n              </div>\n            </TabsContent>\n\n            {/* =================== LOW STOCK TAB =================== */}\n            <TabsContent value=\"lowstock\" className=\"space-y-4\">\n              <div className=\"grid grid-cols-3 gap-4\">\n                <KPICard\n                  title=\"Kritik (Stok Yok)\"\n                  value={lowStockData.criticalCount.toString()}\n                  icon={<AlertTriangle className=\"h-5 w-5 text-red-600\" />}\n                  color=\"red\"\n                />\n                <KPICard\n                  title=\"Uyari (Dusuk)\"\n                  value={lowStockData.warningCount.toString()}\n                  icon={<AlertTriangle className=\"h-5 w-5 text-amber-600\" />}\n                  color=\"amber\"\n                />\n                <KPICard\n                  title=\"Siparis Onerisi\"\n                  value={`${lowStockData.items.length} urun`}\n                  icon={<Package className=\"h-5 w-5 text-blue-600\" />}\n                  color=\"blue\"\n                />\n              </div>\n\n              <div className=\"bg-white rounded-lg border max-h-[350px] overflow-auto\">\n                <Table>\n                  <TableHeader>\n                    <TableRow>\n                      <TableHead>Urun</TableHead>\n                      <TableHead className=\"text-right\">Mevcut</TableHead>\n                      <TableHead className=\"text-right\">Min</TableHead>\n                      <TableHead className=\"text-right\">Eksik</TableHead>\n                      <TableHead>Oncelik</TableHead>\n                      <TableHead>Tedarikci</TableHead>\n                      <TableHead className=\"text-right\">Teslimat</TableHead>\n                      <TableHead className=\"text-right\">Onerilen Siparis</TableHead>\n                    </TableRow>\n                  </TableHeader>\n                  <TableBody>\n                    {lowStockData.items.length === 0 ? (\n                      <TableRow>\n                        <TableCell colSpan={8} className=\"text-center py-8 text-gray-500\">\n                          <CheckCircle className=\"h-8 w-8 mx-auto mb-2 text-green-500\" />\n                          Tum urunler yeterli stokta\n                        </TableCell>\n                      </TableRow>\n                    ) : (\n                      lowStockData.items.map((item) => (\n                        <TableRow key={item.id}>\n                          <TableCell className=\"font-medium\">{item.name}</TableCell>\n                          <TableCell className={`text-right font-medium ${item.status === 'out' ? 'text-red-600' : 'text-amber-600'}`}>\n                            {item.currentStock.toFixed(1)}\n                          </TableCell>\n                          <TableCell className=\"text-right\">{item.minStock}</TableCell>\n                          <TableCell className=\"text-right text-red-600 font-medium\">{item.shortage.toFixed(1)}</TableCell>\n                          <TableCell>\n                            <span className={`px-2 py-1 rounded text-xs font-medium ${item.priority === 1 ? 'bg-red-100 text-red-800' : item.priority === 2 ? 'bg-orange-100 text-orange-800' : 'bg-amber-100 text-amber-800'}`}>\n                              {item.priorityLabel}\n                            </span>\n                          </TableCell>\n                          <TableCell>{item.supplier}</TableCell>\n                          <TableCell className=\"text-right\">{item.leadTime} gun</TableCell>\n                          <TableCell className=\"text-right font-medium\">{item.reorderQty}</TableCell>\n                        </TableRow>\n                      ))\n                    )}\n                  </TableBody>\n                </Table>\n              </div>\n\n              {lowStockData.items.length > 0 && (\n                <Button className=\"w-full\" size=\"lg\">\n                  <Package className=\"h-4 w-4 mr-2\" />\n                  Toplu Siparis Olustur ({lowStockData.items.length} urun)\n                </Button>\n              )}\n            </TabsContent>\n\n            {/* =================== CATEGORY ANALYSIS TAB =================== */}\n            <TabsContent value=\"category\" className=\"space-y-4\">\n              <div className=\"bg-white rounded-lg border max-h-[450px] overflow-auto\">\n                <Table>\n                  <TableHeader>\n                    <TableRow>\n                      <TableHead>Kategori</TableHead>\n                      <TableHead className=\"text-right\">Urun Sayisi</TableHead>\n                      <TableHead className=\"text-right\">Toplam Stok</TableHead>\n                      <TableHead className=\"text-right\">Stok Degeri</TableHead>\n                      <TableHead className=\"text-right\">% Payi</TableHead>\n                      <TableHead className=\"text-right\">Ort. Fiyat</TableHead>\n                      <TableHead className=\"text-right\">Ort. Kar Marji</TableHead>\n                    </TableRow>\n                  </TableHeader>\n                  <TableBody>\n                    {categoryData.map((item) => (\n                      <TableRow key={item.category}>\n                        <TableCell className=\"font-medium\">{item.category}</TableCell>\n                        <TableCell className=\"text-right\">{item.productCount}</TableCell>\n                        <TableCell className=\"text-right\">{item.totalStock.toFixed(0)}</TableCell>\n                        <TableCell className=\"text-right font-medium\">€{item.stockValue.toLocaleString('tr-TR', { minimumFractionDigits: 0 })}</TableCell>\n                        <TableCell className=\"text-right\">{item.percentage.toFixed(1)}%</TableCell>\n                        <TableCell className=\"text-right\">€{item.avgPrice.toFixed(2)}</TableCell>\n                        <TableCell className={`text-right font-medium ${item.avgMargin < 10 ? 'text-red-600' : item.avgMargin < 20 ? 'text-amber-600' : 'text-green-600'}`}>\n                          {item.avgMargin.toFixed(1)}%\n                        </TableCell>\n                      </TableRow>\n                    ))}\n                  </TableBody>\n                </Table>\n              </div>\n            </TabsContent>\n\n            {/* =================== ABC ANALYSIS TAB =================== */}\n            <TabsContent value=\"abc\" className=\"space-y-4\">\n              <div className=\"bg-blue-50 border border-blue-200 rounded-lg p-4\">\n                <h4 className=\"font-semibold text-blue-800 mb-2\">ABC Analizi - Deger Bazli Siniflandirma</h4>\n                <div className=\"grid grid-cols-3 gap-4 text-sm\">\n                  <div className=\"flex items-center gap-2\">\n                    <ABCBadge abcClass=\"A\" />\n                    <span><strong>A Sinifi:</strong> %80 deger, %20 urun (Kritik)</span>\n                  </div>\n                  <div className=\"flex items-center gap-2\">\n                    <ABCBadge abcClass=\"B\" />\n                    <span><strong>B Sinifi:</strong> %15 deger, %30 urun (Onemli)</span>\n                  </div>\n                  <div className=\"flex items-center gap-2\">\n                    <ABCBadge abcClass=\"C\" />\n                    <span><strong>C Sinifi:</strong> %5 deger, %50 urun (Dusuk)</span>\n                  </div>\n                </div>\n              </div>\n\n              <div className=\"bg-white rounded-lg border max-h-[350px] overflow-auto\">\n                <Table>\n                  <TableHeader>\n                    <TableRow>\n                      <TableHead className=\"w-[60px]\">Sinif</TableHead>\n                      <TableHead>Urun Adi</TableHead>\n                      <TableHead className=\"text-right\">Stok Degeri</TableHead>\n                      <TableHead className=\"text-right\">% Katki</TableHead>\n                      <TableHead className=\"text-right\">Kumulatif %</TableHead>\n                      <TableHead>Oneri</TableHead>\n                      <TableHead>Aksiyon</TableHead>\n                    </TableRow>\n                  </TableHeader>\n                  <TableBody>\n                    {abcData.slice(0, 50).map((item, index) => (\n                      <TableRow key={index}>\n                        <TableCell>\n                          <ABCBadge abcClass={item.abcClass} />\n                        </TableCell>\n                        <TableCell className=\"font-medium\">{item.name}</TableCell>\n                        <TableCell className=\"text-right\">€{item.value.toLocaleString('tr-TR', { minimumFractionDigits: 0 })}</TableCell>\n                        <TableCell className=\"text-right\">{item.contribution.toFixed(2)}%</TableCell>\n                        <TableCell className={`text-right font-medium ${item.cumulative <= 80 ? 'text-red-600' : item.cumulative <= 95 ? 'text-amber-600' : 'text-green-600'}`}>\n                          {item.cumulative.toFixed(2)}%\n                        </TableCell>\n                        <TableCell>{item.recommendation}</TableCell>\n                        <TableCell className=\"text-gray-600\">{item.action}</TableCell>\n                      </TableRow>\n                    ))}\n                  </TableBody>\n                </Table>\n              </div>\n            </TabsContent>\n          </Tabs>\n        </div>\n\n        {/* Footer */}\n        <div className=\"border-t pt-4 flex justify-end\">\n          <Button variant=\"outline\" onClick={() => onOpenChange(false)}>\n            Kapat\n          </Button>\n        </div>\n      </DialogContent>\n    </Dialog>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 8997, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Sahin/Desktop/kasa-pro/src/app/dashboard/products/page.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useEffect, useMemo } from 'react';\nimport { Button } from '@/components/ui/button';\nimport { Input } from '@/components/ui/input';\nimport {\n  Select,\n  SelectContent,\n  SelectItem,\n  SelectTrigger,\n  SelectValue,\n} from '@/components/ui/select';\nimport {\n  Table,\n  TableBody,\n  TableCell,\n  TableHead,\n  TableHeader,\n  TableRow,\n} from '@/components/ui/table';\nimport {\n  DropdownMenu,\n  DropdownMenuContent,\n  DropdownMenuItem,\n  DropdownMenuSeparator,\n  DropdownMenuTrigger,\n} from '@/components/ui/dropdown-menu';\nimport { subscribeToRTDB, updateData, removeData } from '@/services/firebase';\nimport { ProductDialog } from '@/components/dialogs/product-dialog';\nimport { ProductCardDialog } from '@/components/dialogs/product-card-dialog';\nimport { ReportDialog } from '@/components/dialogs/report-dialog';\nimport {\n  Plus, RefreshCw, MoreHorizontal, Pencil, Trash2, Eye, Search,\n  Package, ChevronLeft, ChevronRight, ChevronsLeft, ChevronsRight,\n  TrendingUp, AlertTriangle, DollarSign, BarChart3, Download\n} from 'lucide-react';\n\n// Category structure (matching Python ERP)\nconst CATEGORY_STRUCTURE: Record<string, { name: string; icon: string; subcategories: Record<string, string> }> = {\n  'MEAT': {\n    name: 'Et Urunleri',\n    icon: '🥩',\n    subcategories: {\n      'BEEF': 'Dana',\n      'LAMB': 'Kuzu',\n      'CHICKEN': 'Tavuk',\n      'OTHER': 'Diger',\n    },\n  },\n  'DAIRY': {\n    name: 'Sut Urunleri',\n    icon: '🧀',\n    subcategories: {\n      'MILK': 'Sut',\n      'CHEESE': 'Peynir',\n      'YOGURT': 'Yogurt',\n    },\n  },\n  'GROCERY': {\n    name: 'Bakkaliye',\n    icon: '🛒',\n    subcategories: {\n      'DRY_GOODS': 'Kuru Gida',\n      'CANNED': 'Konserve',\n      'SPICES': 'Baharat',\n    },\n  },\n  'BEVERAGES': {\n    name: 'Icecekler',\n    icon: '🥤',\n    subcategories: {\n      'WATER': 'Su',\n      'JUICE': 'Meyve Suyu',\n      'SOFT_DRINKS': 'Gazli Icecek',\n    },\n  },\n  'PRODUCE': {\n    name: 'Meyve & Sebze',\n    icon: '🥬',\n    subcategories: {\n      'FRUITS': 'Meyveler',\n      'VEGETABLES': 'Sebzeler',\n    },\n  },\n  'BAKERY': {\n    name: 'Firindan',\n    icon: '🥖',\n    subcategories: {\n      'BREAD': 'Ekmek',\n      'PASTRY': 'Pasta',\n    },\n  },\n};\n\n// Get category display name\nfunction getCategoryDisplayName(code: string): string {\n  if (!code) return '-';\n  const parts = code.split('.');\n  const mainCat = CATEGORY_STRUCTURE[parts[0]];\n  if (!mainCat) return code;\n  if (parts.length === 1) return `${mainCat.icon} ${mainCat.name}`;\n  const subCat = mainCat.subcategories[parts[1]];\n  return subCat ? `${mainCat.icon} ${subCat}` : code;\n}\n\n// Status badge component\nfunction StatusBadge({ isActive }: { isActive: boolean }) {\n  return (\n    <span\n      className={`inline-flex items-center justify-center w-3 h-3 rounded-full ${\n        isActive ? 'bg-green-500' : 'bg-red-500'\n      }`}\n    />\n  );\n}\n\n// Stock badge component\nfunction StockBadge({ stock }: { stock: number }) {\n  if (stock <= 0) {\n    return <span className=\"text-red-600 font-medium\">{stock}</span>;\n  } else if (stock < 10) {\n    return <span className=\"text-amber-600 font-medium\">{stock}</span>;\n  }\n  return <span className=\"text-gray-900\">{stock}</span>;\n}\n\ninterface Product {\n  id: string;\n  basic?: {\n    name?: string;\n    category?: string;\n    brand?: string;\n    sku?: string;\n  };\n  barcodes?: {\n    mainBarcode?: string;\n  };\n  pricing?: {\n    sellPrice?: number;\n    baseCost?: number;\n    vatRate?: number;\n  };\n  stock?: {\n    totalStock?: number;\n  };\n  audit?: {\n    isActive?: boolean;\n  };\n  // Flat structure support\n  name?: string;\n  barcode?: string;\n  price?: number;\n  stock_qty?: number;\n  isActive?: boolean;\n}\n\n// Helper to get field from nested or flat structure\nfunction getField<T>(product: Product, nestedPath: string[], flatKey: string, defaultVal: T): T {\n  // Try nested first\n  let value: any = product;\n  for (const key of nestedPath) {\n    if (value && typeof value === 'object' && key in value) {\n      value = value[key];\n    } else {\n      value = undefined;\n      break;\n    }\n  }\n  if (value !== undefined && value !== null) return value as T;\n\n  // Try flat\n  const flatValue = (product as any)[flatKey];\n  if (flatValue !== undefined && flatValue !== null) return flatValue as T;\n\n  return defaultVal;\n}\n\n// Page size for pagination\nconst PAGE_SIZE = 100;\n\nexport default function ProductsPage() {\n  const [products, setProducts] = useState<Product[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [searchQuery, setSearchQuery] = useState('');\n  const [categoryFilter, setCategoryFilter] = useState('all');\n  const [currentPage, setCurrentPage] = useState(0);\n\n  // Dialog states\n  const [dialogOpen, setDialogOpen] = useState(false);\n  const [selectedProduct, setSelectedProduct] = useState<Product | null>(null);\n  const [cardDialogOpen, setCardDialogOpen] = useState(false);\n  const [viewProduct, setViewProduct] = useState<Product | null>(null);\n  const [reportDialogOpen, setReportDialogOpen] = useState(false);\n\n  // Load products from RTDB\n  useEffect(() => {\n    setLoading(true);\n    const unsubscribe = subscribeToRTDB('products', (data) => {\n      setProducts(data || []);\n      setLoading(false);\n    });\n    return () => unsubscribe();\n  }, []);\n\n  // Filter products\n  const filteredProducts = useMemo(() => {\n    return products.filter((product) => {\n      // Only active products or all (no status filter for now)\n      const isActive = getField(product, ['audit', 'isActive'], 'isActive', true);\n\n      // Search filter\n      const name = getField(product, ['basic', 'name'], 'name', '');\n      const barcode = getField(product, ['barcodes', 'mainBarcode'], 'barcode', '');\n      const sku = getField(product, ['basic', 'sku'], 'sku', '');\n\n      const searchLower = searchQuery.toLowerCase();\n      const matchesSearch = !searchQuery ||\n        name.toLowerCase().includes(searchLower) ||\n        barcode.toLowerCase().includes(searchLower) ||\n        sku.toLowerCase().includes(searchLower);\n\n      // Category filter\n      const category = getField(product, ['basic', 'category'], 'category', '');\n      const matchesCategory = categoryFilter === 'all' ||\n        category.startsWith(categoryFilter) ||\n        category === categoryFilter;\n\n      return matchesSearch && matchesCategory;\n    });\n  }, [products, searchQuery, categoryFilter]);\n\n  // Pagination\n  const totalPages = Math.max(1, Math.ceil(filteredProducts.length / PAGE_SIZE));\n  const paginatedProducts = useMemo(() => {\n    const start = currentPage * PAGE_SIZE;\n    return filteredProducts.slice(start, start + PAGE_SIZE);\n  }, [filteredProducts, currentPage]);\n\n  // Reset to first page when filters change\n  useEffect(() => {\n    setCurrentPage(0);\n  }, [searchQuery, categoryFilter]);\n\n  // Stats\n  const stats = useMemo(() => {\n    const total = products.length;\n    const active = products.filter(p => getField(p, ['audit', 'isActive'], 'isActive', true)).length;\n    const lowStock = products.filter(p => {\n      const stock = getField(p, ['stock', 'totalStock'], 'stock_qty', 0);\n      return stock < 10 && stock >= 0;\n    }).length;\n    const totalValue = products.reduce((sum, p) => {\n      const stock = getField(p, ['stock', 'totalStock'], 'stock_qty', 0);\n      const cost = getField(p, ['pricing', 'baseCost'], 'cost', 0);\n      return sum + (stock * cost);\n    }, 0);\n    return { total, active, lowStock, totalValue };\n  }, [products]);\n\n  // Build category options\n  const categoryOptions = useMemo(() => {\n    const options: { value: string; label: string }[] = [\n      { value: 'all', label: 'Tum Kategoriler' },\n    ];\n    Object.entries(CATEGORY_STRUCTURE).forEach(([code, data]) => {\n      options.push({ value: code, label: `${data.icon} ${data.name}` });\n      Object.entries(data.subcategories).forEach(([subCode, subName]) => {\n        options.push({ value: `${code}.${subCode}`, label: `   ├─ ${subName}` });\n      });\n    });\n    return options;\n  }, []);\n\n  const handleRefresh = () => {\n    setLoading(true);\n    setTimeout(() => setLoading(false), 500);\n  };\n\n  const handleCreate = () => {\n    setSelectedProduct(null);\n    setDialogOpen(true);\n  };\n\n  const handleEdit = (product: Product) => {\n    setSelectedProduct(product);\n    setDialogOpen(true);\n  };\n\n  const handleView = (product: Product) => {\n    setViewProduct(product);\n    setCardDialogOpen(true);\n  };\n\n  const handleOpenReport = () => {\n    setReportDialogOpen(true);\n  };\n\n  const handleToggleStatus = async (product: Product) => {\n    try {\n      const currentStatus = getField(product, ['audit', 'isActive'], 'isActive', true);\n      const newStatus = !currentStatus;\n\n      if (product.audit) {\n        await updateData(`products/${product.id}/audit`, {\n          isActive: newStatus,\n          updatedAt: new Date().toISOString(),\n        });\n      } else {\n        await updateData(`products/${product.id}`, {\n          isActive: newStatus,\n          updatedAt: new Date().toISOString(),\n        });\n      }\n    } catch (error) {\n      console.error('Status update error:', error);\n      alert('Durum guncellenemedi: ' + (error as Error).message);\n    }\n  };\n\n  const handleDelete = async (product: Product) => {\n    const name = getField(product, ['basic', 'name'], 'name', 'Urun');\n    if (!confirm(`\"${name}\" urununu silmek istediginize emin misiniz?`)) return;\n\n    try {\n      await removeData(`products/${product.id}`);\n    } catch (error) {\n      console.error('Delete error:', error);\n      alert('Silme hatasi: ' + (error as Error).message);\n    }\n  };\n\n  return (\n    <div className=\"h-full flex flex-col bg-gray-50\">\n      {/* Header */}\n      <div className=\"bg-white border-b px-8 py-6\">\n        <div className=\"flex items-center justify-between mb-4\">\n          <div>\n            <h1 className=\"text-2xl font-semibold text-gray-900\">Urunler</h1>\n            <p className=\"text-sm text-gray-500 mt-1\">\n              {stats.total} urun - {stats.active} aktif\n            </p>\n          </div>\n\n          <div className=\"flex items-center gap-3\">\n            <Button\n              variant=\"outline\"\n              size=\"sm\"\n              onClick={handleRefresh}\n              disabled={loading}\n            >\n              <RefreshCw className={`h-4 w-4 mr-2 ${loading ? 'animate-spin' : ''}`} />\n              Yenile\n            </Button>\n            <Button\n              variant=\"outline\"\n              size=\"sm\"\n              onClick={handleOpenReport}\n            >\n              <BarChart3 className=\"h-4 w-4 mr-2\" />\n              Rapor\n            </Button>\n            <Button onClick={handleCreate}>\n              <Plus className=\"h-4 w-4 mr-2\" />\n              Yeni Urun\n            </Button>\n          </div>\n        </div>\n\n        {/* Stats Cards */}\n        <div className=\"grid grid-cols-4 gap-4 mb-6\">\n          <div className=\"bg-blue-50 rounded-lg p-4\">\n            <div className=\"flex items-center gap-3\">\n              <div className=\"p-2 bg-blue-100 rounded-lg\">\n                <Package className=\"h-5 w-5 text-blue-600\" />\n              </div>\n              <div>\n                <p className=\"text-sm text-gray-600\">Toplam</p>\n                <p className=\"text-xl font-semibold text-gray-900\">{stats.total}</p>\n              </div>\n            </div>\n          </div>\n          <div className=\"bg-green-50 rounded-lg p-4\">\n            <div className=\"flex items-center gap-3\">\n              <div className=\"p-2 bg-green-100 rounded-lg\">\n                <TrendingUp className=\"h-5 w-5 text-green-600\" />\n              </div>\n              <div>\n                <p className=\"text-sm text-gray-600\">Aktif</p>\n                <p className=\"text-xl font-semibold text-gray-900\">{stats.active}</p>\n              </div>\n            </div>\n          </div>\n          <div className=\"bg-amber-50 rounded-lg p-4\">\n            <div className=\"flex items-center gap-3\">\n              <div className=\"p-2 bg-amber-100 rounded-lg\">\n                <AlertTriangle className=\"h-5 w-5 text-amber-600\" />\n              </div>\n              <div>\n                <p className=\"text-sm text-gray-600\">Dusuk Stok</p>\n                <p className=\"text-xl font-semibold text-gray-900\">{stats.lowStock}</p>\n              </div>\n            </div>\n          </div>\n          <div className=\"bg-purple-50 rounded-lg p-4\">\n            <div className=\"flex items-center gap-3\">\n              <div className=\"p-2 bg-purple-100 rounded-lg\">\n                <DollarSign className=\"h-5 w-5 text-purple-600\" />\n              </div>\n              <div>\n                <p className=\"text-sm text-gray-600\">Stok Degeri</p>\n                <p className=\"text-xl font-semibold text-gray-900\">\n                  €{stats.totalValue.toLocaleString('tr-TR', { minimumFractionDigits: 2 })}\n                </p>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        {/* Filters */}\n        <div className=\"flex items-center gap-4\">\n          <div className=\"relative flex-1 max-w-md\">\n            <Search className=\"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400\" />\n            <Input\n              placeholder=\"Urun ara (isim, barkod, SKU)...\"\n              value={searchQuery}\n              onChange={(e) => setSearchQuery(e.target.value)}\n              className=\"pl-10\"\n            />\n          </div>\n\n          <Select value={categoryFilter} onValueChange={setCategoryFilter}>\n            <SelectTrigger className=\"w-[220px]\">\n              <SelectValue placeholder=\"Kategori\" />\n            </SelectTrigger>\n            <SelectContent>\n              {categoryOptions.map((opt) => (\n                <SelectItem key={opt.value} value={opt.value}>\n                  {opt.label}\n                </SelectItem>\n              ))}\n            </SelectContent>\n          </Select>\n        </div>\n      </div>\n\n      {/* Table */}\n      <div className=\"flex-1 overflow-auto p-8\">\n        <div className=\"bg-white rounded-lg border\">\n          <Table>\n            <TableHeader>\n              <TableRow>\n                <TableHead className=\"w-[130px]\">Barkod</TableHead>\n                <TableHead>Urun Adi</TableHead>\n                <TableHead className=\"w-[160px]\">Kategori</TableHead>\n                <TableHead className=\"w-[100px] text-right\">Fiyat</TableHead>\n                <TableHead className=\"w-[80px] text-right\">Stok</TableHead>\n                <TableHead className=\"w-[60px] text-center\">Durum</TableHead>\n                <TableHead className=\"w-[60px]\"></TableHead>\n              </TableRow>\n            </TableHeader>\n            <TableBody>\n              {loading ? (\n                <TableRow>\n                  <TableCell colSpan={7} className=\"text-center py-8 text-gray-500\">\n                    Yukleniyor...\n                  </TableCell>\n                </TableRow>\n              ) : paginatedProducts.length === 0 ? (\n                <TableRow>\n                  <TableCell colSpan={7} className=\"text-center py-8 text-gray-500\">\n                    {searchQuery || categoryFilter !== 'all'\n                      ? 'Filtrelere uygun urun bulunamadi'\n                      : 'Henuz urun eklenmemis'}\n                  </TableCell>\n                </TableRow>\n              ) : (\n                paginatedProducts.map((product) => {\n                  const barcode = getField(product, ['barcodes', 'mainBarcode'], 'barcode', '-');\n                  const name = getField(product, ['basic', 'name'], 'name', 'Bilinmiyor');\n                  const category = getField(product, ['basic', 'category'], 'category', '-');\n                  const price = getField(product, ['pricing', 'sellPrice'], 'price', 0);\n                  const stock = getField(product, ['stock', 'totalStock'], 'stock_qty', 0);\n                  const isActive = getField(product, ['audit', 'isActive'], 'isActive', true);\n\n                  return (\n                    <TableRow\n                      key={product.id}\n                      className=\"hover:bg-gray-50 cursor-pointer\"\n                      onDoubleClick={() => handleView(product)}\n                    >\n                      <TableCell className=\"font-mono text-sm\">{barcode}</TableCell>\n                      <TableCell className=\"font-medium\">{name}</TableCell>\n                      <TableCell className=\"text-gray-600 text-sm\">\n                        {getCategoryDisplayName(category)}\n                      </TableCell>\n                      <TableCell className=\"text-right font-medium\">\n                        €{price.toFixed(2)}\n                      </TableCell>\n                      <TableCell className=\"text-right\">\n                        <StockBadge stock={stock} />\n                      </TableCell>\n                      <TableCell className=\"text-center\">\n                        <StatusBadge isActive={isActive} />\n                      </TableCell>\n                      <TableCell>\n                        <DropdownMenu>\n                          <DropdownMenuTrigger asChild>\n                            <Button variant=\"ghost\" size=\"icon\" className=\"h-8 w-8\">\n                              <MoreHorizontal className=\"h-4 w-4\" />\n                            </Button>\n                          </DropdownMenuTrigger>\n                          <DropdownMenuContent align=\"end\">\n                            <DropdownMenuItem onClick={() => handleView(product)}>\n                              <Eye className=\"h-4 w-4 mr-2\" />\n                              Urun Karti\n                            </DropdownMenuItem>\n                            <DropdownMenuItem onClick={() => handleEdit(product)}>\n                              <Pencil className=\"h-4 w-4 mr-2\" />\n                              Duzenle\n                            </DropdownMenuItem>\n                            <DropdownMenuSeparator />\n                            <DropdownMenuItem onClick={() => handleToggleStatus(product)}>\n                              {isActive ? '🔴 Pasif Yap' : '🟢 Aktif Yap'}\n                            </DropdownMenuItem>\n                            <DropdownMenuSeparator />\n                            <DropdownMenuItem\n                              onClick={() => handleDelete(product)}\n                              className=\"text-red-600\"\n                            >\n                              <Trash2 className=\"h-4 w-4 mr-2\" />\n                              Sil\n                            </DropdownMenuItem>\n                          </DropdownMenuContent>\n                        </DropdownMenu>\n                      </TableCell>\n                    </TableRow>\n                  );\n                })\n              )}\n            </TableBody>\n          </Table>\n        </div>\n      </div>\n\n      {/* Footer with pagination and stats */}\n      <div className=\"bg-white border-t px-8 py-3 flex items-center justify-between\">\n        <div className=\"flex items-center gap-4 text-sm text-gray-600\">\n          <span>📦 Toplam: {stats.total}</span>\n          <span>✅ Aktif: {stats.active}</span>\n          <span>⚠️ Dusuk Stok: {stats.lowStock}</span>\n        </div>\n\n        {/* Pagination controls */}\n        <div className=\"flex items-center gap-2\">\n          <Button\n            variant=\"outline\"\n            size=\"icon\"\n            className=\"h-8 w-8\"\n            disabled={currentPage === 0}\n            onClick={() => setCurrentPage(0)}\n          >\n            <ChevronsLeft className=\"h-4 w-4\" />\n          </Button>\n          <Button\n            variant=\"outline\"\n            size=\"icon\"\n            className=\"h-8 w-8\"\n            disabled={currentPage === 0}\n            onClick={() => setCurrentPage(p => Math.max(0, p - 1))}\n          >\n            <ChevronLeft className=\"h-4 w-4\" />\n          </Button>\n\n          <span className=\"px-3 text-sm font-medium text-gray-700\">\n            {currentPage + 1} / {totalPages} ({filteredProducts.length})\n          </span>\n\n          <Button\n            variant=\"outline\"\n            size=\"icon\"\n            className=\"h-8 w-8\"\n            disabled={currentPage >= totalPages - 1}\n            onClick={() => setCurrentPage(p => Math.min(totalPages - 1, p + 1))}\n          >\n            <ChevronRight className=\"h-4 w-4\" />\n          </Button>\n          <Button\n            variant=\"outline\"\n            size=\"icon\"\n            className=\"h-8 w-8\"\n            disabled={currentPage >= totalPages - 1}\n            onClick={() => setCurrentPage(totalPages - 1)}\n          >\n            <ChevronsRight className=\"h-4 w-4\" />\n          </Button>\n        </div>\n      </div>\n\n      {/* Product Dialog - for add/edit */}\n      <ProductDialog\n        open={dialogOpen}\n        onOpenChange={setDialogOpen}\n        product={selectedProduct}\n        onSave={() => setDialogOpen(false)}\n      />\n\n      {/* Product Card Dialog - for viewing details */}\n      <ProductCardDialog\n        open={cardDialogOpen}\n        onOpenChange={setCardDialogOpen}\n        product={viewProduct}\n        onEdit={(productId) => {\n          const product = products.find(p => p.id === productId);\n          if (product) {\n            setSelectedProduct(product);\n            setDialogOpen(true);\n          }\n        }}\n      />\n\n      {/* Stock Report Dialog */}\n      <ReportDialog\n        open={reportDialogOpen}\n        onOpenChange={setReportDialogOpen}\n        reportType=\"stock\"\n      />\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}}]
}