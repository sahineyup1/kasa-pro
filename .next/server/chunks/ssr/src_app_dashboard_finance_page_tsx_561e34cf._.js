module.exports=[85088,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(99570),e=a.i(66718),f=a.i(80701),g=a.i(75083),h=a.i(6015),i=a.i(35732),j=a.i(29258),k=a.i(15618),l=a.i(69520),m=a.i(17755),n=a.i(87532),o=a.i(84505),p=a.i(56738),q=a.i(67900),r=a.i(11156),s=a.i(24669),t=a.i(53277),u=a.i(90166),v=a.i(70106);let w=(0,v.default)("arrow-up-right",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]),x=(0,v.default)("arrow-down-right",[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]]);function y({type:a}){let c={income:(0,b.jsx)(w,{className:"h-3 w-3 mr-1"}),expense:(0,b.jsx)(x,{className:"h-3 w-3 mr-1"}),transfer:(0,b.jsx)("span",{className:"mr-1",children:"â†”ï¸"})};return(0,b.jsxs)("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${{income:"bg-green-100 text-green-800",expense:"bg-red-100 text-red-800",transfer:"bg-blue-100 text-blue-800"}[a]||"bg-gray-100 text-gray-600"}`,children:[c[a],{income:"Giris",expense:"Cikis",transfer:"Transfer"}[a]||a]})}function z(){let[a,v]=(0,c.useState)([]),[z,A]=(0,c.useState)([]),[B,C]=(0,c.useState)(!0),[D,E]=(0,c.useState)(""),[F,G]=(0,c.useState)("all"),[H,I]=(0,c.useState)("all"),[J,K]=(0,c.useState)("");(0,c.useEffect)(()=>{C(!0);let a=(0,j.subscribeToFirestore)("transactions",a=>{v(a||[]),C(!1)}),b=(0,j.subscribeToFirestore)("accounts",a=>{A(a||[])});return()=>{a(),b()}},[]);let L=(0,c.useMemo)(()=>a.filter(a=>{let b=a.description||"",c=a.reference||"",d=D.toLowerCase(),e=!D||b.toLowerCase().includes(d)||c.toLowerCase().includes(d),f="all"===F||a.type===F,g="all"===H||a.account===H||a.accountType===H,h=!J||a.date&&a.date.startsWith(J);return e&&f&&g&&h}).sort((a,b)=>{let c=new Date(a.date||a.createdAt||"");return new Date(b.date||b.createdAt||"").getTime()-c.getTime()}),[a,D,F,H,J]),M=(0,c.useMemo)(()=>{let b=z.filter(a=>"cash"===a.type).reduce((a,b)=>a+(b.balance||0),0),c=z.filter(a=>"bank"===a.type).reduce((a,b)=>a+(b.balance||0),0),d=new Date().toISOString().split("T")[0],e=a.filter(a=>a.date?.startsWith(d)||a.createdAt?.startsWith(d)),f=e.filter(a=>"income"===a.type).reduce((a,b)=>a+(b.amount||0),0),g=e.filter(a=>"expense"===a.type).reduce((a,b)=>a+(b.amount||0),0);return{cashBalance:b,bankBalance:c,totalBalance:b+c,todayIncome:f,todayExpense:g,todayNet:f-g}},[a,z]),N=async a=>{let b=prompt(`${"income"===a?"Giris":"Cikis"} aciklamasi:`);if(!b)return;let c=prompt("Tutar (EUR):");if(!c)return;let d=parseFloat(c);if(isNaN(d)||d<=0)return void alert("Gecersiz tutar!");try{await (0,j.addFirestoreData)("transactions",{date:new Date().toISOString().split("T")[0],type:a,amount:d,description:b,category:"income"===a?"sales":"other",accountType:"cash",createdAt:new Date().toISOString()})}catch(a){alert("Islem eklenemedi: "+a.message)}};return(0,b.jsxs)("div",{className:"h-full flex flex-col bg-gray-50",children:[(0,b.jsx)("div",{className:"bg-white border-b px-8 py-6",children:(0,b.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-2xl font-semibold text-gray-900",children:"Finans Yonetimi"}),(0,b.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"Kasa, banka ve nakit akisi yonetimi"})]}),(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsxs)(d.Button,{variant:"outline",size:"sm",onClick:()=>{C(!0),setTimeout(()=>C(!1),500)},disabled:B,children:[(0,b.jsx)(l.RefreshCw,{className:`h-4 w-4 mr-2 ${B?"animate-spin":""}`}),"Yenile"]}),(0,b.jsxs)(d.Button,{variant:"outline",size:"sm",children:[(0,b.jsx)(o.Download,{className:"h-4 w-4 mr-2"}),"Rapor"]}),(0,b.jsxs)(d.Button,{variant:"outline",className:"bg-green-600 hover:bg-green-700 text-white border-0",onClick:()=>N("income"),children:[(0,b.jsx)(w,{className:"h-4 w-4 mr-2"}),"Giris"]}),(0,b.jsxs)(d.Button,{variant:"outline",className:"bg-red-600 hover:bg-red-700 text-white border-0",onClick:()=>N("expense"),children:[(0,b.jsx)(x,{className:"h-4 w-4 mr-2"}),"Cikis"]})]})]})}),(0,b.jsx)("div",{className:"flex-1 overflow-auto p-8",children:(0,b.jsxs)(g.Tabs,{defaultValue:"dashboard",className:"w-full",children:[(0,b.jsxs)(g.TabsList,{className:"grid w-full grid-cols-4 mb-6",children:[(0,b.jsx)(g.TabsTrigger,{value:"dashboard",children:"Finans Ozeti"}),(0,b.jsx)(g.TabsTrigger,{value:"cash",children:"Kasa"}),(0,b.jsx)(g.TabsTrigger,{value:"bank",children:"Banka"}),(0,b.jsx)(g.TabsTrigger,{value:"credits",children:"Krediler"})]}),(0,b.jsxs)(g.TabsContent,{value:"dashboard",children:[(0,b.jsxs)("div",{className:"grid grid-cols-6 gap-4 mb-6",children:[(0,b.jsx)("div",{className:"bg-white rounded-lg border-l-4 border-l-green-500 p-4",children:(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"p-2 bg-green-100 rounded-lg",children:(0,b.jsx)(p.Wallet,{className:"h-5 w-5 text-green-600"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm text-gray-600",children:"Kasa Bakiyesi"}),(0,b.jsxs)("p",{className:"text-xl font-semibold text-green-600",children:["â‚¬",M.cashBalance.toLocaleString("tr-TR",{minimumFractionDigits:2})]})]})]})}),(0,b.jsx)("div",{className:"bg-white rounded-lg border-l-4 border-l-blue-500 p-4",children:(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"p-2 bg-blue-100 rounded-lg",children:(0,b.jsx)(q.Building2,{className:"h-5 w-5 text-blue-600"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm text-gray-600",children:"Banka Bakiyesi"}),(0,b.jsxs)("p",{className:"text-xl font-semibold text-blue-600",children:["â‚¬",M.bankBalance.toLocaleString("tr-TR",{minimumFractionDigits:2})]})]})]})}),(0,b.jsx)("div",{className:"bg-white rounded-lg border-l-4 border-l-purple-500 p-4",children:(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"p-2 bg-purple-100 rounded-lg",children:(0,b.jsx)(u.DollarSign,{className:"h-5 w-5 text-purple-600"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm text-gray-600",children:"Toplam Varlik"}),(0,b.jsxs)("p",{className:"text-xl font-semibold text-purple-600",children:["â‚¬",M.totalBalance.toLocaleString("tr-TR",{minimumFractionDigits:2})]})]})]})}),(0,b.jsx)("div",{className:"bg-white rounded-lg border-l-4 border-l-green-500 p-4",children:(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"p-2 bg-green-100 rounded-lg",children:(0,b.jsx)(s.TrendingUp,{className:"h-5 w-5 text-green-600"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm text-gray-600",children:"Bugun Giris"}),(0,b.jsxs)("p",{className:"text-xl font-semibold text-green-600",children:["â‚¬",M.todayIncome.toLocaleString("tr-TR",{minimumFractionDigits:2})]})]})]})}),(0,b.jsx)("div",{className:"bg-white rounded-lg border-l-4 border-l-red-500 p-4",children:(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"p-2 bg-red-100 rounded-lg",children:(0,b.jsx)(t.TrendingDown,{className:"h-5 w-5 text-red-600"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm text-gray-600",children:"Bugun Cikis"}),(0,b.jsxs)("p",{className:"text-xl font-semibold text-red-600",children:["â‚¬",M.todayExpense.toLocaleString("tr-TR",{minimumFractionDigits:2})]})]})]})}),(0,b.jsx)("div",{className:"bg-white rounded-lg border-l-4 border-l-amber-500 p-4",children:(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"p-2 bg-amber-100 rounded-lg",children:(0,b.jsx)(u.DollarSign,{className:"h-5 w-5 text-amber-600"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm text-gray-600",children:"Bugun Net"}),(0,b.jsxs)("p",{className:`text-xl font-semibold ${M.todayNet>=0?"text-green-600":"text-red-600"}`,children:["â‚¬",M.todayNet.toLocaleString("tr-TR",{minimumFractionDigits:2})]})]})]})})]}),(0,b.jsxs)("div",{className:"flex items-center gap-4 mb-4",children:[(0,b.jsxs)("div",{className:"relative flex-1 max-w-md",children:[(0,b.jsx)(n.Search,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400"}),(0,b.jsx)(e.Input,{placeholder:"Islem ara...",value:D,onChange:a=>E(a.target.value),className:"pl-10"})]}),(0,b.jsx)(e.Input,{type:"date",value:J,onChange:a=>K(a.target.value),className:"w-[180px]"}),(0,b.jsxs)(f.Select,{value:F,onValueChange:G,children:[(0,b.jsx)(f.SelectTrigger,{className:"w-[150px]",children:(0,b.jsx)(f.SelectValue,{placeholder:"Tip"})}),(0,b.jsxs)(f.SelectContent,{children:[(0,b.jsx)(f.SelectItem,{value:"all",children:"Tum tipler"}),(0,b.jsx)(f.SelectItem,{value:"income",children:"Giris"}),(0,b.jsx)(f.SelectItem,{value:"expense",children:"Cikis"}),(0,b.jsx)(f.SelectItem,{value:"transfer",children:"Transfer"})]})]}),(0,b.jsxs)(f.Select,{value:H,onValueChange:I,children:[(0,b.jsx)(f.SelectTrigger,{className:"w-[150px]",children:(0,b.jsx)(f.SelectValue,{placeholder:"Hesap"})}),(0,b.jsxs)(f.SelectContent,{children:[(0,b.jsx)(f.SelectItem,{value:"all",children:"Tum hesaplar"}),(0,b.jsx)(f.SelectItem,{value:"cash",children:"Kasa"}),(0,b.jsx)(f.SelectItem,{value:"bank",children:"Banka"})]})]})]}),(0,b.jsx)("div",{className:"bg-white rounded-lg border",children:(0,b.jsxs)(h.Table,{children:[(0,b.jsx)(h.TableHeader,{children:(0,b.jsxs)(h.TableRow,{children:[(0,b.jsx)(h.TableHead,{children:"Tarih"}),(0,b.jsx)(h.TableHead,{children:"Tip"}),(0,b.jsx)(h.TableHead,{children:"Aciklama"}),(0,b.jsx)(h.TableHead,{children:"Kategori"}),(0,b.jsx)(h.TableHead,{children:"Hesap"}),(0,b.jsx)(h.TableHead,{className:"text-right",children:"Tutar"}),(0,b.jsx)(h.TableHead,{className:"w-[60px]"})]})}),(0,b.jsx)(h.TableBody,{children:B?(0,b.jsx)(h.TableRow,{children:(0,b.jsx)(h.TableCell,{colSpan:7,className:"text-center py-8 text-gray-500",children:"Yukleniyor..."})}):0===L.length?(0,b.jsx)(h.TableRow,{children:(0,b.jsx)(h.TableCell,{colSpan:7,className:"text-center py-8 text-gray-500",children:D||"all"!==F||"all"!==H||J?"Filtrelere uygun islem bulunamadi":"Henuz islem eklenmemis"})}):L.slice(0,50).map(a=>(0,b.jsxs)(h.TableRow,{className:"hover:bg-gray-50",children:[(0,b.jsx)(h.TableCell,{className:"font-medium",children:a.date||a.createdAt?.split("T")[0]||"-"}),(0,b.jsx)(h.TableCell,{children:(0,b.jsx)(y,{type:a.type||"other"})}),(0,b.jsx)(h.TableCell,{children:a.description||"-"}),(0,b.jsx)(h.TableCell,{className:"text-gray-600",children:a.category||"-"}),(0,b.jsx)(h.TableCell,{className:"text-gray-600",children:"cash"===a.accountType?"ðŸ’µ Kasa":"bank"===a.accountType?"ðŸ¦ Banka":a.accountType||"-"}),(0,b.jsxs)(h.TableCell,{className:`text-right font-medium ${"income"===a.type?"text-green-600":"expense"===a.type?"text-red-600":""}`,children:["income"===a.type?"+":"expense"===a.type?"-":"","â‚¬",(a.amount||0).toLocaleString("tr-TR",{minimumFractionDigits:2})]}),(0,b.jsx)(h.TableCell,{children:(0,b.jsxs)(i.DropdownMenu,{children:[(0,b.jsx)(i.DropdownMenuTrigger,{asChild:!0,children:(0,b.jsx)(d.Button,{variant:"ghost",size:"icon",className:"h-8 w-8",children:(0,b.jsx)(m.MoreHorizontal,{className:"h-4 w-4"})})}),(0,b.jsxs)(i.DropdownMenuContent,{align:"end",children:[(0,b.jsx)(i.DropdownMenuItem,{children:"Detaylar"}),(0,b.jsx)(i.DropdownMenuItem,{children:"Duzenle"}),(0,b.jsx)(i.DropdownMenuItem,{className:"text-red-600",children:"Sil"})]})]})})]},a.id))})]})})]}),(0,b.jsx)(g.TabsContent,{value:"cash",children:(0,b.jsxs)("div",{className:"bg-white rounded-lg border p-8 text-center",children:[(0,b.jsx)(p.Wallet,{className:"h-12 w-12 mx-auto text-gray-400 mb-4"}),(0,b.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Kasa Islemleri"}),(0,b.jsx)("p",{className:"text-gray-500 mb-4",children:"Gunluk kasa acilis, nakit satis, tahsilat ve kasa kapanisi islemleri"}),(0,b.jsxs)("div",{className:"flex justify-center gap-4",children:[(0,b.jsxs)(d.Button,{onClick:()=>N("income"),children:[(0,b.jsx)(k.Plus,{className:"h-4 w-4 mr-2"}),"Kasaya Giris"]}),(0,b.jsxs)(d.Button,{variant:"outline",onClick:()=>N("expense"),children:[(0,b.jsx)(x,{className:"h-4 w-4 mr-2"}),"Kasadan Cikis"]})]})]})}),(0,b.jsx)(g.TabsContent,{value:"bank",children:(0,b.jsxs)("div",{className:"bg-white rounded-lg border p-8 text-center",children:[(0,b.jsx)(q.Building2,{className:"h-12 w-12 mx-auto text-gray-400 mb-4"}),(0,b.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Banka Hesaplari"}),(0,b.jsx)("p",{className:"text-gray-500 mb-4",children:"Banka hesaplari, havale/EFT islemleri ve banka mutabakati"}),(0,b.jsxs)("div",{className:"flex justify-center gap-4",children:[(0,b.jsxs)(d.Button,{children:[(0,b.jsx)(k.Plus,{className:"h-4 w-4 mr-2"}),"Banka Hesabi Ekle"]}),(0,b.jsx)(d.Button,{variant:"outline",children:"Havale/EFT"})]})]})}),(0,b.jsx)(g.TabsContent,{value:"credits",children:(0,b.jsxs)("div",{className:"bg-white rounded-lg border p-8 text-center",children:[(0,b.jsx)(r.CreditCard,{className:"h-12 w-12 mx-auto text-gray-400 mb-4"}),(0,b.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Kredi Yonetimi"}),(0,b.jsx)("p",{className:"text-gray-500 mb-4",children:"Banka kredileri, taksit planlari ve odeme takibi"}),(0,b.jsxs)("div",{className:"flex justify-center gap-4",children:[(0,b.jsxs)(d.Button,{children:[(0,b.jsx)(k.Plus,{className:"h-4 w-4 mr-2"}),"Kredi Ekle"]}),(0,b.jsx)(d.Button,{variant:"outline",children:"Taksit Ode"})]})]})})]})})]})}a.s(["default",()=>z],85088)}];

//# sourceMappingURL=src_app_dashboard_finance_page_tsx_561e34cf._.js.map