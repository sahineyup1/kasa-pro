module.exports=[76138,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(99570),e=a.i(66718),f=a.i(80701),g=a.i(29258),h=a.i(69520),i=a.i(41675),j=a.i(39761),k=a.i(24669),l=a.i(53277),m=a.i(90166),n=a.i(83497),o=a.i(60246),p=a.i(10227),q=a.i(1199),r=a.i(56738),s=a.i(67900),t=a.i(77156),u=a.i(69167),v=a.i(14574),w=a.i(75083),x=a.i(6015);a.i(35112);var y=a.i(11011),z=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((a,d)=>{let e=(0,y.createSlot)(`Primitive.${d}`),f=c.forwardRef((a,c)=>{let{asChild:f,...g}=a;return(0,b.jsx)(f?e:d,{...g,ref:c})});return f.displayName=`Primitive.${d}`,{...a,[d]:f}},{}),A="Progress",[B,C]=function(a,d=[]){let e=[],f=()=>{let b=e.map(a=>c.createContext(a));return function(d){let e=d?.[a]||b;return c.useMemo(()=>({[`__scope${a}`]:{...d,[a]:e}}),[d,e])}};return f.scopeName=a,[function(d,f){let g=c.createContext(f);g.displayName=d+"Context";let h=e.length;e=[...e,f];let i=d=>{let{scope:e,children:f,...i}=d,j=e?.[a]?.[h]||g,k=c.useMemo(()=>i,Object.values(i));return(0,b.jsx)(j.Provider,{value:k,children:f})};return i.displayName=d+"Provider",[i,function(b,e){let i=e?.[a]?.[h]||g,j=c.useContext(i);if(j)return j;if(void 0!==f)return f;throw Error(`\`${b}\` must be used within \`${d}\``)}]},function(...a){let b=a[0];if(1===a.length)return b;let d=()=>{let d=a.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(a){let e=d.reduce((b,{useScope:c,scopeName:d})=>{let e=c(a)[`__scope${d}`];return{...b,...e}},{});return c.useMemo(()=>({[`__scope${b.scopeName}`]:e}),[e])}};return d.scopeName=b.scopeName,d}(f,...d)]}(A),[D,E]=B(A),F=c.forwardRef((a,c)=>{var d,e;let{__scopeProgress:f,value:g=null,max:h,getValueLabel:i=I,...j}=a;(h||0===h)&&!L(h)&&console.error((d=`${h}`,`Invalid prop \`max\` of value \`${d}\` supplied to \`Progress\`. Only numbers greater than 0 are valid max values. Defaulting to \`100\`.`));let k=L(h)?h:100;null===g||M(g,k)||console.error((e=`${g}`,`Invalid prop \`value\` of value \`${e}\` supplied to \`Progress\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or 100 if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`));let l=M(g,k)?g:null,m=K(l)?i(l,k):void 0;return(0,b.jsx)(D,{scope:f,value:l,max:k,children:(0,b.jsx)(z.div,{"aria-valuemax":k,"aria-valuemin":0,"aria-valuenow":K(l)?l:void 0,"aria-valuetext":m,role:"progressbar","data-state":J(l,k),"data-value":l??void 0,"data-max":k,...j,ref:c})})});F.displayName=A;var G="ProgressIndicator",H=c.forwardRef((a,c)=>{let{__scopeProgress:d,...e}=a,f=E(G,d);return(0,b.jsx)(z.div,{"data-state":J(f.value,f.max),"data-value":f.value??void 0,"data-max":f.max,...e,ref:c})});function I(a,b){return`${Math.round(a/b*100)}%`}function J(a,b){return null==a?"indeterminate":a===b?"complete":"loading"}function K(a){return"number"==typeof a}function L(a){return K(a)&&!isNaN(a)&&a>0}function M(a,b){return K(a)&&!isNaN(a)&&a<=b&&a>=0}H.displayName=G;var N=a.i(68114);let O=c.forwardRef(({className:a,value:c,...d},e)=>(0,b.jsx)(F,{ref:e,className:(0,N.cn)("relative h-4 w-full overflow-hidden rounded-full bg-gray-100",a),...d,children:(0,b.jsx)(H,{className:"h-full w-full flex-1 bg-blue-600 transition-all",style:{transform:`translateX(-${100-(c||0)}%)`}})}));O.displayName=F.displayName;var P=a.i(96221),Q=a.i(84505),R=a.i(71931),S=a.i(4720),T=a.i(46864);let U=(0,a.i(70106).default)("user-x",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);var V=a.i(41710),W=a.i(73570),X=a.i(16201);function Y({title:a,value:c,icon:d,color:e="blue"}){return(0,b.jsxs)("div",{className:`rounded-lg border-l-4 p-4 ${{blue:"border-l-blue-500 bg-blue-50",green:"border-l-green-500 bg-green-50",red:"border-l-red-500 bg-red-50",amber:"border-l-amber-500 bg-amber-50",purple:"border-l-purple-500 bg-purple-50"}[e]}`,children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,b.jsx)("span",{className:"text-sm text-gray-600",children:a}),d]}),(0,b.jsx)("span",{className:`text-2xl font-bold ${{blue:"text-blue-600",green:"text-green-600",red:"text-red-600",amber:"text-amber-600",purple:"text-purple-600"}[e]}`,children:c})]})}function Z({status:a}){let c={expired:(0,b.jsx)(W.AlertTriangle,{className:"h-3 w-3 mr-1"}),warning:(0,b.jsx)(V.Clock,{className:"h-3 w-3 mr-1"}),ok:(0,b.jsx)(X.CheckCircle,{className:"h-3 w-3 mr-1"})};return(0,b.jsxs)("span",{className:`inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium ${{expired:"bg-red-100 text-red-800",warning:"bg-amber-100 text-amber-800",ok:"bg-green-100 text-green-800"}[a]}`,children:[c[a],{expired:"Suresi Dolmus",warning:"Yakinda Dolacak",ok:"Guncel"}[a]]})}function $({open:a,onOpenChange:e}){let[f,j]=(0,c.useState)([]),[l,n]=(0,c.useState)(!0),[p,q]=(0,c.useState)("summary");(0,c.useEffect)(()=>{if(!a)return;n(!0);let b=(0,g.subscribeToFirestore)("employees",a=>{j(a||[]),n(!1)});return()=>{b()}},[a]);let r=a=>a.personal_info?.full_name||a.name||"-",s=a=>a.work_info?.department||a.employment_info?.department||a.department||"-",t=a=>a.work_info?.position||a.employment_info?.position||a.position||"-",u=a=>a.work_info?.status||"Aktif",y=a=>(a.work_info?.monthly_salary||a.salary_info?.monthly_salary||a.salary||0)+(a.work_info?.cash_salary||a.salary_info?.cash_salary||0),z=a=>{if(!a||"-"===a||"9999-12-31"===a)return"ok";try{let b=new Date(a),c=new Date,d=new Date;if(d.setDate(d.getDate()+30),b<c)return"expired";if(b<d)return"warning";return"ok"}catch{return"ok"}},A=a=>{if(!a||"-"===a||"9999-12-31"===a)return"-";try{return new Date(a).toLocaleDateString("tr-TR")}catch{return a}},B=(0,c.useMemo)(()=>{let a=f.length,b=f.filter(a=>"Aktif"===u(a)).length,c=f.filter(a=>"Izinli"===u(a)).length,d=f.reduce((a,b)=>a+y(b),0);return{total:a,active:b,onLeave:c,totalSalary:d,avgSalary:a>0?d/a:0}},[f]),C=(0,c.useMemo)(()=>{let a={};f.forEach(b=>{let c=t(b);a[c]=(a[c]||0)+1});let b=f.length;return Object.entries(a).map(([a,c])=>({position:a,count:c,percentage:b>0?c/b*100:0})).sort((a,b)=>b.count-a.count)},[f]),D=(0,c.useMemo)(()=>{let a={};f.forEach(b=>{let c=s(b),d=y(b);a[c]||(a[c]={count:0,totalSalary:0}),a[c].count++,a[c].totalSalary+=d});let b=f.length;return Object.entries(a).map(([a,c])=>({department:a,count:c.count,totalSalary:c.totalSalary,avgSalary:c.count>0?c.totalSalary/c.count:0,percentage:b>0?c.count/b*100:0})).sort((a,b)=>b.count-a.count)},[f]),E=(0,c.useMemo)(()=>{let a=f.map(a=>y(a)).filter(a=>a>0);return 0===a.length?{min:0,max:0,total:0}:{min:Math.min(...a),max:Math.max(...a),total:a.reduce((a,b)=>a+b,0)}},[f]),F=(0,c.useMemo)(()=>{let a={};f.forEach(b=>{let c=t(b),d=y(b);d>0&&(a[c]||(a[c]={total:0,count:0}),a[c].total+=d,a[c].count++)});let b=Object.entries(a).map(([a,b])=>({position:a,avgSalary:b.count>0?b.total/b.count:0})).sort((a,b)=>b.avgSalary-a.avgSalary),c=b.length>0?b[0].avgSalary:0;return b.map(a=>({...a,percentage:c>0?a.avgSalary/c*100:0}))},[f]),G=(0,c.useMemo)(()=>f.map(a=>{let b=a.documents?.visa_expiry_date||a.visa_info?.visa_expiry_date,c=a.documents?.residence_permit_expiry,d=a.documents?.work_permit_expiry,e=z(b),f=z(c),g=z(d),h="ok";return"expired"===e||"expired"===f||"expired"===g?h="expired":("warning"===e||"warning"===f||"warning"===g)&&(h="warning"),{id:a.id,name:r(a),visaExpiry:A(b),residenceExpiry:A(c),workPermitExpiry:A(d),status:h}}).sort((a,b)=>{let c={expired:0,warning:1,ok:2};return c[a.status]-c[b.status]}),[f]),H=(0,c.useMemo)(()=>{let a=new Date;return a.setDate(a.getDate()-30),f.filter(b=>{let c=b.work_info?.hire_date;if(!c)return!1;try{return new Date(c)>=a}catch{return!1}}).map(a=>({id:a.id,name:r(a),position:t(a),department:s(a),hireDate:A(a.work_info?.hire_date)})).sort((a,b)=>{let c=new Date(a.hireDate);return new Date(b.hireDate).getTime()-c.getTime()})},[f]);return(0,b.jsx)(v.Dialog,{open:a,onOpenChange:e,children:(0,b.jsxs)(v.DialogContent,{className:"max-w-6xl max-h-[90vh] overflow-hidden flex flex-col",children:[(0,b.jsx)(v.DialogHeader,{className:"border-b pb-4",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)(v.DialogTitle,{className:"text-xl font-semibold flex items-center gap-2",children:[(0,b.jsx)(o.Users,{className:"h-6 w-6 text-blue-600"}),"Personel Rapor Merkezi"]}),(0,b.jsxs)("p",{className:"text-sm text-gray-500 mt-1",children:["Toplam ",f.length," personel - ",new Date().toLocaleDateString("tr-TR")]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsxs)(d.Button,{variant:"outline",size:"sm",onClick:()=>{n(!0),setTimeout(()=>n(!1),500)},disabled:l,children:[(0,b.jsx)(h.RefreshCw,{className:`h-4 w-4 mr-2 ${l?"animate-spin":""}`}),"Yenile"]}),(0,b.jsxs)(d.Button,{variant:"outline",size:"sm",onClick:()=>{alert("Excel export ozeligi yakinda...")},children:[(0,b.jsx)(Q.Download,{className:"h-4 w-4 mr-2"}),"Excel"]}),(0,b.jsxs)(d.Button,{variant:"outline",size:"sm",onClick:()=>{window.print()},children:[(0,b.jsx)(R.Printer,{className:"h-4 w-4 mr-2"}),"Yazdir"]})]})]})}),(0,b.jsx)("div",{className:"flex-1 overflow-y-auto py-4",children:l?(0,b.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,b.jsx)(P.Loader2,{className:"h-8 w-8 animate-spin text-blue-600"})}):(0,b.jsxs)(w.Tabs,{value:p,onValueChange:q,className:"w-full",children:[(0,b.jsxs)(w.TabsList,{className:"grid w-full grid-cols-4 mb-4",children:[(0,b.jsx)(w.TabsTrigger,{value:"summary",children:"Ozet Istatistikler"}),(0,b.jsx)(w.TabsTrigger,{value:"department",children:"Departman Analizi"}),(0,b.jsx)(w.TabsTrigger,{value:"salary",children:"Maas Analizi"}),(0,b.jsx)(w.TabsTrigger,{value:"visa",children:"Vize & Belge"})]}),(0,b.jsxs)(w.TabsContent,{value:"summary",className:"space-y-6",children:[(0,b.jsxs)("div",{className:"grid grid-cols-4 gap-4",children:[(0,b.jsx)(Y,{title:"Toplam Personel",value:B.total.toString(),icon:(0,b.jsx)(o.Users,{className:"h-5 w-5 text-blue-600"}),color:"blue"}),(0,b.jsx)(Y,{title:"Aktif Personel",value:B.active.toString(),icon:(0,b.jsx)(T.UserCheck,{className:"h-5 w-5 text-green-600"}),color:"green"}),(0,b.jsx)(Y,{title:"Izinli",value:B.onLeave.toString(),icon:(0,b.jsx)(U,{className:"h-5 w-5 text-amber-600"}),color:"amber"}),(0,b.jsx)(Y,{title:"Ortalama Maas",value:`€${B.avgSalary.toLocaleString("tr-TR",{maximumFractionDigits:0})}`,icon:(0,b.jsx)(m.DollarSign,{className:"h-5 w-5 text-purple-600"}),color:"purple"})]}),(0,b.jsxs)("div",{className:"bg-white rounded-lg border p-4",children:[(0,b.jsx)("h4",{className:"font-semibold text-gray-900 mb-4",children:"Pozisyon Dagilimi"}),(0,b.jsx)("div",{className:"space-y-3",children:C.slice(0,8).map(a=>(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"flex items-center justify-between text-sm mb-1",children:[(0,b.jsx)("span",{className:"font-medium",children:a.position}),(0,b.jsxs)("span",{className:"text-gray-500",children:[a.count," kisi (",a.percentage.toFixed(1),"%)"]})]}),(0,b.jsx)(O,{value:a.percentage,className:"h-2"})]},a.position))})]}),(0,b.jsxs)("div",{className:"bg-white rounded-lg border p-4",children:[(0,b.jsxs)("h4",{className:"font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[(0,b.jsx)(i.Calendar,{className:"h-5 w-5 text-blue-600"}),"Son Ise Alinanlar (30 Gun)"]}),0===H.length?(0,b.jsx)("p",{className:"text-gray-500 text-center py-4",children:"Son 30 gunde yeni ise alim yok"}):(0,b.jsxs)(x.Table,{children:[(0,b.jsx)(x.TableHeader,{children:(0,b.jsxs)(x.TableRow,{children:[(0,b.jsx)(x.TableHead,{children:"Ad Soyad"}),(0,b.jsx)(x.TableHead,{children:"Pozisyon"}),(0,b.jsx)(x.TableHead,{children:"Departman"}),(0,b.jsx)(x.TableHead,{children:"Ise Baslama"})]})}),(0,b.jsx)(x.TableBody,{children:H.map(a=>(0,b.jsxs)(x.TableRow,{children:[(0,b.jsx)(x.TableCell,{className:"font-medium",children:a.name}),(0,b.jsx)(x.TableCell,{children:a.position}),(0,b.jsx)(x.TableCell,{children:a.department}),(0,b.jsx)(x.TableCell,{children:a.hireDate})]},a.id))})]})]})]}),(0,b.jsxs)(w.TabsContent,{value:"department",className:"space-y-6",children:[(0,b.jsxs)("div",{className:"bg-white rounded-lg border p-4",children:[(0,b.jsx)("h4",{className:"font-semibold text-gray-900 mb-4",children:"Departman Dagilimi"}),(0,b.jsx)("div",{className:"space-y-3",children:D.slice(0,8).map((a,c)=>{let d=["bg-blue-500","bg-green-500","bg-amber-500","bg-red-500","bg-purple-500","bg-teal-500"];return(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"flex items-center justify-between text-sm mb-1",children:[(0,b.jsx)("span",{className:"font-medium",children:a.department}),(0,b.jsxs)("span",{className:"text-gray-500",children:[a.count," kisi (",a.percentage.toFixed(1),"%)"]})]}),(0,b.jsx)("div",{className:"h-2 bg-gray-100 rounded-full overflow-hidden",children:(0,b.jsx)("div",{className:`h-full ${d[c%d.length]} rounded-full`,style:{width:`${a.percentage}%`}})})]},a.department)})})]}),(0,b.jsxs)("div",{className:"bg-white rounded-lg border",children:[(0,b.jsx)("div",{className:"p-4 border-b",children:(0,b.jsx)("h4",{className:"font-semibold text-gray-900",children:"Departman Detaylari"})}),(0,b.jsxs)(x.Table,{children:[(0,b.jsx)(x.TableHeader,{children:(0,b.jsxs)(x.TableRow,{children:[(0,b.jsx)(x.TableHead,{children:"Departman"}),(0,b.jsx)(x.TableHead,{className:"text-right",children:"Personel"}),(0,b.jsx)(x.TableHead,{className:"text-right",children:"Ort. Maas"}),(0,b.jsx)(x.TableHead,{className:"text-right",children:"Toplam Maas"})]})}),(0,b.jsx)(x.TableBody,{children:D.map(a=>(0,b.jsxs)(x.TableRow,{children:[(0,b.jsx)(x.TableCell,{className:"font-medium",children:a.department}),(0,b.jsx)(x.TableCell,{className:"text-right",children:a.count}),(0,b.jsxs)(x.TableCell,{className:"text-right",children:["€",a.avgSalary.toLocaleString("tr-TR",{maximumFractionDigits:0})]}),(0,b.jsxs)(x.TableCell,{className:"text-right font-semibold",children:["€",a.totalSalary.toLocaleString("tr-TR",{maximumFractionDigits:0})]})]},a.department))})]})]})]}),(0,b.jsxs)(w.TabsContent,{value:"salary",className:"space-y-6",children:[(0,b.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,b.jsx)(Y,{title:"Toplam Maas Gideri",value:`€${E.total.toLocaleString("tr-TR",{maximumFractionDigits:0})}`,icon:(0,b.jsx)(m.DollarSign,{className:"h-5 w-5 text-red-600"}),color:"red"}),(0,b.jsx)(Y,{title:"En Dusuk Maas",value:`€${E.min.toLocaleString("tr-TR",{maximumFractionDigits:0})}`,icon:(0,b.jsx)(k.TrendingUp,{className:"h-5 w-5 text-blue-600"}),color:"blue"}),(0,b.jsx)(Y,{title:"En Yuksek Maas",value:`€${E.max.toLocaleString("tr-TR",{maximumFractionDigits:0})}`,icon:(0,b.jsx)(k.TrendingUp,{className:"h-5 w-5 text-green-600"}),color:"green"})]}),(0,b.jsxs)("div",{className:"bg-white rounded-lg border p-4",children:[(0,b.jsx)("h4",{className:"font-semibold text-gray-900 mb-4",children:"Pozisyona Gore Ortalama Maas"}),(0,b.jsx)("div",{className:"space-y-3",children:F.map(a=>(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"flex items-center justify-between text-sm mb-1",children:[(0,b.jsx)("span",{className:"font-medium",children:a.position}),(0,b.jsxs)("span",{className:"text-green-600 font-semibold",children:["€",a.avgSalary.toLocaleString("tr-TR",{maximumFractionDigits:0})]})]}),(0,b.jsx)("div",{className:"h-3 bg-gray-100 rounded-full overflow-hidden",children:(0,b.jsx)("div",{className:"h-full bg-green-500 rounded-full",style:{width:`${a.percentage}%`}})})]},a.position))})]})]}),(0,b.jsxs)(w.TabsContent,{value:"visa",className:"space-y-4",children:[(0,b.jsxs)("div",{className:"bg-white rounded-lg border",children:[(0,b.jsx)("div",{className:"p-4 border-b",children:(0,b.jsxs)("h4",{className:"font-semibold text-gray-900 flex items-center gap-2",children:[(0,b.jsx)(S.FileText,{className:"h-5 w-5 text-blue-600"}),"Vize & Belge Takibi"]})}),(0,b.jsx)("div",{className:"max-h-[450px] overflow-auto",children:(0,b.jsxs)(x.Table,{children:[(0,b.jsx)(x.TableHeader,{children:(0,b.jsxs)(x.TableRow,{children:[(0,b.jsx)(x.TableHead,{children:"Ad Soyad"}),(0,b.jsx)(x.TableHead,{children:"Vize Bitis"}),(0,b.jsx)(x.TableHead,{children:"Ikamet Izni"}),(0,b.jsx)(x.TableHead,{children:"Calisma Izni"}),(0,b.jsx)(x.TableHead,{children:"Durum"})]})}),(0,b.jsx)(x.TableBody,{children:G.map(a=>(0,b.jsxs)(x.TableRow,{children:[(0,b.jsx)(x.TableCell,{className:"font-medium",children:a.name}),(0,b.jsx)(x.TableCell,{children:a.visaExpiry}),(0,b.jsx)(x.TableCell,{children:a.residenceExpiry}),(0,b.jsx)(x.TableCell,{children:a.workPermitExpiry}),(0,b.jsx)(x.TableCell,{children:(0,b.jsx)(Z,{status:a.status})})]},a.id))})]})})]}),(0,b.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,b.jsxs)("div",{className:"bg-red-50 rounded-lg p-4 border border-red-200",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,b.jsx)(W.AlertTriangle,{className:"h-5 w-5 text-red-600"}),(0,b.jsx)("span",{className:"font-semibold text-red-800",children:"Suresi Dolmus"})]}),(0,b.jsx)("p",{className:"text-2xl font-bold text-red-600",children:G.filter(a=>"expired"===a.status).length})]}),(0,b.jsxs)("div",{className:"bg-amber-50 rounded-lg p-4 border border-amber-200",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,b.jsx)(V.Clock,{className:"h-5 w-5 text-amber-600"}),(0,b.jsx)("span",{className:"font-semibold text-amber-800",children:"Yakinda Dolacak"})]}),(0,b.jsx)("p",{className:"text-2xl font-bold text-amber-600",children:G.filter(a=>"warning"===a.status).length})]}),(0,b.jsxs)("div",{className:"bg-green-50 rounded-lg p-4 border border-green-200",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,b.jsx)(X.CheckCircle,{className:"h-5 w-5 text-green-600"}),(0,b.jsx)("span",{className:"font-semibold text-green-800",children:"Guncel"})]}),(0,b.jsx)("p",{className:"text-2xl font-bold text-green-600",children:G.filter(a=>"ok"===a.status).length})]})]})]})]})}),(0,b.jsx)("div",{className:"border-t pt-4 flex justify-end",children:(0,b.jsx)(d.Button,{variant:"outline",onClick:()=>e(!1),children:"Kapat"})})]})})}function _({title:a,description:c,icon:d,color:e,onClick:f}){return(0,b.jsx)("div",{className:"bg-white rounded-lg border p-6 hover:shadow-md transition-shadow cursor-pointer",onClick:f,children:(0,b.jsxs)("div",{className:"flex items-start gap-4",children:[(0,b.jsx)("div",{className:`p-3 rounded-lg ${e}`,children:d}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("h3",{className:"font-semibold text-gray-900 mb-1",children:a}),(0,b.jsx)("p",{className:"text-sm text-gray-500",children:c})]}),(0,b.jsx)(t.Eye,{className:"h-5 w-5 text-gray-400"})]})})}function aa({title:a,value:c,change:d,changeType:e,icon:f}){return(0,b.jsxs)("div",{className:"bg-white rounded-lg border p-4",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,b.jsx)("span",{className:"text-sm text-gray-600",children:a}),f]}),(0,b.jsxs)("div",{className:"flex items-end gap-2",children:[(0,b.jsx)("span",{className:"text-2xl font-semibold text-gray-900",children:c}),d&&(0,b.jsxs)("span",{className:`text-sm flex items-center ${"up"===e?"text-green-600":"down"===e?"text-red-600":"text-gray-600"}`,children:["up"===e&&(0,b.jsx)(k.TrendingUp,{className:"h-4 w-4 mr-1"}),"down"===e&&(0,b.jsx)(l.TrendingDown,{className:"h-4 w-4 mr-1"}),d]})]})]})}function ab(){let[a,t]=(0,c.useState)(!0),[v,w]=(0,c.useState)("month"),[x,y]=(0,c.useState)(""),[z,A]=(0,c.useState)(""),[B,C]=(0,c.useState)(!1),[D,E]=(0,c.useState)(!1),[F,G]=(0,c.useState)([]),[H,I]=(0,c.useState)([]),[J,K]=(0,c.useState)([]);(0,c.useEffect)(()=>{t(!0);let a=new Date;y(new Date(a.getFullYear(),a.getMonth(),1).toISOString().split("T")[0]),A(a.toISOString().split("T")[0]);let b=(0,g.subscribeToFirestore)("sale_invoices",a=>{G(a||[])}),c=(0,g.subscribeToFirestore)("expenses",a=>{I(a||[])}),d=(0,g.subscribeToFirestore)("products",a=>{K(a||[]),t(!1)});return()=>{b(),c(),d()}},[]);let L=(0,c.useMemo)(()=>{let a=F.reduce((a,b)=>a+(b.total||0),0),b=H.reduce((a,b)=>a+(b.grossAmount||b.amount||0),0);return{totalSales:a,totalExpenses:b,profit:a-b,productCount:J.length,lowStock:J.filter(a=>{let b=a.stock?.totalStock||a.stock_qty||0;return b<10&&b>=0}).length}},[F,H,J]),M=a=>{"Stok Durumu"===a||"Stok Hareketleri"===a||"Kritik Stok"===a?C(!0):"Personel"===a?E(!0):alert(`${a} raporu hazirlaniyor...`)};return(0,b.jsxs)("div",{className:"h-full flex flex-col bg-gray-50",children:[(0,b.jsxs)("div",{className:"bg-white border-b px-8 py-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-2xl font-semibold text-gray-900",children:"Raporlar"}),(0,b.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"Isletme analizleri ve performans raporlari"})]}),(0,b.jsx)("div",{className:"flex items-center gap-3",children:(0,b.jsxs)(d.Button,{variant:"outline",size:"sm",onClick:()=>{t(!0),setTimeout(()=>t(!1),500)},disabled:a,children:[(0,b.jsx)(h.RefreshCw,{className:`h-4 w-4 mr-2 ${a?"animate-spin":""}`}),"Yenile"]})})]}),(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsxs)(f.Select,{value:v,onValueChange:w,children:[(0,b.jsx)(f.SelectTrigger,{className:"w-[180px]",children:(0,b.jsx)(f.SelectValue,{placeholder:"Donem"})}),(0,b.jsxs)(f.SelectContent,{children:[(0,b.jsx)(f.SelectItem,{value:"today",children:"Bugun"}),(0,b.jsx)(f.SelectItem,{value:"week",children:"Bu Hafta"}),(0,b.jsx)(f.SelectItem,{value:"month",children:"Bu Ay"}),(0,b.jsx)(f.SelectItem,{value:"quarter",children:"Bu Ceyrek"}),(0,b.jsx)(f.SelectItem,{value:"year",children:"Bu Yil"}),(0,b.jsx)(f.SelectItem,{value:"custom",children:"Ozel Tarih"})]})]}),"custom"===v&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(i.Calendar,{className:"h-4 w-4 text-gray-400"}),(0,b.jsx)(e.Input,{type:"date",value:x,onChange:a=>y(a.target.value),className:"w-[150px]"})]}),(0,b.jsx)("span",{className:"text-gray-400",children:"-"}),(0,b.jsx)(e.Input,{type:"date",value:z,onChange:a=>A(a.target.value),className:"w-[150px]"})]})]})]}),(0,b.jsxs)("div",{className:"flex-1 overflow-auto p-8",children:[(0,b.jsxs)("div",{className:"mb-8",children:[(0,b.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Hizli Bakis"}),(0,b.jsxs)("div",{className:"grid grid-cols-5 gap-4",children:[(0,b.jsx)(aa,{title:"Toplam Satis",value:`€${L.totalSales.toLocaleString("tr-TR",{minimumFractionDigits:2})}`,change:"+12%",changeType:"up",icon:(0,b.jsx)(k.TrendingUp,{className:"h-5 w-5 text-green-600"})}),(0,b.jsx)(aa,{title:"Toplam Gider",value:`€${L.totalExpenses.toLocaleString("tr-TR",{minimumFractionDigits:2})}`,change:"+5%",changeType:"down",icon:(0,b.jsx)(l.TrendingDown,{className:"h-5 w-5 text-red-600"})}),(0,b.jsx)(aa,{title:"Net Kar",value:`€${L.profit.toLocaleString("tr-TR",{minimumFractionDigits:2})}`,change:L.profit>=0?"+8%":"-8%",changeType:L.profit>=0?"up":"down",icon:(0,b.jsx)(m.DollarSign,{className:"h-5 w-5 text-purple-600"})}),(0,b.jsx)(aa,{title:"Urun Sayisi",value:L.productCount.toString(),icon:(0,b.jsx)(n.Package,{className:"h-5 w-5 text-blue-600"})}),(0,b.jsx)(aa,{title:"Dusuk Stok",value:L.lowStock.toString(),changeType:L.lowStock>0?"down":"neutral",icon:(0,b.jsx)(n.Package,{className:"h-5 w-5 text-amber-600"})})]})]}),(0,b.jsxs)("div",{className:"mb-8",children:[(0,b.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Satis Raporlari"}),(0,b.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,b.jsx)(_,{title:"Gunluk Satis Raporu",description:"Gunluk satis detaylari ve ozeti",icon:(0,b.jsx)(q.Receipt,{className:"h-6 w-6 text-green-600"}),color:"bg-green-100",onClick:()=>M("Gunluk Satis")}),(0,b.jsx)(_,{title:"Aylik Satis Raporu",description:"Aylik satis analizi ve karsilastirma",icon:(0,b.jsx)(j.BarChart3,{className:"h-6 w-6 text-blue-600"}),color:"bg-blue-100",onClick:()=>M("Aylik Satis")}),(0,b.jsx)(_,{title:"Urun Bazli Satis",description:"En cok satan urunler ve kategoriler",icon:(0,b.jsx)(n.Package,{className:"h-6 w-6 text-purple-600"}),color:"bg-purple-100",onClick:()=>M("Urun Bazli Satis")})]})]}),(0,b.jsxs)("div",{className:"mb-8",children:[(0,b.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Finans Raporlari"}),(0,b.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,b.jsx)(_,{title:"Kasa Raporu",description:"Kasa hareketleri ve bakiye durumu",icon:(0,b.jsx)(r.Wallet,{className:"h-6 w-6 text-green-600"}),color:"bg-green-100",onClick:()=>M("Kasa")}),(0,b.jsx)(_,{title:"Banka Raporu",description:"Banka hareketleri ve mutabakat",icon:(0,b.jsx)(s.Building2,{className:"h-6 w-6 text-blue-600"}),color:"bg-blue-100",onClick:()=>M("Banka")}),(0,b.jsx)(_,{title:"Gider Raporu",description:"Kategorilere gore gider analizi",icon:(0,b.jsx)(l.TrendingDown,{className:"h-6 w-6 text-red-600"}),color:"bg-red-100",onClick:()=>M("Gider")})]})]}),(0,b.jsxs)("div",{className:"mb-8",children:[(0,b.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Stok Raporlari"}),(0,b.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,b.jsx)(_,{title:"Stok Durumu",description:"Mevcut stok seviyeleri ve degerler",icon:(0,b.jsx)(n.Package,{className:"h-6 w-6 text-blue-600"}),color:"bg-blue-100",onClick:()=>M("Stok Durumu")}),(0,b.jsx)(_,{title:"Stok Hareketleri",description:"Stok giris/cikis gecmisi",icon:(0,b.jsx)(j.BarChart3,{className:"h-6 w-6 text-purple-600"}),color:"bg-purple-100",onClick:()=>M("Stok Hareketleri")}),(0,b.jsx)(_,{title:"Kritik Stok",description:"Minimum seviye altindaki urunler",icon:(0,b.jsx)(n.Package,{className:"h-6 w-6 text-amber-600"}),color:"bg-amber-100",onClick:()=>M("Kritik Stok")})]})]}),(0,b.jsxs)("div",{className:"mb-8",children:[(0,b.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Diger Raporlar"}),(0,b.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,b.jsx)(_,{title:"Musteri Raporu",description:"Musteri bazli satis analizi",icon:(0,b.jsx)(o.Users,{className:"h-6 w-6 text-indigo-600"}),color:"bg-indigo-100",onClick:()=>M("Musteri")}),(0,b.jsx)(_,{title:"Tedarikci Raporu",description:"Tedarikci bazli alis analizi",icon:(0,b.jsx)(p.Truck,{className:"h-6 w-6 text-teal-600"}),color:"bg-teal-100",onClick:()=>M("Tedarikci")}),(0,b.jsx)(_,{title:"Personel Raporu",description:"Personel performans ve maas raporu",icon:(0,b.jsx)(o.Users,{className:"h-6 w-6 text-pink-600"}),color:"bg-pink-100",onClick:()=>M("Personel")})]})]})]}),(0,b.jsx)(u.ReportDialog,{open:B,onOpenChange:C,reportType:"stock"}),(0,b.jsx)($,{open:D,onOpenChange:E})]})}a.s(["default",()=>ab],76138)}];

//# sourceMappingURL=src_app_dashboard_reports_page_tsx_7351c943._.js.map