(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,16715,e=>{"use strict";let a=(0,e.i(75254).default)("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);e.s(["RefreshCw",()=>a],16715)},69638,e=>{"use strict";let a=(0,e.i(75254).default)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);e.s(["CheckCircle",()=>a],69638)},15288,e=>{"use strict";var a=e.i(43476),l=e.i(71645),s=e.i(75157);let t=l.forwardRef(({className:e,...l},t)=>(0,a.jsx)("div",{ref:t,className:(0,s.cn)("rounded-xl border bg-card text-card-foreground shadow-sm",e),...l}));t.displayName="Card";let i=l.forwardRef(({className:e,...l},t)=>(0,a.jsx)("div",{ref:t,className:(0,s.cn)("flex flex-col space-y-1.5 p-6",e),...l}));i.displayName="CardHeader";let r=l.forwardRef(({className:e,...l},t)=>(0,a.jsx)("h3",{ref:t,className:(0,s.cn)("font-semibold leading-none tracking-tight",e),...l}));r.displayName="CardTitle";let c=l.forwardRef(({className:e,...l},t)=>(0,a.jsx)("p",{ref:t,className:(0,s.cn)("text-sm text-muted-foreground",e),...l}));c.displayName="CardDescription";let n=l.forwardRef(({className:e,...l},t)=>(0,a.jsx)("div",{ref:t,className:(0,s.cn)("p-6 pt-0",e),...l}));n.displayName="CardContent",l.forwardRef(({className:e,...l},t)=>(0,a.jsx)("div",{ref:t,className:(0,s.cn)("flex items-center p-6 pt-0",e),...l})).displayName="CardFooter",e.s(["Card",()=>t,"CardContent",()=>n,"CardDescription",()=>c,"CardHeader",()=>i,"CardTitle",()=>r])},7233,e=>{"use strict";let a=(0,e.i(75254).default)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);e.s(["Plus",()=>a],7233)},27612,e=>{"use strict";let a=(0,e.i(75254).default)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]);e.s(["Trash2",()=>a],27612)},86536,e=>{"use strict";let a=(0,e.i(75254).default)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);e.s(["Eye",()=>a],86536)},31278,e=>{"use strict";let a=(0,e.i(75254).default)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);e.s(["Loader2",()=>a],31278)},76639,e=>{"use strict";var a=e.i(43476),l=e.i(71645),s=e.i(37727),t=e.i(75157);let i=l.createContext({open:!1,onOpenChange:()=>{}});function r({open:e,onOpenChange:l,children:s}){return(0,a.jsx)(i.Provider,{value:{open:e,onOpenChange:l},children:s})}function c({children:e,className:r}){let{open:c,onOpenChange:n}=l.useContext(i);return c?(0,a.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[(0,a.jsx)("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm",onClick:()=>n(!1)}),(0,a.jsxs)("div",{className:(0,t.cn)("relative z-50 w-full max-w-lg max-h-[90vh] overflow-auto rounded-lg bg-background p-6 shadow-lg border",r),children:[(0,a.jsxs)("button",{onClick:()=>n(!1),className:"absolute right-4 top-4 rounded-sm opacity-70 hover:opacity-100 transition-opacity",children:[(0,a.jsx)(s.X,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"sr-only",children:"Kapat"})]}),e]})]}):null}function n({children:e,className:l}){return(0,a.jsx)("div",{className:(0,t.cn)("flex flex-col space-y-1.5 text-center sm:text-left mb-4",l),children:e})}function d({children:e,className:l}){return(0,a.jsx)("h2",{className:(0,t.cn)("text-lg font-semibold leading-none tracking-tight",l),children:e})}function o({children:e,className:l}){return(0,a.jsx)("div",{className:(0,t.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2 mt-6",l),children:e})}e.s(["Dialog",()=>r,"DialogContent",()=>c,"DialogFooter",()=>o,"DialogHeader",()=>n,"DialogTitle",()=>d])},10204,e=>{"use strict";var a=e.i(43476),l=e.i(71645),s=e.i(75157);let t=l.forwardRef(({className:e,...l},t)=>(0,a.jsx)("label",{ref:t,className:(0,s.cn)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",e),...l}));t.displayName="Label",e.s(["Label",()=>t])},24687,e=>{"use strict";var a=e.i(43476),l=e.i(71645),s=e.i(75157);let t=l.forwardRef(({className:e,...l},t)=>(0,a.jsx)("textarea",{className:(0,s.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:t,...l}));t.displayName="Textarea",e.s(["Textarea",()=>t])},88511,e=>{"use strict";let a=(0,e.i(75254).default)("square-pen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);e.s(["Edit",()=>a],88511)},73884,e=>{"use strict";let a=(0,e.i(75254).default)("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);e.s(["XCircle",()=>a],73884)},69322,e=>{"use strict";var a=e.i(43476),l=e.i(71645),s=e.i(7233),t=e.i(55436),i=e.i(16715),r=e.i(88511),c=e.i(27612),n=e.i(86536),d=e.i(61911),o=e.i(7486),m=e.i(75254);let u=(0,m.default)("phone",[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]]),x=(0,m.default)("mail",[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]]);var h=e.i(61659),j=e.i(69638),p=e.i(73884);let f=(0,m.default)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);var v=e.i(19455),g=e.i(93479),y=e.i(15288),b=e.i(84774),N=e.i(67489),C=e.i(75157),S=e.i(69457),w=e.i(76639),k=e.i(10204),T=e.i(24687),I=e.i(31278),L=e.i(84614);let M=(0,m.default)("map-pin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),F=[{code:"SI",name:"Slovenya",flag:"ðŸ‡¸ðŸ‡®"},{code:"AT",name:"Avusturya",flag:"ðŸ‡¦ðŸ‡¹"},{code:"DE",name:"Almanya",flag:"ðŸ‡©ðŸ‡ª"},{code:"IT",name:"Ä°talya",flag:"ðŸ‡®ðŸ‡¹"},{code:"HR",name:"HÄ±rvatistan",flag:"ðŸ‡­ðŸ‡·"},{code:"TR",name:"TÃ¼rkiye",flag:"ðŸ‡¹ðŸ‡·"},{code:"FR",name:"Fransa",flag:"ðŸ‡«ðŸ‡·"},{code:"ES",name:"Ä°spanya",flag:"ðŸ‡ªðŸ‡¸"},{code:"GR",name:"Yunanistan",flag:"ðŸ‡¬ðŸ‡·"},{code:"HU",name:"Macaristan",flag:"ðŸ‡­ðŸ‡º"},{code:"CZ",name:"Ã‡ekya",flag:"ðŸ‡¨ðŸ‡¿"},{code:"SK",name:"Slovakya",flag:"ðŸ‡¸ðŸ‡°"}];function B({open:e,onOpenChange:s,customer:t,onSave:i}){let r=!!t?.id,[c,n]=(0,l.useState)(!1),[d,m]=(0,l.useState)(""),[x,j]=(0,l.useState)(""),[p,f]=(0,l.useState)("company"),[y,b]=(0,l.useState)("active"),[C,B]=(0,l.useState)("standard"),[D,H]=(0,l.useState)(""),[R,V]=(0,l.useState)(""),[z,A]=(0,l.useState)(""),[G,K]=(0,l.useState)(""),[P,E]=(0,l.useState)(""),[U,q]=(0,l.useState)(""),[O,$]=(0,l.useState)(""),[X,Y]=(0,l.useState)("SI"),[W,Z]=(0,l.useState)(""),[J,Q]=(0,l.useState)(""),[_,ee]=(0,l.useState)("0"),[ea,el]=(0,l.useState)("0"),[es,et]=(0,l.useState)("30"),[ei,er]=(0,l.useState)("");(0,l.useEffect)(()=>{if(t){let e=t.basic||{},a=t.contact||{},l=t.addressInfo||{},s=t.financial||{};m(e.code||t.code||""),j(e.name||t.name||t.companyName||""),f(e.type||t.type||"company"),b(e.status||t.status||"active"),B(e.customerGroup||t.customerGroup||"standard"),H(a.email||t.email||""),V(a.phone||t.phone||""),A(a.mobile||t.mobile||""),K(a.website||t.website||""),E(l.street||t.address||""),q(l.city||t.city||""),$(l.postalCode||t.postalCode||""),Y(l.country||t.country||"SI"),Z(s.vatNumber||t.vatNumber||""),Q(s.taxNumber||t.taxNumber||""),ee(String(s.creditLimit||t.creditLimit||0)),el(String(s.discount||t.discount||0)),et(String(s.paymentTerms||t.paymentTerms||30)),er(t.notes||"")}else m(""),j(""),f("company"),b("active"),B("standard"),H(""),V(""),A(""),K(""),E(""),q(""),$(""),Y("SI"),Z(""),Q(""),ee("0"),el("0"),et("30"),er("")},[t,e]);let ec=async e=>{if(e.preventDefault(),!x.trim())return void alert("MÃ¼ÅŸteri adÄ± zorunludur!");n(!0);try{let e={basic:{code:d.trim()||en(),name:x.trim(),type:p,status:y,customerGroup:C},contact:{email:D.trim(),phone:R.trim(),mobile:z.trim(),website:G.trim()},addressInfo:{street:P.trim(),city:U.trim(),postalCode:O.trim(),country:X},financial:{vatNumber:W.trim(),taxNumber:J.trim(),creditLimit:parseFloat(_)||0,discount:parseFloat(ea)||0,paymentTerms:parseInt(es)||30,balance:t?.financial?.balance||t?.balance||0},notes:ei.trim(),isActive:!0};r?await (0,S.updateFirestoreData)("customers",t.id,e):await (0,S.addFirestoreData)("customers",e),i?.(),s(!1)}catch(e){console.error("Save error:",e),alert("KayÄ±t hatasÄ±: "+e.message)}finally{n(!1)}},en=()=>{let e=Date.now().toString(36).toUpperCase();return`CUST-${e}`};return(0,a.jsx)(w.Dialog,{open:e,onOpenChange:s,children:(0,a.jsxs)(w.DialogContent,{className:"max-w-3xl max-h-[90vh] overflow-y-auto",children:[(0,a.jsx)(w.DialogHeader,{children:(0,a.jsxs)(w.DialogTitle,{className:"flex items-center gap-2",children:[(0,a.jsx)(o.Building2,{className:"h-5 w-5"}),r?"MÃ¼ÅŸteri DÃ¼zenle":"Yeni MÃ¼ÅŸteri"]})}),(0,a.jsxs)("form",{onSubmit:ec,className:"space-y-6",children:[(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("h3",{className:"text-sm font-medium flex items-center gap-2 text-muted-foreground",children:[(0,a.jsx)(L.User,{className:"h-4 w-4"}),"Temel Bilgiler"]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(k.Label,{htmlFor:"code",children:"MÃ¼ÅŸteri Kodu"}),(0,a.jsx)(g.Input,{id:"code",value:d,onChange:e=>m(e.target.value),placeholder:"Otomatik oluÅŸturulur"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(k.Label,{htmlFor:"name",children:"MÃ¼ÅŸteri AdÄ± *"}),(0,a.jsx)(g.Input,{id:"name",value:x,onChange:e=>j(e.target.value),placeholder:"Firma veya kiÅŸi adÄ±",required:!0})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(k.Label,{htmlFor:"type",children:"MÃ¼ÅŸteri TÃ¼rÃ¼"}),(0,a.jsxs)(N.Select,{value:p,onValueChange:f,children:[(0,a.jsx)(N.SelectTrigger,{children:(0,a.jsx)(N.SelectValue,{})}),(0,a.jsxs)(N.SelectContent,{children:[(0,a.jsx)(N.SelectItem,{value:"company",children:"Kurumsal"}),(0,a.jsx)(N.SelectItem,{value:"individual",children:"Bireysel"})]})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(k.Label,{htmlFor:"status",children:"Durum"}),(0,a.jsxs)(N.Select,{value:y,onValueChange:b,children:[(0,a.jsx)(N.SelectTrigger,{children:(0,a.jsx)(N.SelectValue,{})}),(0,a.jsxs)(N.SelectContent,{children:[(0,a.jsx)(N.SelectItem,{value:"active",children:"Aktif"}),(0,a.jsx)(N.SelectItem,{value:"inactive",children:"Pasif"}),(0,a.jsx)(N.SelectItem,{value:"blocked",children:"Blokeli"})]})]})]}),(0,a.jsxs)("div",{className:"space-y-2 col-span-2",children:[(0,a.jsx)(k.Label,{htmlFor:"customerGroup",children:"MÃ¼ÅŸteri Grubu"}),(0,a.jsxs)(N.Select,{value:C,onValueChange:B,children:[(0,a.jsx)(N.SelectTrigger,{children:(0,a.jsx)(N.SelectValue,{})}),(0,a.jsxs)(N.SelectContent,{children:[(0,a.jsx)(N.SelectItem,{value:"standard",children:"Standart"}),(0,a.jsx)(N.SelectItem,{value:"vip",children:"VIP"}),(0,a.jsx)(N.SelectItem,{value:"wholesale",children:"Toptan"}),(0,a.jsx)(N.SelectItem,{value:"retail",children:"Perakende"})]})]})]})]})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("h3",{className:"text-sm font-medium flex items-center gap-2 text-muted-foreground",children:[(0,a.jsx)(u,{className:"h-4 w-4"}),"Ä°letiÅŸim Bilgileri"]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(k.Label,{htmlFor:"email",children:"E-posta"}),(0,a.jsx)(g.Input,{id:"email",type:"email",value:D,onChange:e=>H(e.target.value),placeholder:"ornek@firma.com"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(k.Label,{htmlFor:"phone",children:"Telefon"}),(0,a.jsx)(g.Input,{id:"phone",value:R,onChange:e=>V(e.target.value),placeholder:"+386 1 234 5678"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(k.Label,{htmlFor:"mobile",children:"Mobil"}),(0,a.jsx)(g.Input,{id:"mobile",value:z,onChange:e=>A(e.target.value),placeholder:"+386 40 123 456"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(k.Label,{htmlFor:"website",children:"Website"}),(0,a.jsx)(g.Input,{id:"website",value:G,onChange:e=>K(e.target.value),placeholder:"www.firma.com"})]})]})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("h3",{className:"text-sm font-medium flex items-center gap-2 text-muted-foreground",children:[(0,a.jsx)(M,{className:"h-4 w-4"}),"Adres Bilgileri"]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-2 col-span-2",children:[(0,a.jsx)(k.Label,{htmlFor:"address",children:"Adres"}),(0,a.jsx)(g.Input,{id:"address",value:P,onChange:e=>E(e.target.value),placeholder:"Sokak, numara"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(k.Label,{htmlFor:"city",children:"Åžehir"}),(0,a.jsx)(g.Input,{id:"city",value:U,onChange:e=>q(e.target.value),placeholder:"Ljubljana"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(k.Label,{htmlFor:"postalCode",children:"Posta Kodu"}),(0,a.jsx)(g.Input,{id:"postalCode",value:O,onChange:e=>$(e.target.value),placeholder:"1000"})]}),(0,a.jsxs)("div",{className:"space-y-2 col-span-2",children:[(0,a.jsx)(k.Label,{htmlFor:"country",children:"Ãœlke"}),(0,a.jsxs)(N.Select,{value:X,onValueChange:Y,children:[(0,a.jsx)(N.SelectTrigger,{children:(0,a.jsx)(N.SelectValue,{})}),(0,a.jsx)(N.SelectContent,{children:F.map(e=>(0,a.jsxs)(N.SelectItem,{value:e.code,children:[e.flag," ",e.name]},e.code))})]})]})]})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("h3",{className:"text-sm font-medium flex items-center gap-2 text-muted-foreground",children:[(0,a.jsx)(h.CreditCard,{className:"h-4 w-4"}),"Finansal Bilgiler"]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(k.Label,{htmlFor:"vatNumber",children:"VAT NumarasÄ±"}),(0,a.jsx)(g.Input,{id:"vatNumber",value:W,onChange:e=>Z(e.target.value),placeholder:"SI12345678"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(k.Label,{htmlFor:"taxNumber",children:"Vergi NumarasÄ±"}),(0,a.jsx)(g.Input,{id:"taxNumber",value:J,onChange:e=>Q(e.target.value),placeholder:"12345678"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(k.Label,{htmlFor:"creditLimit",children:"Kredi Limiti (â‚¬)"}),(0,a.jsx)(g.Input,{id:"creditLimit",type:"number",value:_,onChange:e=>ee(e.target.value),placeholder:"0"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(k.Label,{htmlFor:"discount",children:"Ä°skonto (%)"}),(0,a.jsx)(g.Input,{id:"discount",type:"number",min:"0",max:"100",value:ea,onChange:e=>el(e.target.value),placeholder:"0"})]}),(0,a.jsxs)("div",{className:"space-y-2 col-span-2",children:[(0,a.jsx)(k.Label,{htmlFor:"paymentTerms",children:"Ã–deme Vadesi (GÃ¼n)"}),(0,a.jsxs)(N.Select,{value:es,onValueChange:et,children:[(0,a.jsx)(N.SelectTrigger,{children:(0,a.jsx)(N.SelectValue,{})}),(0,a.jsxs)(N.SelectContent,{children:[(0,a.jsx)(N.SelectItem,{value:"0",children:"PeÅŸin"}),(0,a.jsx)(N.SelectItem,{value:"7",children:"7 GÃ¼n"}),(0,a.jsx)(N.SelectItem,{value:"15",children:"15 GÃ¼n"}),(0,a.jsx)(N.SelectItem,{value:"30",children:"30 GÃ¼n"}),(0,a.jsx)(N.SelectItem,{value:"45",children:"45 GÃ¼n"}),(0,a.jsx)(N.SelectItem,{value:"60",children:"60 GÃ¼n"}),(0,a.jsx)(N.SelectItem,{value:"90",children:"90 GÃ¼n"})]})]})]})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(k.Label,{htmlFor:"notes",children:"Notlar"}),(0,a.jsx)(T.Textarea,{id:"notes",value:ei,onChange:e=>er(e.target.value),placeholder:"MÃ¼ÅŸteri ile ilgili notlar...",rows:3})]}),(0,a.jsxs)(w.DialogFooter,{children:[(0,a.jsx)(v.Button,{type:"button",variant:"outline",onClick:()=>s(!1),children:"Ä°ptal"}),(0,a.jsxs)(v.Button,{type:"submit",disabled:c,children:[c&&(0,a.jsx)(I.Loader2,{className:"mr-2 h-4 w-4 animate-spin"}),r?"GÃ¼ncelle":"Kaydet"]})]})]})]})})}let D={active:{label:"Aktif",color:"bg-green-100 text-green-700",icon:j.CheckCircle},inactive:{label:"Pasif",color:"bg-gray-100 text-gray-700",icon:p.XCircle},blocked:{label:"Blokeli",color:"bg-red-100 text-red-700",icon:f}},H={individual:{label:"Bireysel",icon:d.Users},company:{label:"Kurumsal",icon:o.Building2}};function R(){let[e,o]=(0,l.useState)([]),[m,p]=(0,l.useState)(!0),[w,k]=(0,l.useState)(""),[T,I]=(0,l.useState)("all"),[L,M]=(0,l.useState)("all"),[F,R]=(0,l.useState)(!1),[V,z]=(0,l.useState)(null);(0,l.useEffect)(()=>{let e=(0,S.subscribeToRTDB)("customers",e=>{o(e.filter(e=>!1!==e.isActive).sort((e,a)=>{let l=e.basic?.name||e.name||e.companyName||"",s=a.basic?.name||a.name||a.companyName||"";return l.localeCompare(s)})),p(!1)});return()=>e()},[]);let A=(e,a)=>{if(void 0!==e[a])return e[a];let l={code:["basic","code"],name:["basic","name"],type:["basic","type"],status:["basic","status"],customerGroup:["basic","customerGroup"],email:["contact","email"],phone:["contact","phone"],mobile:["contact","mobile"],address:["addressInfo","street"],city:["addressInfo","city"],country:["addressInfo","country"],postalCode:["addressInfo","postalCode"],vatNumber:["financial","vatNumber"],taxNumber:["financial","taxNumber"],balance:["financial","balance"],creditLimit:["financial","creditLimit"],discount:["financial","discount"],paymentTerms:["financial","paymentTerms"]}[a];if(l){let[a,s]=l;return e[a]?.[s]}},G=e.filter(e=>{let a=A(e,"name")||A(e,"companyName")||"",l=A(e,"code")||"",s=A(e,"email")||"",t=A(e,"phone")||"",i=A(e,"status")||"active",r=A(e,"type")||"company",c=a.toLowerCase().includes(w.toLowerCase())||l.toLowerCase().includes(w.toLowerCase())||s.toLowerCase().includes(w.toLowerCase())||t.includes(w),n="all"===T||i===T,d="all"===L||r===L;return c&&n&&d}),K={total:e.length,active:e.filter(e=>"active"===(A(e,"status")||"active")).length,blocked:e.filter(e=>"blocked"===A(e,"status")).length,totalBalance:e.reduce((e,a)=>e+(A(a,"balance")||0),0)},P=e=>{z(e),R(!0)},E=async e=>{let a=A(e,"name")||A(e,"companyName")||"Bu mÃ¼ÅŸteri";if(confirm(`"${a}" m\xfcÅŸterisini silmek istediÄŸinize emin misiniz?`))try{await (0,S.removeData)(`customers/${e.id}`)}catch(e){console.error("Delete error:",e),alert("Silme hatasÄ±: "+e.message)}};return m?(0,a.jsx)("div",{className:"flex items-center justify-center h-96",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)(i.RefreshCw,{className:"h-8 w-8 animate-spin text-primary mx-auto mb-4"}),(0,a.jsx)("p",{className:"text-muted-foreground",children:"MÃ¼ÅŸteriler yÃ¼kleniyor..."})]})}):(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-2xl font-bold",children:"MÃ¼ÅŸteriler"}),(0,a.jsx)("p",{className:"text-muted-foreground",children:"MÃ¼ÅŸteri kayÄ±tlarÄ±nÄ± yÃ¶netin ve takip edin"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(v.Button,{variant:"outline",size:"icon",onClick:()=>{p(!0),setTimeout(()=>p(!1),500)},children:(0,a.jsx)(i.RefreshCw,{className:`h-4 w-4 ${m?"animate-spin":""}`})}),(0,a.jsxs)(v.Button,{onClick:()=>{z(null),R(!0)},children:[(0,a.jsx)(s.Plus,{className:"h-4 w-4 mr-2"}),"Yeni MÃ¼ÅŸteri"]})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,a.jsx)(y.Card,{children:(0,a.jsx)(y.CardContent,{className:"pt-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Toplam MÃ¼ÅŸteri"}),(0,a.jsx)("p",{className:"text-2xl font-bold",children:K.total})]}),(0,a.jsx)("div",{className:"h-12 w-12 rounded-full bg-blue-100 flex items-center justify-center",children:(0,a.jsx)(d.Users,{className:"h-6 w-6 text-blue-600"})})]})})}),(0,a.jsx)(y.Card,{children:(0,a.jsx)(y.CardContent,{className:"pt-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Aktif MÃ¼ÅŸteri"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-green-600",children:K.active})]}),(0,a.jsx)("div",{className:"h-12 w-12 rounded-full bg-green-100 flex items-center justify-center",children:(0,a.jsx)(j.CheckCircle,{className:"h-6 w-6 text-green-600"})})]})})}),(0,a.jsx)(y.Card,{children:(0,a.jsx)(y.CardContent,{className:"pt-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Blokeli"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-red-600",children:K.blocked})]}),(0,a.jsx)("div",{className:"h-12 w-12 rounded-full bg-red-100 flex items-center justify-center",children:(0,a.jsx)(f,{className:"h-6 w-6 text-red-600"})})]})})}),(0,a.jsx)(y.Card,{children:(0,a.jsx)(y.CardContent,{className:"pt-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Toplam Bakiye"}),(0,a.jsx)("p",{className:"text-2xl font-bold",children:(0,C.formatCurrency)(K.totalBalance)})]}),(0,a.jsx)("div",{className:"h-12 w-12 rounded-full bg-purple-100 flex items-center justify-center",children:(0,a.jsx)(h.CreditCard,{className:"h-6 w-6 text-purple-600"})})]})})})]}),(0,a.jsx)(y.Card,{children:(0,a.jsx)(y.CardContent,{className:"pt-6",children:(0,a.jsxs)("div",{className:"flex flex-col md:flex-row gap-4",children:[(0,a.jsxs)("div",{className:"relative flex-1",children:[(0,a.jsx)(t.Search,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),(0,a.jsx)(g.Input,{placeholder:"MÃ¼ÅŸteri ara (isim, kod, email, telefon)...",value:w,onChange:e=>k(e.target.value),className:"pl-10"})]}),(0,a.jsxs)(N.Select,{value:T,onValueChange:I,children:[(0,a.jsx)(N.SelectTrigger,{className:"w-[180px]",children:(0,a.jsx)(N.SelectValue,{placeholder:"Durum"})}),(0,a.jsxs)(N.SelectContent,{children:[(0,a.jsx)(N.SelectItem,{value:"all",children:"TÃ¼m Durumlar"}),(0,a.jsx)(N.SelectItem,{value:"active",children:"Aktif"}),(0,a.jsx)(N.SelectItem,{value:"inactive",children:"Pasif"}),(0,a.jsx)(N.SelectItem,{value:"blocked",children:"Blokeli"})]})]}),(0,a.jsxs)(N.Select,{value:L,onValueChange:M,children:[(0,a.jsx)(N.SelectTrigger,{className:"w-[180px]",children:(0,a.jsx)(N.SelectValue,{placeholder:"TÃ¼r"})}),(0,a.jsxs)(N.SelectContent,{children:[(0,a.jsx)(N.SelectItem,{value:"all",children:"TÃ¼m TÃ¼rler"}),(0,a.jsx)(N.SelectItem,{value:"individual",children:"Bireysel"}),(0,a.jsx)(N.SelectItem,{value:"company",children:"Kurumsal"})]})]})]})})}),(0,a.jsxs)(y.Card,{children:[(0,a.jsx)(y.CardHeader,{children:(0,a.jsxs)(y.CardTitle,{className:"text-lg font-medium",children:["MÃ¼ÅŸteri Listesi",(0,a.jsxs)("span",{className:"ml-2 text-sm font-normal text-muted-foreground",children:["(",G.length," kayÄ±t)"]})]})}),(0,a.jsx)(y.CardContent,{children:(0,a.jsxs)(b.Table,{children:[(0,a.jsx)(b.TableHeader,{children:(0,a.jsxs)(b.TableRow,{children:[(0,a.jsx)(b.TableHead,{children:"Kod"}),(0,a.jsx)(b.TableHead,{children:"MÃ¼ÅŸteri AdÄ±"}),(0,a.jsx)(b.TableHead,{children:"TÃ¼r"}),(0,a.jsx)(b.TableHead,{children:"Ä°letiÅŸim"}),(0,a.jsx)(b.TableHead,{children:"Åžehir"}),(0,a.jsx)(b.TableHead,{className:"text-right",children:"Bakiye"}),(0,a.jsx)(b.TableHead,{children:"Durum"}),(0,a.jsx)(b.TableHead,{className:"w-[100px]",children:"Ä°ÅŸlem"})]})}),(0,a.jsx)(b.TableBody,{children:0===G.length?(0,a.jsx)(b.TableRow,{children:(0,a.jsxs)(b.TableCell,{colSpan:8,className:"text-center py-12",children:[(0,a.jsx)(d.Users,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),(0,a.jsx)("h3",{className:"text-lg font-medium",children:"MÃ¼ÅŸteri bulunamadÄ±"}),(0,a.jsx)("p",{className:"text-muted-foreground",children:"HenÃ¼z mÃ¼ÅŸteri eklenmemiÅŸ veya arama kriterlerine uygun sonuÃ§ yok."})]})}):G.map(e=>{let l=A(e,"code")||"-",s=A(e,"name")||A(e,"companyName")||"-",t=A(e,"type")||"company",i=A(e,"email")||"",d=A(e,"phone")||A(e,"mobile")||"",o=A(e,"city")||"-",m=A(e,"balance")||0,h=D[A(e,"status")||"active"]||D.active,j=H[t]||H.company,p=h.icon,f=j.icon;return(0,a.jsxs)(b.TableRow,{children:[(0,a.jsx)(b.TableCell,{className:"font-mono text-sm",children:l}),(0,a.jsx)(b.TableCell,{children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(f,{className:"h-4 w-4 text-muted-foreground"}),(0,a.jsx)("span",{className:"font-medium",children:s})]})}),(0,a.jsx)(b.TableCell,{children:j.label}),(0,a.jsx)(b.TableCell,{children:(0,a.jsxs)("div",{className:"space-y-1 text-sm",children:[i&&(0,a.jsxs)("div",{className:"flex items-center gap-1 text-muted-foreground",children:[(0,a.jsx)(x,{className:"h-3 w-3"}),i]}),d&&(0,a.jsxs)("div",{className:"flex items-center gap-1 text-muted-foreground",children:[(0,a.jsx)(u,{className:"h-3 w-3"}),d]})]})}),(0,a.jsx)(b.TableCell,{children:o}),(0,a.jsx)(b.TableCell,{className:"text-right font-mono",children:(0,a.jsx)("span",{className:m<0?"text-red-600":"",children:(0,C.formatCurrency)(m)})}),(0,a.jsx)(b.TableCell,{children:(0,a.jsxs)("span",{className:`inline-flex items-center gap-1 rounded-full px-2 py-1 text-xs font-medium ${h.color}`,children:[(0,a.jsx)(p,{className:"h-3 w-3"}),h.label]})}),(0,a.jsx)(b.TableCell,{children:(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)(v.Button,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>P(e),children:(0,a.jsx)(n.Eye,{className:"h-4 w-4"})}),(0,a.jsx)(v.Button,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>P(e),children:(0,a.jsx)(r.Edit,{className:"h-4 w-4"})}),(0,a.jsx)(v.Button,{variant:"ghost",size:"icon",className:"h-8 w-8 text-destructive",onClick:()=>E(e),children:(0,a.jsx)(c.Trash2,{className:"h-4 w-4"})})]})})]},e.id)})})]})})]}),(0,a.jsx)(B,{open:F,onOpenChange:R,customer:V,onSave:()=>R(!1)})]})}e.s(["default",()=>R],69322)}]);