(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,69638,e=>{"use strict";let s=(0,e.i(75254).default)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);e.s(["CheckCircle",()=>s],69638)},40160,e=>{"use strict";let s=(0,e.i(75254).default)("download",[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]]);e.s(["Download",()=>s],40160)},27612,e=>{"use strict";let s=(0,e.i(75254).default)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]);e.s(["Trash2",()=>s],27612)},86536,e=>{"use strict";let s=(0,e.i(75254).default)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);e.s(["Eye",()=>s],86536)},7233,e=>{"use strict";let s=(0,e.i(75254).default)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);e.s(["Plus",()=>s],7233)},88699,e=>{"use strict";let s=(0,e.i(75254).default)("pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);e.s(["Pencil",()=>s],88699)},73884,e=>{"use strict";let s=(0,e.i(75254).default)("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);e.s(["XCircle",()=>s],73884)},3281,e=>{"use strict";let s=(0,e.i(75254).default)("printer",[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]]);e.s(["Printer",()=>s],3281)},43927,e=>{"use strict";var s=e.i(43476),a=e.i(71645),l=e.i(19455),t=e.i(93479),i=e.i(67489),r=e.i(77572),c=e.i(84774),d=e.i(55146),n=e.i(69457),x=e.i(7233),h=e.i(16715),m=e.i(41071),u=e.i(55436),o=e.i(40160),p=e.i(86536),j=e.i(88699),g=e.i(27612),b=e.i(3281),v=e.i(78583),N=e.i(50627);let y=(0,e.i(75254).default)("file-check",[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]]);var T=e.i(3116),f=e.i(69638),w=e.i(73884);function k({status:e}){let a={draft:(0,s.jsx)(v.FileText,{className:"h-3 w-3 mr-1"}),pending:(0,s.jsx)(T.Clock,{className:"h-3 w-3 mr-1"}),paid:(0,s.jsx)(f.CheckCircle,{className:"h-3 w-3 mr-1"}),overdue:(0,s.jsx)(w.XCircle,{className:"h-3 w-3 mr-1"}),cancelled:(0,s.jsx)(w.XCircle,{className:"h-3 w-3 mr-1"})};return(0,s.jsxs)("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${{draft:"bg-gray-100 text-gray-800",pending:"bg-amber-100 text-amber-800",paid:"bg-green-100 text-green-800",overdue:"bg-red-100 text-red-800",cancelled:"bg-gray-100 text-gray-600"}[e]||"bg-gray-100 text-gray-600"}`,children:[a[e],{draft:"Taslak",pending:"Beklemede",paid:"Odendi",overdue:"Gecikti",cancelled:"Iptal"}[e]||e]})}function C(){let[e,f]=(0,a.useState)([]),[w,C]=(0,a.useState)([]),[S,M]=(0,a.useState)(!0),[D,F]=(0,a.useState)(""),[z,H]=(0,a.useState)("all"),[I,R]=(0,a.useState)("");(0,a.useEffect)(()=>{M(!0);let e=(0,n.subscribeToFirestore)("sale_invoices",e=>{f(e||[])}),s=(0,n.subscribeToFirestore)("purchase_invoices",e=>{C(e||[]),M(!1)});return()=>{e(),s()}},[]);let B=(0,a.useMemo)(()=>{let s=e.reduce((e,s)=>e+(s.total||0),0),a=w.reduce((e,s)=>e+(s.total||0),0);return{salesTotal:s,purchaseTotal:a,pendingSales:e.filter(e=>"pending"===e.status).length,pendingPurchases:w.filter(e=>"pending"===e.status).length}},[e,w]),L=e=>e.filter(e=>{let s=D.toLowerCase(),a=!D||(e.invoiceNo||"").toLowerCase().includes(s)||(e.customerName||e.supplierName||"").toLowerCase().includes(s),l="all"===z||e.status===z,t=!I||e.date&&e.date.startsWith(I);return a&&l&&t}).sort((e,s)=>new Date(s.date||s.createdAt||"").getTime()-new Date(e.date||e.createdAt||"").getTime()),A=({invoices:e,type:a})=>(0,s.jsx)("div",{className:"bg-white rounded-lg border",children:(0,s.jsxs)(c.Table,{children:[(0,s.jsx)(c.TableHeader,{children:(0,s.jsxs)(c.TableRow,{children:[(0,s.jsx)(c.TableHead,{children:"Fatura No"}),(0,s.jsx)(c.TableHead,{children:"sales"===a?"Musteri":"Tedarikci"}),(0,s.jsx)(c.TableHead,{children:"Tarih"}),(0,s.jsx)(c.TableHead,{children:"Vade"}),(0,s.jsx)(c.TableHead,{className:"text-right",children:"Tutar"}),(0,s.jsx)(c.TableHead,{className:"text-right",children:"KDV"}),(0,s.jsx)(c.TableHead,{className:"text-right",children:"Toplam"}),(0,s.jsx)(c.TableHead,{children:"Durum"}),(0,s.jsx)(c.TableHead,{className:"w-[60px]"})]})}),(0,s.jsx)(c.TableBody,{children:S?(0,s.jsx)(c.TableRow,{children:(0,s.jsx)(c.TableCell,{colSpan:9,className:"text-center py-8 text-gray-500",children:"Yukleniyor..."})}):0===L(e).length?(0,s.jsx)(c.TableRow,{children:(0,s.jsx)(c.TableCell,{colSpan:9,className:"text-center py-8 text-gray-500",children:"Fatura bulunamadi"})}):L(e).slice(0,50).map(e=>(0,s.jsxs)(c.TableRow,{className:"hover:bg-gray-50",children:[(0,s.jsx)(c.TableCell,{className:"font-mono font-medium",children:e.invoiceNo||"-"}),(0,s.jsx)(c.TableCell,{children:e.customerName||e.supplierName||"-"}),(0,s.jsx)(c.TableCell,{children:e.date||"-"}),(0,s.jsx)(c.TableCell,{children:e.dueDate||"-"}),(0,s.jsxs)(c.TableCell,{className:"text-right",children:["€",(e.subtotal||0).toLocaleString("tr-TR",{minimumFractionDigits:2})]}),(0,s.jsxs)(c.TableCell,{className:"text-right text-gray-600",children:["€",(e.vatAmount||0).toLocaleString("tr-TR",{minimumFractionDigits:2})]}),(0,s.jsxs)(c.TableCell,{className:"text-right font-semibold",children:["€",(e.total||0).toLocaleString("tr-TR",{minimumFractionDigits:2})]}),(0,s.jsx)(c.TableCell,{children:(0,s.jsx)(k,{status:e.status||"pending"})}),(0,s.jsx)(c.TableCell,{children:(0,s.jsxs)(d.DropdownMenu,{children:[(0,s.jsx)(d.DropdownMenuTrigger,{asChild:!0,children:(0,s.jsx)(l.Button,{variant:"ghost",size:"icon",className:"h-8 w-8",children:(0,s.jsx)(m.MoreHorizontal,{className:"h-4 w-4"})})}),(0,s.jsxs)(d.DropdownMenuContent,{align:"end",children:[(0,s.jsxs)(d.DropdownMenuItem,{children:[(0,s.jsx)(p.Eye,{className:"h-4 w-4 mr-2"}),"Goruntule"]}),(0,s.jsxs)(d.DropdownMenuItem,{children:[(0,s.jsx)(b.Printer,{className:"h-4 w-4 mr-2"}),"Yazdir"]}),(0,s.jsxs)(d.DropdownMenuItem,{children:[(0,s.jsx)(j.Pencil,{className:"h-4 w-4 mr-2"}),"Duzenle"]}),(0,s.jsx)(d.DropdownMenuSeparator,{}),(0,s.jsxs)(d.DropdownMenuItem,{className:"text-red-600",children:[(0,s.jsx)(g.Trash2,{className:"h-4 w-4 mr-2"}),"Sil"]})]})]})})]},e.id))})]})});return(0,s.jsxs)("div",{className:"h-full flex flex-col bg-gray-50",children:[(0,s.jsxs)("div",{className:"bg-white border-b px-8 py-6",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-2xl font-semibold text-gray-900",children:"Fatura Yonetimi"}),(0,s.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"Satis ve alis faturalari"})]}),(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsxs)(l.Button,{variant:"outline",size:"sm",onClick:()=>{M(!0),setTimeout(()=>M(!1),500)},disabled:S,children:[(0,s.jsx)(h.RefreshCw,{className:`h-4 w-4 mr-2 ${S?"animate-spin":""}`}),"Yenile"]}),(0,s.jsxs)(l.Button,{variant:"outline",size:"sm",children:[(0,s.jsx)(o.Download,{className:"h-4 w-4 mr-2"}),"Rapor"]}),(0,s.jsxs)(l.Button,{children:[(0,s.jsx)(x.Plus,{className:"h-4 w-4 mr-2"}),"Yeni Fatura"]})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-4 gap-4 mb-6",children:[(0,s.jsx)("div",{className:"bg-green-50 rounded-lg p-4",children:(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"p-2 bg-green-100 rounded-lg",children:(0,s.jsx)(N.Receipt,{className:"h-5 w-5 text-green-600"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-gray-600",children:"Satis Faturalari"}),(0,s.jsxs)("p",{className:"text-xl font-semibold text-green-600",children:["€",B.salesTotal.toLocaleString("tr-TR",{minimumFractionDigits:2})]})]})]})}),(0,s.jsx)("div",{className:"bg-red-50 rounded-lg p-4",children:(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"p-2 bg-red-100 rounded-lg",children:(0,s.jsx)(v.FileText,{className:"h-5 w-5 text-red-600"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-gray-600",children:"Alis Faturalari"}),(0,s.jsxs)("p",{className:"text-xl font-semibold text-red-600",children:["€",B.purchaseTotal.toLocaleString("tr-TR",{minimumFractionDigits:2})]})]})]})}),(0,s.jsx)("div",{className:"bg-amber-50 rounded-lg p-4",children:(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"p-2 bg-amber-100 rounded-lg",children:(0,s.jsx)(T.Clock,{className:"h-5 w-5 text-amber-600"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-gray-600",children:"Bekleyen Satis"}),(0,s.jsx)("p",{className:"text-xl font-semibold text-amber-600",children:B.pendingSales})]})]})}),(0,s.jsx)("div",{className:"bg-purple-50 rounded-lg p-4",children:(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"p-2 bg-purple-100 rounded-lg",children:(0,s.jsx)(y,{className:"h-5 w-5 text-purple-600"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-gray-600",children:"Bekleyen Alis"}),(0,s.jsx)("p",{className:"text-xl font-semibold text-purple-600",children:B.pendingPurchases})]})]})})]}),(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsxs)("div",{className:"relative flex-1 max-w-md",children:[(0,s.jsx)(u.Search,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400"}),(0,s.jsx)(t.Input,{placeholder:"Fatura ara...",value:D,onChange:e=>F(e.target.value),className:"pl-10"})]}),(0,s.jsx)(t.Input,{type:"date",value:I,onChange:e=>R(e.target.value),className:"w-[180px]"}),(0,s.jsxs)(i.Select,{value:z,onValueChange:H,children:[(0,s.jsx)(i.SelectTrigger,{className:"w-[150px]",children:(0,s.jsx)(i.SelectValue,{placeholder:"Durum"})}),(0,s.jsxs)(i.SelectContent,{children:[(0,s.jsx)(i.SelectItem,{value:"all",children:"Tum durumlar"}),(0,s.jsx)(i.SelectItem,{value:"draft",children:"Taslak"}),(0,s.jsx)(i.SelectItem,{value:"pending",children:"Beklemede"}),(0,s.jsx)(i.SelectItem,{value:"paid",children:"Odendi"}),(0,s.jsx)(i.SelectItem,{value:"overdue",children:"Gecikti"}),(0,s.jsx)(i.SelectItem,{value:"cancelled",children:"Iptal"})]})]})]})]}),(0,s.jsx)("div",{className:"flex-1 overflow-auto p-8",children:(0,s.jsxs)(r.Tabs,{defaultValue:"sales",className:"w-full",children:[(0,s.jsxs)(r.TabsList,{className:"grid w-full grid-cols-2 mb-6 max-w-md",children:[(0,s.jsx)(r.TabsTrigger,{value:"sales",children:"Satis Faturalari"}),(0,s.jsx)(r.TabsTrigger,{value:"purchase",children:"Alis Faturalari"})]}),(0,s.jsx)(r.TabsContent,{value:"sales",children:(0,s.jsx)(A,{invoices:e,type:"sales"})}),(0,s.jsx)(r.TabsContent,{value:"purchase",children:(0,s.jsx)(A,{invoices:w,type:"purchase"})})]})})]})}e.s(["default",()=>C],43927)}]);