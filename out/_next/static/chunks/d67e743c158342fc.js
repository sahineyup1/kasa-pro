(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,63875,e=>{"use strict";var a=e.i(43476),s=e.i(71645),l=e.i(19455),t=e.i(93479),i=e.i(67489),r=e.i(84774),n=e.i(55146),c=e.i(69457),d=e.i(10204),o=e.i(24687),m=e.i(57428),x=e.i(76639),h=e.i(77572),u=e.i(31278),p=e.i(95468),g=e.i(73884),j=e.i(48256);let b=[{code:"SI",label:"Slovenya (SI)"},{code:"AT",label:"Avusturya (AT)"},{code:"DE",label:"Almanya (DE)"},{code:"IT",label:"Italya (IT)"},{code:"HR",label:"Hirvatistan (HR)"},{code:"HU",label:"Macaristan (HU)"},{code:"CZ",label:"Cek Cumhuriyeti (CZ)"},{code:"PL",label:"Polonya (PL)"},{code:"FR",label:"Fransa (FR)"},{code:"NL",label:"Hollanda (NL)"},{code:"BE",label:"Belcika (BE)"}],v=[{value:"wholesaler",label:"Toptanci"},{value:"manufacturer",label:"Uretici"},{value:"distributor",label:"Distributor"}],y=["EUR","USD","GBP","TRY"],N=["0","5","9.5","22"];function f(e,a,s,l){if(!e)return l;let t=e;for(let e of a)if(t&&"object"==typeof t&&e in t)t=t[e];else{t=void 0;break}if(null!=t)return t;let i=e[s];return null!=i?i:l}function T({open:e,onOpenChange:r,supplier:n,onSave:T}){let S=!!n,[C,k]=(0,s.useState)(""),[w,I]=(0,s.useState)(!1),[D,A]=(0,s.useState)(null),[B,L]=(0,s.useState)(""),[F,O]=(0,s.useState)(""),[V,H]=(0,s.useState)("SI"),[R,E]=(0,s.useState)("wholesaler"),[P,U]=(0,s.useState)(!0),[M,$]=(0,s.useState)(""),[_,z]=(0,s.useState)(""),[K,G]=(0,s.useState)(!1),[Y,Z]=(0,s.useState)(""),[X,q]=(0,s.useState)(""),[W,J]=(0,s.useState)(""),[Q,ee]=(0,s.useState)(""),[ea,es]=(0,s.useState)(""),[el,et]=(0,s.useState)(""),[ei,er]=(0,s.useState)(""),[en,ec]=(0,s.useState)("30"),[ed,eo]=(0,s.useState)("EUR"),[em,ex]=(0,s.useState)(""),[eh,eu]=(0,s.useState)(""),[ep,eg]=(0,s.useState)("9.5"),[ej,eb]=(0,s.useState)(!1),[ev,ey]=(0,s.useState)(""),[eN,ef]=(0,s.useState)(""),[eT,eS]=(0,s.useState)(""),[eC,ek]=(0,s.useState)(!1);(0,s.useEffect)(()=>{e&&(n?(L(f(n,["basic","name"],"name","")),O(f(n,["basic","shortName"],"shortName","")),H(f(n,["basic","country"],"country","SI")),E(f(n,["basic","type"],"type","wholesaler")),U(f(n,["basic","isActive"],"isActive",!0)),$(f(n,["basic","categories"],"categories",[]).join(", ")),z(f(n,["tax","taxId"],"taxId","")),G(f(n,["tax","reverseCharge"],"reverseCharge",!1)),Z(f(n,["contact","address","street"],"street","")),q(f(n,["contact","address","city"],"city","")),J(f(n,["contact","address","postalCode"],"postalCode","")),ee(f(n,["contact","phone"],"phone","")),es(f(n,["contact","email"],"email","")),et(f(n,["contact","contactPerson","name"],"contactPersonName","")),er(f(n,["contact","contactPerson","phone"],"contactPersonPhone","")),ec(String(f(n,["payment","paymentTermDays"],"paymentTermDays",30))),eo(f(n,["payment","currency"],"currency","EUR")),ex(f(n,["payment","bankDetails","bankName"],"bankName","")),eu(f(n,["payment","bankDetails","iban"],"iban","")),eg(String(f(n,["tax","defaultVatRate"],"defaultVatRate",9.5))),eb(f(n,["shipping","transportIncluded"],"transportIncluded",!1)),ey(String(f(n,["shipping","transportFee"],"transportFee",0)||"")),ef(String(f(n,["shipping","minOrderAmount"],"minOrderAmount",0)||"")),eS(f(n,["settings","notes"],"notes","")),k(f(n,["tax","taxId"],"taxId","")),f(n,["tax","vies_validated"],"vies_validated",!1)&&A({valid:!0,message:"Onceden dogrulanmis",companyName:f(n,["tax","vies_company_name"],"vies_company_name",void 0)})):(L(""),O(""),H("SI"),E("wholesaler"),U(!0),$(""),z(""),G(!1),Z(""),q(""),J(""),ee(""),es(""),et(""),er(""),ec("30"),eo("EUR"),ex(""),eu(""),eg("9.5"),eb(!1),ey(""),ef(""),eS(""),k(""),A(null)))},[e,n]);let ew=async()=>{if(C.trim()){I(!0),A(null);try{await new Promise(e=>setTimeout(e,1500));let e=C.replace(/\s/g,"").toUpperCase();if(!/^[A-Z]{2}[0-9A-Z]{8,12}$/.test(e))return void A({valid:!1,message:"Gecersiz VAT numarasi formati. Ornek: SI12345678"});let a=e.substring(0,2),s={SI:"Primer d.o.o.",AT:"Muster GmbH",DE:"Beispiel AG",IT:"Esempio S.r.l.",HR:"Primjer d.o.o."},l={SI:"Slovenska cesta 123, 1000 Ljubljana",AT:"Hauptstrasse 456, 1010 Wien",DE:"Musterweg 789, 10115 Berlin",IT:"Via Esempio 321, 00100 Roma",HR:"Ulica Primjer 654, 10000 Zagreb"};if(A({valid:!0,message:"VAT numarasi dogrulandi",companyName:s[a]||"Test Company",companyAddress:l[a]||"Test Address"}),s[a]&&(L(s[a]),O(s[a].substring(0,30))),b.find(e=>e.code===a)&&H(a),l[a]){let e=l[a].split(", ");if(e.length>=1&&Z(e[0]),e.length>=2){let a=e[1],s=a.match(/^(\d+)\s+(.+)$/);s?(J(s[1]),q(s[2])):q(a)}}z(e),"SI"!==a&&G(!0)}catch(e){A({valid:!1,message:"VIES servisi hata verdi: "+e.message})}finally{I(!1)}}},eI=async()=>{if(!B.trim())return void alert("Lutfen tedarikci adi girin!");if(ea&&!ea.includes("@"))return void alert("Gecersiz email adresi!");ek(!0);try{let e={type:{isCustomer:!1,isSupplier:!0,isBoth:!1},basic:{name:B.trim(),shortName:F.trim()||B.trim().substring(0,30),country:V,type:R,isActive:P,categories:M.split(",").map(e=>e.trim()).filter(Boolean),partnerTypes:{isCustomer:!1,isSupplier:!0}},contact:{address:{street:Y.trim(),city:X.trim(),postalCode:W.trim()},phone:Q.trim(),email:ea.trim(),contactPerson:{name:el.trim(),phone:ei.trim()}},payment:{paymentTermDays:parseInt(en)||30,currency:ed,bankDetails:{bankName:em.trim(),iban:eh.trim()}},tax:{taxId:_.trim(),reverseCharge:K,defaultVatRate:parseFloat(ep)||9.5,...D?.valid&&{vies_validated:!0,vies_validation_date:new Date().toISOString(),vies_company_name:D.companyName}},shipping:{transportIncluded:ej,transportFee:parseFloat(ev)||0,minOrderAmount:parseFloat(eN)||0},settings:{notes:eT.trim()},updatedAt:new Date().toISOString()};S&&n?.id?await (0,c.updateData)(`partners/${n.id}`,e):await (0,c.pushData)("partners",{...e,createdAt:new Date().toISOString()}),r(!1),T?.()}catch(e){console.error("Save error:",e),alert("Kaydetme hatasi: "+e.message)}finally{ek(!1)}};return(0,a.jsx)(x.Dialog,{open:e,onOpenChange:r,children:(0,a.jsxs)(x.DialogContent,{className:"max-w-4xl max-h-[90vh] overflow-hidden flex flex-col",children:[(0,a.jsxs)(x.DialogHeader,{className:"border-b pb-4",children:[(0,a.jsx)(x.DialogTitle,{className:"text-xl font-semibold",children:S?"Tedarikci Duzenle":"Yeni Tedarikci"}),(0,a.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:S?"Tedarikci bilgilerini guncelleyin":"Yeni tedarikci eklemek icin formu doldurun"})]}),(0,a.jsxs)("div",{className:"flex-1 overflow-y-auto py-4",children:[(0,a.jsxs)("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-4 mb-6",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(0,a.jsx)(j.Globe,{className:"h-5 w-5 text-amber-600"}),(0,a.jsx)("h3",{className:"font-semibold text-amber-900",children:"AB VAT Numarasi Dogrulama"})]}),(0,a.jsx)("p",{className:"text-sm text-amber-700 mb-4",children:"Sirket bilgilerini otomatik doldurmak icin AB VAT numarasi ile baslayin"}),(0,a.jsxs)("div",{className:"flex gap-3",children:[(0,a.jsx)("div",{className:"flex-1",children:(0,a.jsx)(t.Input,{placeholder:"Orn: SI12345678, ATU12345678, DE123456789",value:C,onChange:e=>k(e.target.value.toUpperCase())})}),(0,a.jsx)(l.Button,{onClick:ew,disabled:w||!C.trim(),className:"min-w-[160px]",children:w?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(u.Loader2,{className:"h-4 w-4 mr-2 animate-spin"}),"Dogrulaniyor..."]}):"VIES ile Dogrula"})]}),D&&(0,a.jsxs)("div",{className:`mt-3 p-3 rounded-lg flex items-start gap-2 ${D.valid?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:[D.valid?(0,a.jsx)(p.CheckCircle2,{className:"h-5 w-5 mt-0.5 flex-shrink-0"}):(0,a.jsx)(g.XCircle,{className:"h-5 w-5 mt-0.5 flex-shrink-0"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium",children:D.message}),D.companyName&&(0,a.jsxs)("p",{className:"text-sm mt-1",children:["Sirket: ",D.companyName]}),D.companyAddress&&(0,a.jsxs)("p",{className:"text-sm",children:["Adres: ",D.companyAddress]})]})]})]}),(0,a.jsxs)(h.Tabs,{defaultValue:"basic",className:"w-full",children:[(0,a.jsxs)(h.TabsList,{className:"grid w-full grid-cols-5 mb-4",children:[(0,a.jsx)(h.TabsTrigger,{value:"basic",children:"Temel Bilgiler"}),(0,a.jsx)(h.TabsTrigger,{value:"contact",children:"Iletisim"}),(0,a.jsx)(h.TabsTrigger,{value:"payment",children:"Odeme & Finans"}),(0,a.jsx)(h.TabsTrigger,{value:"shipping",children:"Nakliye"}),(0,a.jsx)(h.TabsTrigger,{value:"settings",children:"Ayarlar"})]}),(0,a.jsxs)(h.TabsContent,{value:"basic",className:"space-y-4",children:[(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(d.Label,{htmlFor:"name",children:"Tedarikci Adi *"}),(0,a.jsx)(t.Input,{id:"name",value:B,onChange:e=>L(e.target.value),placeholder:"Orn: ABC Trading GmbH"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(d.Label,{htmlFor:"shortName",children:"Kisa Isim"}),(0,a.jsx)(t.Input,{id:"shortName",value:F,onChange:e=>O(e.target.value),placeholder:"Orn: ABC"})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(d.Label,{htmlFor:"country",children:"Ulke *"}),(0,a.jsxs)(i.Select,{value:V,onValueChange:H,children:[(0,a.jsx)(i.SelectTrigger,{children:(0,a.jsx)(i.SelectValue,{placeholder:"Ulke secin"})}),(0,a.jsx)(i.SelectContent,{children:b.map(e=>(0,a.jsx)(i.SelectItem,{value:e.code,children:e.label},e.code))})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(d.Label,{htmlFor:"type",children:"Tip"}),(0,a.jsxs)(i.Select,{value:R,onValueChange:E,children:[(0,a.jsx)(i.SelectTrigger,{children:(0,a.jsx)(i.SelectValue,{placeholder:"Tip secin"})}),(0,a.jsx)(i.SelectContent,{children:v.map(e=>(0,a.jsx)(i.SelectItem,{value:e.value,children:e.label},e.value))})]})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(d.Label,{htmlFor:"taxId",children:"VAT/Vergi Numarasi"}),(0,a.jsx)(t.Input,{id:"taxId",value:_,onChange:e=>z(e.target.value.toUpperCase()),placeholder:"Orn: SI12345678"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(d.Label,{htmlFor:"categories",children:"Kategoriler"}),(0,a.jsx)(t.Input,{id:"categories",value:M,onChange:e=>$(e.target.value),placeholder:"Orn: Et, Tavuk, Sakatatlar (virgul ile)"})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-6 pt-2",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(m.Checkbox,{id:"isActive",checked:P,onCheckedChange:e=>U(e)}),(0,a.jsx)(d.Label,{htmlFor:"isActive",className:"font-normal",children:"Aktif Tedarikci"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(m.Checkbox,{id:"reverseCharge",checked:K,onCheckedChange:e=>G(e)}),(0,a.jsx)(d.Label,{htmlFor:"reverseCharge",className:"font-normal",children:"Reverse Charge (AB Tedarikcisi)"})]})]})]}),(0,a.jsxs)(h.TabsContent,{value:"contact",className:"space-y-4",children:[(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("h4",{className:"font-medium text-gray-700 border-b pb-2",children:"Adres Bilgileri"}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(d.Label,{htmlFor:"street",children:"Cadde/Sokak"}),(0,a.jsx)(t.Input,{id:"street",value:Y,onChange:e=>Z(e.target.value),placeholder:"Orn: Hauptstrasse 123"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(d.Label,{htmlFor:"city",children:"Sehir"}),(0,a.jsx)(t.Input,{id:"city",value:X,onChange:e=>q(e.target.value),placeholder:"Orn: Ljubljana"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(d.Label,{htmlFor:"postalCode",children:"Posta Kodu"}),(0,a.jsx)(t.Input,{id:"postalCode",value:W,onChange:e=>J(e.target.value),placeholder:"Orn: 1000"})]})]})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("h4",{className:"font-medium text-gray-700 border-b pb-2",children:"Iletisim Bilgileri"}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(d.Label,{htmlFor:"phone",children:"Telefon"}),(0,a.jsx)(t.Input,{id:"phone",value:Q,onChange:e=>ee(e.target.value),placeholder:"Orn: +386 1 234 5678"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(d.Label,{htmlFor:"email",children:"Email"}),(0,a.jsx)(t.Input,{id:"email",type:"email",value:ea,onChange:e=>es(e.target.value),placeholder:"Orn: info@tedarikci.com"})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(d.Label,{htmlFor:"contactPerson",children:"Irtibat Kisisi"}),(0,a.jsx)(t.Input,{id:"contactPerson",value:el,onChange:e=>et(e.target.value),placeholder:"Orn: Ahmet Yilmaz"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(d.Label,{htmlFor:"contactPhone",children:"Irtibat Telefonu"}),(0,a.jsx)(t.Input,{id:"contactPhone",value:ei,onChange:e=>er(e.target.value),placeholder:"Orn: +386 40 123 456"})]})]})]})]}),(0,a.jsxs)(h.TabsContent,{value:"payment",className:"space-y-4",children:[(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("h4",{className:"font-medium text-gray-700 border-b pb-2",children:"Odeme Bilgileri"}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(d.Label,{htmlFor:"paymentTermDays",children:"Odeme Vadesi (gun)"}),(0,a.jsx)(t.Input,{id:"paymentTermDays",type:"number",value:en,onChange:e=>ec(e.target.value),min:"0",max:"365"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(d.Label,{htmlFor:"currency",children:"Para Birimi"}),(0,a.jsxs)(i.Select,{value:ed,onValueChange:eo,children:[(0,a.jsx)(i.SelectTrigger,{children:(0,a.jsx)(i.SelectValue,{placeholder:"Para birimi secin"})}),(0,a.jsx)(i.SelectContent,{children:y.map(e=>(0,a.jsx)(i.SelectItem,{value:e,children:e},e))})]})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(d.Label,{htmlFor:"bankName",children:"Banka Adi"}),(0,a.jsx)(t.Input,{id:"bankName",value:em,onChange:e=>ex(e.target.value),placeholder:"Orn: Nova KBM"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(d.Label,{htmlFor:"iban",children:"IBAN"}),(0,a.jsx)(t.Input,{id:"iban",value:eh,onChange:e=>eu(e.target.value),placeholder:"Orn: SI56 0110 0100 0123 456"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(d.Label,{htmlFor:"vatRate",children:"Varsayilan KDV Orani (%)"}),(0,a.jsxs)(i.Select,{value:ep,onValueChange:eg,children:[(0,a.jsx)(i.SelectTrigger,{className:"w-[200px]",children:(0,a.jsx)(i.SelectValue,{placeholder:"KDV orani secin"})}),(0,a.jsx)(i.SelectContent,{children:N.map(e=>(0,a.jsxs)(i.SelectItem,{value:e,children:["%",e]},e))})]})]})]}),S&&n?.payment?.currentBalance!==void 0&&(0,a.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4 mt-4",children:[(0,a.jsx)("h4",{className:"font-medium text-gray-700 mb-2",children:"Bakiye Durumu"}),(0,a.jsx)("p",{className:`text-2xl font-bold ${(n.payment.currentBalance||0)>0?"text-red-600":0>(n.payment.currentBalance||0)?"text-green-600":""}`,children:(n.payment.currentBalance||0).toLocaleString("tr-TR",{style:"currency",currency:ed})})]})]}),(0,a.jsx)(h.TabsContent,{value:"shipping",className:"space-y-4",children:(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("h4",{className:"font-medium text-gray-700 border-b pb-2",children:"Nakliye Bilgileri"}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(m.Checkbox,{id:"transportIncluded",checked:ej,onCheckedChange:e=>eb(e)}),(0,a.jsx)(d.Label,{htmlFor:"transportIncluded",className:"font-normal",children:"Nakliye Ucreti Dahil"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(d.Label,{htmlFor:"transportFee",children:"Nakliye Ucreti (EUR)"}),(0,a.jsx)(t.Input,{id:"transportFee",type:"number",step:"0.01",value:ev,onChange:e=>ey(e.target.value),disabled:ej,placeholder:"0.00"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(d.Label,{htmlFor:"minOrderAmount",children:"Minimum Siparis (EUR)"}),(0,a.jsx)(t.Input,{id:"minOrderAmount",type:"number",step:"0.01",value:eN,onChange:e=>ef(e.target.value),placeholder:"0.00"})]})]})]})}),(0,a.jsx)(h.TabsContent,{value:"settings",className:"space-y-4",children:(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("h4",{className:"font-medium text-gray-700 border-b pb-2",children:"Diger Ayarlar"}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(d.Label,{htmlFor:"notes",children:"Notlar"}),(0,a.jsx)(o.Textarea,{id:"notes",value:eT,onChange:e=>eS(e.target.value),placeholder:"Tedarikci hakkinda notlar...",rows:5})]})]})})]})]}),(0,a.jsxs)("div",{className:"border-t pt-4 flex justify-end gap-3",children:[(0,a.jsx)(l.Button,{variant:"outline",onClick:()=>r(!1),disabled:eC,children:"Iptal"}),(0,a.jsx)(l.Button,{onClick:eI,disabled:eC,children:eC?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(u.Loader2,{className:"h-4 w-4 mr-2 animate-spin"}),"Kaydediliyor..."]}):"Tedarikciyi Kaydet"})]})]})})}var S=e.i(68148),C=e.i(98919),k=e.i(69638),w=e.i(3116),I=e.i(75254);let D=(0,I.default)("skip-forward",[["path",{d:"M21 4v16",key:"7j8fe9"}],["path",{d:"M6.029 4.285A2 2 0 0 0 3 6v12a2 2 0 0 0 3.029 1.715l9.997-5.998a2 2 0 0 0 .003-3.432z",key:"zs4d6"}]]),A=(0,I.default)("play",[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]]),B=(0,I.default)("square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);async function L(e){try{let a=e.substring(0,2).toUpperCase(),s=e.substring(2).replace(/\s/g,""),l=await fetch(`https://ec.europa.eu/taxation_customs/vies/rest-api/ms/${a}/vat/${s}`);if(!l.ok)throw Error("VIES API error");let t=await l.json();return{valid:!0===t.isValid,countryCode:t.countryCode,vatNumber:t.vatNumber,companyName:t.name||"",companyAddress:t.address||""}}catch(e){return{valid:!1,error:e.message||"Dogrulama hatasi"}}}function F({status:e}){let{icon:s,label:l,class:t}={pending:{icon:w.Clock,label:"Bekliyor",class:"text-gray-500"},validating:{icon:u.Loader2,label:"Dogrulaniyor",class:"text-amber-500"},valid:{icon:k.CheckCircle,label:"Gecerli",class:"text-green-500"},invalid:{icon:g.XCircle,label:"Gecersiz",class:"text-red-500"},skipped:{icon:D,label:"Atlandi",class:"text-gray-400"}}[e];return(0,a.jsxs)("span",{className:`inline-flex items-center gap-1 text-xs font-medium ${t}`,children:[(0,a.jsx)(s,{className:`h-3 w-3 ${"validating"===e?"animate-spin":""}`}),l]})}function O({open:e,onOpenChange:t,entityType:i,entities:n,onComplete:d}){let[o,h]=(0,s.useState)(!0),[u,p]=(0,s.useState)(!0),[g,j]=(0,s.useState)(!1),[b,v]=(0,s.useState)(!1),[y,N]=(0,s.useState)(0),[f,T]=(0,s.useState)({}),[k,w]=(0,s.useState)({}),I=e=>e.basic?.vatNumber||e.tax?.taxId||e.vatNumber||e.taxId||"",D=e=>e.basic?.name||e.name||"-",O=e=>e.basic?.vatCheckedAt||e.tax?.vies_validation_date||null,V=n.filter(e=>{let a=I(e);return(!u||!!a)&&(!o||!!(e=>{let a=O(e);if(!a)return!0;let s=new Date;return s.setMonth(s.getMonth()-6),new Date(a)<s})(e))});(0,s.useEffect)(()=>{if(e){let e={};V.forEach(a=>{let s=I(a);e[a.id]=s?"pending":"skipped"}),w(e),T({}),N(0),j(!1),v(!1)}},[e,o,u]);let H=(0,s.useCallback)(async()=>{j(!0),v(!1);for(let e=0;e<V.length&&!b;e++){let a=V[e],s=I(a);if(!s){w(e=>({...e,[a.id]:"skipped"})),N(e+1);continue}w(e=>({...e,[a.id]:"validating"})),N(e);let l=await L(s),t=new Date().toISOString(),r={entityId:a.id,entityName:D(a),vatNumber:s,valid:l.valid,countryCode:l.countryCode,companyName:l.companyName,companyAddress:l.companyAddress,error:l.error,validatedAt:t};T(e=>({...e,[a.id]:r})),w(e=>({...e,[a.id]:l.valid?"valid":"invalid"}));try{let e="customer"===i?"customers":"suppliers";"customer"===i?await (0,c.updateData)(`${e}/${a.id}`,{"basic/vatValidated":l.valid,"basic/vatCheckedAt":t,"basic/vatCountry":l.countryCode||"","basic/vatCompanyName":l.companyName||""}):await (0,c.updateData)(`${e}/${a.id}`,{"tax/vies_validated":l.valid,"tax/vies_validation_date":t,"tax/vies_status":l.valid?"valid":"invalid","tax/vies_country_code":l.countryCode||"","tax/vies_company_name":l.companyName||"","tax/vies_company_address":l.companyAddress||"","tax/vies_error":l.error||""})}catch(e){console.error("Save error:",e)}await new Promise(e=>setTimeout(e,200)),N(e+1)}j(!1),d?.()},[V,i,b,d]),R={total:V.length,pending:Object.values(k).filter(e=>"pending"===e).length,valid:Object.values(k).filter(e=>"valid"===e).length,invalid:Object.values(k).filter(e=>"invalid"===e).length,skipped:Object.values(k).filter(e=>"skipped"===e).length},E=V.length>0?y/V.length*100:0;return(0,a.jsx)(x.Dialog,{open:e,onOpenChange:t,children:(0,a.jsxs)(x.DialogContent,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[(0,a.jsx)(x.DialogHeader,{children:(0,a.jsxs)(x.DialogTitle,{className:"flex items-center gap-2",children:[(0,a.jsx)(C.Shield,{className:"h-5 w-5"}),"Toplu VIES VAT Dogrulama"]})}),(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center gap-6 p-4 bg-gray-50 rounded-lg",children:[(0,a.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer",children:[(0,a.jsx)(m.Checkbox,{checked:o,onCheckedChange:e=>h(!!e),disabled:g}),(0,a.jsx)("span",{className:"text-sm",children:"Sadece 6+ ay once dogrulanmis"})]}),(0,a.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer",children:[(0,a.jsx)(m.Checkbox,{checked:u,onCheckedChange:e=>p(!!e),disabled:g}),(0,a.jsx)("span",{className:"text-sm",children:"Sadece VAT numarasi olanlar"})]})]}),g&&(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,a.jsxs)("span",{children:["Dogrulaniyor: ",y," / ",V.length]}),(0,a.jsxs)("span",{children:[Math.round(E),"%"]})]}),(0,a.jsx)(S.Progress,{value:E,className:"h-2"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-5 gap-4 text-center",children:[(0,a.jsxs)("div",{className:"p-3 bg-gray-100 rounded-lg",children:[(0,a.jsx)("div",{className:"text-2xl font-bold",children:R.total}),(0,a.jsx)("div",{className:"text-xs text-muted-foreground",children:"Toplam"})]}),(0,a.jsxs)("div",{className:"p-3 bg-amber-100 rounded-lg",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-amber-600",children:R.pending}),(0,a.jsx)("div",{className:"text-xs text-amber-600",children:"Bekliyor"})]}),(0,a.jsxs)("div",{className:"p-3 bg-green-100 rounded-lg",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-green-600",children:R.valid}),(0,a.jsx)("div",{className:"text-xs text-green-600",children:"Gecerli"})]}),(0,a.jsxs)("div",{className:"p-3 bg-red-100 rounded-lg",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-red-600",children:R.invalid}),(0,a.jsx)("div",{className:"text-xs text-red-600",children:"Gecersiz"})]}),(0,a.jsxs)("div",{className:"p-3 bg-gray-100 rounded-lg",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-gray-500",children:R.skipped}),(0,a.jsx)("div",{className:"text-xs text-gray-500",children:"Atlandi"})]})]}),(0,a.jsx)("div",{className:"border rounded-lg max-h-[300px] overflow-y-auto",children:(0,a.jsxs)(r.Table,{children:[(0,a.jsx)(r.TableHeader,{children:(0,a.jsxs)(r.TableRow,{children:[(0,a.jsx)(r.TableHead,{children:"Isim"}),(0,a.jsx)(r.TableHead,{children:"VAT Numarasi"}),(0,a.jsx)(r.TableHead,{children:"Son Dogrulama"}),(0,a.jsx)(r.TableHead,{children:"Durum"}),(0,a.jsx)(r.TableHead,{children:"Ulke"}),(0,a.jsx)(r.TableHead,{children:"Sonuc"})]})}),(0,a.jsx)(r.TableBody,{children:0===V.length?(0,a.jsx)(r.TableRow,{children:(0,a.jsx)(r.TableCell,{colSpan:6,className:"text-center py-8 text-muted-foreground",children:"Dogrulanacak kayit bulunamadi"})}):V.map(e=>{let s=I(e),l=O(e),t=k[e.id]||"pending",i=f[e.id];return(0,a.jsxs)(r.TableRow,{children:[(0,a.jsx)(r.TableCell,{className:"font-medium",children:D(e)}),(0,a.jsx)(r.TableCell,{className:"font-mono text-sm",children:s||"-"}),(0,a.jsx)(r.TableCell,{className:"text-xs text-muted-foreground",children:l?new Date(l).toLocaleDateString("tr-TR"):"-"}),(0,a.jsx)(r.TableCell,{children:(0,a.jsx)(F,{status:t})}),(0,a.jsx)(r.TableCell,{className:"text-sm",children:i?.countryCode||s?.substring(0,2)||"-"}),(0,a.jsx)(r.TableCell,{className:"text-xs max-w-[200px] truncate",children:i?.companyName||i?.error||"-"})]},e.id)})})]})}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)(l.Button,{variant:"outline",onClick:()=>t(!1),children:"Kapat"}),(0,a.jsx)("div",{className:"flex gap-2",children:g?(0,a.jsxs)(l.Button,{variant:"destructive",onClick:()=>v(!0),children:[(0,a.jsx)(B,{className:"h-4 w-4 mr-2"}),"Durdur"]}):(0,a.jsxs)(l.Button,{onClick:H,disabled:0===V.length,children:[(0,a.jsx)(A,{className:"h-4 w-4 mr-2"}),"Dogrulamayi Baslat (",V.length,")"]})})]})]})]})})}var V=e.i(7233),H=e.i(16715),R=e.i(41071),E=e.i(88699),P=e.i(27612),U=e.i(86536),M=e.i(55436),$=e.i(7486);function _({isActive:e}){return(0,a.jsx)("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${e?"bg-green-100 text-green-800":"bg-gray-100 text-gray-600"}`,children:e?"Aktif":"Pasif"})}let z={SI:"ðŸ‡¸ðŸ‡®",AT:"ðŸ‡¦ðŸ‡¹",DE:"ðŸ‡©ðŸ‡ª",IT:"ðŸ‡®ðŸ‡¹",HR:"ðŸ‡­ðŸ‡·",HU:"ðŸ‡­ðŸ‡º",CZ:"ðŸ‡¨ðŸ‡¿",PL:"ðŸ‡µðŸ‡±",FR:"ðŸ‡«ðŸ‡·",NL:"ðŸ‡³ðŸ‡±",BE:"ðŸ‡§ðŸ‡ª"};function K(e,a,s,l){let t=e;for(let e of a)if(t&&"object"==typeof t&&e in t)t=t[e];else{t=void 0;break}if(null!=t)return t;let i=e[s];return null!=i?i:l}function G(){let[e,d]=(0,s.useState)([]),[o,m]=(0,s.useState)(!0),[x,h]=(0,s.useState)(""),[u,p]=(0,s.useState)("all"),[g,b]=(0,s.useState)("all"),[v,y]=(0,s.useState)("all"),[N,f]=(0,s.useState)(!1),[S,k]=(0,s.useState)(null),[w,I]=(0,s.useState)(!1);(0,s.useEffect)(()=>{m(!0);let e=(0,c.subscribeToRTDB)("partners",e=>{d((e||[]).filter(e=>{let a=e.type?.isSupplier||e.basic?.partnerTypes?.isSupplier,s=e.basic?.status==="deleted";return a&&!s})),m(!1)});return()=>e()},[]);let D=(0,s.useMemo)(()=>e.filter(e=>{let a=K(e,["basic","name"],"name",""),s=K(e,["contact","email"],"email",""),l=K(e,["contact","phone"],"phone",""),t=K(e,["tax","taxId"],"taxId",""),i=x.toLowerCase(),r=!x||a.toLowerCase().includes(i)||s.toLowerCase().includes(i)||l.toLowerCase().includes(i)||t.toLowerCase().includes(i),n=K(e,["basic","isActive"],"isActive",!0),c="all"===u||"active"===u&&n||"inactive"===u&&!n,d=K(e,["basic","country"],"country",""),o="all"===g||d===g,m=K(e,["basic","categories"],"categories",[]),h="all"===v||m.some(e=>e.toLowerCase()===v.toLowerCase());return r&&c&&o&&h}),[e,x,u,g,v]),A=(0,s.useMemo)(()=>{let a=e.length;return{total:a,active:e.filter(e=>K(e,["basic","isActive"],"isActive",!0)).length,totalBalance:e.reduce((e,a)=>e+K(a,["payment","currentBalance"],"currentBalance",0),0)}},[e]),B=(0,s.useMemo)(()=>{let a=new Set;return e.forEach(e=>{let s=K(e,["basic","country"],"country","");s&&a.add(s)}),Array.from(a).sort()},[e]),L=(0,s.useMemo)(()=>{let a=new Set;return e.forEach(e=>{K(e,["basic","categories"],"categories",[]).forEach(e=>a.add(e))}),Array.from(a).sort()},[e]),F=async e=>{try{let a=!K(e,["basic","isActive"],"isActive",!0);e.basic?await (0,c.updateData)(`partners/${e.id}/basic`,{isActive:a}):await (0,c.updateData)(`partners/${e.id}`,{isActive:a,updatedAt:new Date().toISOString()})}catch(e){console.error("Status update error:",e),alert("Durum guncellenemedi: "+e.message)}},G=async e=>{let a=K(e,["basic","name"],"name","Tedarikci");if(confirm(`"${a}" tedarikciyi silmek istediginize emin misiniz?`))try{await (0,c.removeData)(`partners/${e.id}`)}catch(e){console.error("Delete error:",e),alert("Silme hatasi: "+e.message)}};return(0,a.jsxs)("div",{className:"h-full flex flex-col bg-gray-50",children:[(0,a.jsxs)("div",{className:"bg-white border-b px-8 py-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-2xl font-semibold text-gray-900",children:"Tedarikciler"}),(0,a.jsxs)("p",{className:"text-sm text-gray-500 mt-1",children:[A.total," tedarikci - ",A.active," aktif"]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsxs)(l.Button,{variant:"outline",size:"sm",onClick:()=>{m(!0),setTimeout(()=>m(!1),500)},disabled:o,children:[(0,a.jsx)(H.RefreshCw,{className:`h-4 w-4 mr-2 ${o?"animate-spin":""}`}),"Yenile"]}),(0,a.jsxs)(l.Button,{variant:"outline",onClick:()=>I(!0),children:[(0,a.jsx)(C.Shield,{className:"h-4 w-4 mr-2"}),"Toplu VIES Dogrulama"]}),(0,a.jsxs)(l.Button,{onClick:()=>{k(null),f(!0)},children:[(0,a.jsx)(V.Plus,{className:"h-4 w-4 mr-2"}),"Yeni Tedarikci"]})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-4 gap-4 mb-6",children:[(0,a.jsx)("div",{className:"bg-amber-50 rounded-lg p-4",children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"p-2 bg-amber-100 rounded-lg",children:(0,a.jsx)($.Building2,{className:"h-5 w-5 text-amber-600"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Toplam"}),(0,a.jsx)("p",{className:"text-xl font-semibold text-gray-900",children:A.total})]})]})}),(0,a.jsx)("div",{className:"bg-green-50 rounded-lg p-4",children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"p-2 bg-green-100 rounded-lg",children:(0,a.jsx)($.Building2,{className:"h-5 w-5 text-green-600"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Aktif"}),(0,a.jsx)("p",{className:"text-xl font-semibold text-gray-900",children:A.active})]})]})}),(0,a.jsx)("div",{className:"bg-purple-50 rounded-lg p-4",children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"p-2 bg-purple-100 rounded-lg",children:(0,a.jsx)(j.Globe,{className:"h-5 w-5 text-purple-600"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Ulkeler"}),(0,a.jsx)("p",{className:"text-xl font-semibold text-gray-900",children:B.length})]})]})}),(0,a.jsx)("div",{className:`${A.totalBalance>=0?"bg-red-50":"bg-green-50"} rounded-lg p-4`,children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:`p-2 ${A.totalBalance>=0?"bg-red-100":"bg-green-100"} rounded-lg`,children:(0,a.jsx)($.Building2,{className:`h-5 w-5 ${A.totalBalance>=0?"text-red-600":"text-green-600"}`})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Toplam Bakiye"}),(0,a.jsxs)("p",{className:`text-xl font-semibold ${A.totalBalance>=0?"text-red-600":"text-green-600"}`,children:[A.totalBalance>=0?"-":"+","â‚¬",Math.abs(A.totalBalance).toLocaleString("tr-TR",{minimumFractionDigits:2})]})]})]})})]}),(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsxs)("div",{className:"relative flex-1 max-w-md",children:[(0,a.jsx)(M.Search,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400"}),(0,a.jsx)(t.Input,{placeholder:"Tedarikci ara...",value:x,onChange:e=>h(e.target.value),className:"pl-10"})]}),(0,a.jsxs)(i.Select,{value:u,onValueChange:p,children:[(0,a.jsx)(i.SelectTrigger,{className:"w-[150px]",children:(0,a.jsx)(i.SelectValue,{placeholder:"Durum"})}),(0,a.jsxs)(i.SelectContent,{children:[(0,a.jsx)(i.SelectItem,{value:"all",children:"Tum durumlar"}),(0,a.jsx)(i.SelectItem,{value:"active",children:"Aktif"}),(0,a.jsx)(i.SelectItem,{value:"inactive",children:"Pasif"})]})]}),(0,a.jsxs)(i.Select,{value:g,onValueChange:b,children:[(0,a.jsx)(i.SelectTrigger,{className:"w-[150px]",children:(0,a.jsx)(i.SelectValue,{placeholder:"Ulke"})}),(0,a.jsxs)(i.SelectContent,{children:[(0,a.jsx)(i.SelectItem,{value:"all",children:"Tum ulkeler"}),B.map(e=>(0,a.jsxs)(i.SelectItem,{value:e,children:[z[e]||""," ",e]},e))]})]}),(0,a.jsxs)(i.Select,{value:v,onValueChange:y,children:[(0,a.jsx)(i.SelectTrigger,{className:"w-[150px]",children:(0,a.jsx)(i.SelectValue,{placeholder:"Kategori"})}),(0,a.jsxs)(i.SelectContent,{children:[(0,a.jsx)(i.SelectItem,{value:"all",children:"Tum kategoriler"}),L.map(e=>(0,a.jsx)(i.SelectItem,{value:e,children:e},e))]})]})]})]}),(0,a.jsx)("div",{className:"flex-1 overflow-auto p-8",children:(0,a.jsx)("div",{className:"bg-white rounded-lg border",children:(0,a.jsxs)(r.Table,{children:[(0,a.jsx)(r.TableHeader,{children:(0,a.jsxs)(r.TableRow,{children:[(0,a.jsx)(r.TableHead,{className:"w-[120px]",children:"Kod"}),(0,a.jsx)(r.TableHead,{children:"Tedarikci"}),(0,a.jsx)(r.TableHead,{children:"Tip"}),(0,a.jsx)(r.TableHead,{children:"Ulke"}),(0,a.jsx)(r.TableHead,{children:"Iletisim"}),(0,a.jsx)(r.TableHead,{children:"Telefon"}),(0,a.jsx)(r.TableHead,{children:"E-posta"}),(0,a.jsx)(r.TableHead,{className:"text-right",children:"Borc"}),(0,a.jsx)(r.TableHead,{className:"text-right",children:"Alacak"}),(0,a.jsx)(r.TableHead,{className:"text-right",children:"Bakiye"}),(0,a.jsx)(r.TableHead,{children:"Durum"}),(0,a.jsx)(r.TableHead,{className:"w-[60px]"})]})}),(0,a.jsx)(r.TableBody,{children:o?(0,a.jsx)(r.TableRow,{children:(0,a.jsx)(r.TableCell,{colSpan:12,className:"text-center py-8 text-gray-500",children:"Yukleniyor..."})}):0===D.length?(0,a.jsx)(r.TableRow,{children:(0,a.jsx)(r.TableCell,{colSpan:12,className:"text-center py-8 text-gray-500",children:x||"all"!==u||"all"!==g||"all"!==v?"Filtrelere uygun tedarikci bulunamadi":"Henuz tedarikci eklenmemis"})}):D.map(e=>{let s=K(e,["tax","taxId"],"taxId","-"),t=K(e,["basic","name"],"name","Bilinmiyor"),i=K(e,["basic","type"],"type","wholesaler"),c=K(e,["basic","country"],"country","-"),d=K(e,["contact","contactPerson","name"],"contactPerson","-"),o=K(e,["contact","phone"],"phone","-"),m=K(e,["contact","email"],"email","-"),x=K(e,["basic","isActive"],"isActive",!0),h=K(e,["payment","currentBalance"],"currentBalance",0),u=h>=0?h:0,p=h<0?Math.abs(h):0;return(0,a.jsxs)(r.TableRow,{className:"hover:bg-gray-50",children:[(0,a.jsx)(r.TableCell,{className:"font-mono text-sm font-medium",children:s}),(0,a.jsx)(r.TableCell,{className:"font-medium",children:t}),(0,a.jsx)(r.TableCell,{className:"text-gray-600",children:{wholesaler:"Toptanci",manufacturer:"Uretici",distributor:"Distributor",ToptancÄ±:"Toptanci",Ãœretici:"Uretici",DistribÃ¼tÃ¶r:"Distributor"}[i]||i}),(0,a.jsxs)(r.TableCell,{children:[z[c]||""," ",c]}),(0,a.jsx)(r.TableCell,{className:"text-gray-600",children:d}),(0,a.jsx)(r.TableCell,{className:"text-gray-600",children:o}),(0,a.jsx)(r.TableCell,{className:"text-gray-600",children:m}),(0,a.jsxs)(r.TableCell,{className:`text-right ${u>0?"text-red-600 font-medium":""}`,children:["â‚¬",u.toLocaleString("tr-TR",{minimumFractionDigits:2})]}),(0,a.jsxs)(r.TableCell,{className:`text-right ${p>0?"text-green-600 font-medium":""}`,children:["â‚¬",p.toLocaleString("tr-TR",{minimumFractionDigits:2})]}),(0,a.jsxs)(r.TableCell,{className:`text-right font-medium ${h>0?"text-red-600":h<0?"text-green-600":""}`,children:["â‚¬",h.toLocaleString("tr-TR",{minimumFractionDigits:2})]}),(0,a.jsx)(r.TableCell,{children:(0,a.jsx)(_,{isActive:x})}),(0,a.jsx)(r.TableCell,{children:(0,a.jsxs)(n.DropdownMenu,{children:[(0,a.jsx)(n.DropdownMenuTrigger,{asChild:!0,children:(0,a.jsx)(l.Button,{variant:"ghost",size:"icon",className:"h-8 w-8",children:(0,a.jsx)(R.MoreHorizontal,{className:"h-4 w-4"})})}),(0,a.jsxs)(n.DropdownMenuContent,{align:"end",children:[(0,a.jsxs)(n.DropdownMenuItem,{onClick:()=>{k(e),f(!0)},children:[(0,a.jsx)(U.Eye,{className:"h-4 w-4 mr-2"}),"Detaylari Goruntule"]}),(0,a.jsxs)(n.DropdownMenuItem,{onClick:()=>{k(e),f(!0)},children:[(0,a.jsx)(E.Pencil,{className:"h-4 w-4 mr-2"}),"Duzenle"]}),(0,a.jsx)(n.DropdownMenuSeparator,{}),(0,a.jsx)(n.DropdownMenuItem,{onClick:()=>F(e),children:x?"â¸ï¸ Pasif Yap":"â–¶ï¸ Aktif Yap"}),(0,a.jsx)(n.DropdownMenuSeparator,{}),(0,a.jsxs)(n.DropdownMenuItem,{onClick:()=>G(e),className:"text-red-600",children:[(0,a.jsx)(P.Trash2,{className:"h-4 w-4 mr-2"}),"Sil"]})]})]})})]},e.id)})})]})})}),(0,a.jsx)(T,{open:N,onOpenChange:f,supplier:S,onSave:()=>f(!1)}),(0,a.jsx)(O,{open:w,onOpenChange:I,entityType:"supplier",entities:e})]})}e.s(["default",()=>G],63875)}]);