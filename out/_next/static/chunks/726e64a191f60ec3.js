(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,98183,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var a={assign:function(){return o},searchParamsToUrlQuery:function(){return s},urlQueryToSearchParams:function(){return l}};for(var n in a)Object.defineProperty(r,n,{enumerable:!0,get:a[n]});function s(e){let t={};for(let[r,a]of e.entries()){let e=t[r];void 0===e?t[r]=a:Array.isArray(e)?e.push(a):t[r]=[e,a]}return t}function i(e){return"string"==typeof e?e:("number"!=typeof e||isNaN(e))&&"boolean"!=typeof e?"":String(e)}function l(e){let t=new URLSearchParams;for(let[r,a]of Object.entries(e))if(Array.isArray(a))for(let e of a)t.append(r,i(e));else t.set(r,i(a));return t}function o(e,...t){for(let r of t){for(let t of r.keys())e.delete(t);for(let[t,a]of r.entries())e.append(t,a)}return e}},95057,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var a={formatUrl:function(){return l},formatWithValidation:function(){return d},urlObjectKeys:function(){return o}};for(var n in a)Object.defineProperty(r,n,{enumerable:!0,get:a[n]});let s=e.r(90809)._(e.r(98183)),i=/https?|ftp|gopher|file/;function l(e){let{auth:t,hostname:r}=e,a=e.protocol||"",n=e.pathname||"",l=e.hash||"",o=e.query||"",d=!1;t=t?encodeURIComponent(t).replace(/%3A/i,":")+"@":"",e.host?d=t+e.host:r&&(d=t+(~r.indexOf(":")?`[${r}]`:r),e.port&&(d+=":"+e.port)),o&&"object"==typeof o&&(o=String(s.urlQueryToSearchParams(o)));let c=e.search||o&&`?${o}`||"";return a&&!a.endsWith(":")&&(a+=":"),e.slashes||(!a||i.test(a))&&!1!==d?(d="//"+(d||""),n&&"/"!==n[0]&&(n="/"+n)):d||(d=""),l&&"#"!==l[0]&&(l="#"+l),c&&"?"!==c[0]&&(c="?"+c),n=n.replace(/[?#]/g,encodeURIComponent),c=c.replace("#","%23"),`${a}${d}${n}${c}${l}`}let o=["auth","hash","host","hostname","href","path","pathname","port","protocol","query","search","slashes"];function d(e){return l(e)}},18967,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var a={DecodeError:function(){return x},MiddlewareNotFoundError:function(){return j},MissingStaticPage:function(){return b},NormalizeError:function(){return y},PageNotFoundError:function(){return v},SP:function(){return p},ST:function(){return g},WEB_VITALS:function(){return s},execOnce:function(){return i},getDisplayName:function(){return u},getLocationOrigin:function(){return d},getURL:function(){return c},isAbsoluteUrl:function(){return o},isResSent:function(){return h},loadGetInitialProps:function(){return m},normalizeRepeatedSlashes:function(){return f},stringifyError:function(){return N}};for(var n in a)Object.defineProperty(r,n,{enumerable:!0,get:a[n]});let s=["CLS","FCP","FID","INP","LCP","TTFB"];function i(e){let t,r=!1;return(...a)=>(r||(r=!0,t=e(...a)),t)}let l=/^[a-zA-Z][a-zA-Z\d+\-.]*?:/,o=e=>l.test(e);function d(){let{protocol:e,hostname:t,port:r}=window.location;return`${e}//${t}${r?":"+r:""}`}function c(){let{href:e}=window.location,t=d();return e.substring(t.length)}function u(e){return"string"==typeof e?e:e.displayName||e.name||"Unknown"}function h(e){return e.finished||e.headersSent}function f(e){let t=e.split("?");return t[0].replace(/\\/g,"/").replace(/\/\/+/g,"/")+(t[1]?`?${t.slice(1).join("?")}`:"")}async function m(e,t){let r=t.res||t.ctx&&t.ctx.res;if(!e.getInitialProps)return t.ctx&&t.Component?{pageProps:await m(t.Component,t.ctx)}:{};let a=await e.getInitialProps(t);if(r&&h(r))return a;if(!a)throw Object.defineProperty(Error(`"${u(e)}.getInitialProps()" should resolve to an object. But found "${a}" instead.`),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0});return a}let p="undefined"!=typeof performance,g=p&&["mark","measure","getEntriesByName"].every(e=>"function"==typeof performance[e]);class x extends Error{}class y extends Error{}class v extends Error{constructor(e){super(),this.code="ENOENT",this.name="PageNotFoundError",this.message=`Cannot find module for page: ${e}`}}class b extends Error{constructor(e,t){super(),this.message=`Failed to load static file for page: ${e} ${t}`}}class j extends Error{constructor(){super(),this.code="ENOENT",this.message="Cannot find the middleware module"}}function N(e){return JSON.stringify({message:e.message,stack:e.stack})}},73668,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"isLocalURL",{enumerable:!0,get:function(){return s}});let a=e.r(18967),n=e.r(52817);function s(e){if(!(0,a.isAbsoluteUrl)(e))return!0;try{let t=(0,a.getLocationOrigin)(),r=new URL(e,t);return r.origin===t&&(0,n.hasBasePath)(r.pathname)}catch(e){return!1}}},84508,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"errorOnce",{enumerable:!0,get:function(){return a}});let a=e=>{}},22016,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var a={default:function(){return x},useLinkStatus:function(){return v}};for(var n in a)Object.defineProperty(r,n,{enumerable:!0,get:a[n]});let s=e.r(90809),i=e.r(43476),l=s._(e.r(71645)),o=e.r(95057),d=e.r(8372),c=e.r(18581),u=e.r(18967),h=e.r(5550);e.r(33525);let f=e.r(91949),m=e.r(73668),p=e.r(9396);function g(e){return"string"==typeof e?e:(0,o.formatUrl)(e)}function x(t){var r;let a,n,s,[o,x]=(0,l.useOptimistic)(f.IDLE_LINK_STATUS),v=(0,l.useRef)(null),{href:b,as:j,children:N,prefetch:w=null,passHref:k,replace:S,shallow:C,scroll:_,onClick:E,onMouseEnter:O,onTouchStart:M,legacyBehavior:P=!1,onNavigate:A,ref:L,unstable_dynamicOnHover:T,...R}=t;a=N,P&&("string"==typeof a||"number"==typeof a)&&(a=(0,i.jsx)("a",{children:a}));let I=l.default.useContext(d.AppRouterContext),F=!1!==w,z=!1!==w?null===(r=w)||"auto"===r?p.FetchStrategy.PPR:p.FetchStrategy.Full:p.FetchStrategy.PPR,{href:U,as:B}=l.default.useMemo(()=>{let e=g(b);return{href:e,as:j?g(j):e}},[b,j]);if(P){if(a?.$$typeof===Symbol.for("react.lazy"))throw Object.defineProperty(Error("`<Link legacyBehavior>` received a direct child that is either a Server Component, or JSX that was loaded with React.lazy(). This is not supported. Either remove legacyBehavior, or make the direct child a Client Component that renders the Link's `<a>` tag."),"__NEXT_ERROR_CODE",{value:"E863",enumerable:!1,configurable:!0});n=l.default.Children.only(a)}let $=P?n&&"object"==typeof n&&n.ref:L,D=l.default.useCallback(e=>(null!==I&&(v.current=(0,f.mountLinkInstance)(e,U,I,z,F,x)),()=>{v.current&&((0,f.unmountLinkForCurrentNavigation)(v.current),v.current=null),(0,f.unmountPrefetchableInstance)(e)}),[F,U,I,z,x]),K={ref:(0,c.useMergedRef)(D,$),onClick(t){P||"function"!=typeof E||E(t),P&&n.props&&"function"==typeof n.props.onClick&&n.props.onClick(t),!I||t.defaultPrevented||function(t,r,a,n,s,i,o){if("undefined"!=typeof window){let d,{nodeName:c}=t.currentTarget;if("A"===c.toUpperCase()&&((d=t.currentTarget.getAttribute("target"))&&"_self"!==d||t.metaKey||t.ctrlKey||t.shiftKey||t.altKey||t.nativeEvent&&2===t.nativeEvent.which)||t.currentTarget.hasAttribute("download"))return;if(!(0,m.isLocalURL)(r)){s&&(t.preventDefault(),location.replace(r));return}if(t.preventDefault(),o){let e=!1;if(o({preventDefault:()=>{e=!0}}),e)return}let{dispatchNavigateAction:u}=e.r(99781);l.default.startTransition(()=>{u(a||r,s?"replace":"push",i??!0,n.current)})}}(t,U,B,v,S,_,A)},onMouseEnter(e){P||"function"!=typeof O||O(e),P&&n.props&&"function"==typeof n.props.onMouseEnter&&n.props.onMouseEnter(e),I&&F&&(0,f.onNavigationIntent)(e.currentTarget,!0===T)},onTouchStart:function(e){P||"function"!=typeof M||M(e),P&&n.props&&"function"==typeof n.props.onTouchStart&&n.props.onTouchStart(e),I&&F&&(0,f.onNavigationIntent)(e.currentTarget,!0===T)}};return(0,u.isAbsoluteUrl)(B)?K.href=B:P&&!k&&("a"!==n.type||"href"in n.props)||(K.href=(0,h.addBasePath)(B)),s=P?l.default.cloneElement(n,K):(0,i.jsx)("a",{...R,...K,children:a}),(0,i.jsx)(y.Provider,{value:o,children:s})}e.r(84508);let y=(0,l.createContext)(f.IDLE_LINK_STATUS),v=()=>(0,l.useContext)(y);("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},39126,e=>{"use strict";var t=e.i(43476),r=e.i(71645),a=e.i(22016),n=e.i(18566),s=e.i(64659),i=e.i(63059),l=e.i(75254);let o=(0,l.default)("log-out",[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]]);var d=e.i(84614);let c=(0,l.default)("star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);var u=e.i(3116),h=e.i(55436);let f=(0,l.default)("panel-left-close",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"m16 15-3-3 3-3",key:"14y99z"}]]),m=(0,l.default)("panel-left",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}]]);var p=e.i(7486);let g=(0,l.default)("command",[["path",{d:"M15 6v12a3 3 0 1 0 3-3H6a3 3 0 1 0 3 3V6a3 3 0 1 0-3 3h12a3 3 0 1 0-3-3",key:"11bfej"}]]);var x=e.i(37727),y=e.i(75157),v=e.i(82943);let b=(0,l.default)("layout-dashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]),j=(0,l.default)("bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);var N=e.i(52754),w=e.i(88844),k=e.i(61911),S=e.i(78583),C=e.i(50627),_=e.i(15788),E=e.i(91741);let O=(0,l.default)("message-square",[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]]),M=(0,l.default)("beef",[["path",{d:"M16.4 13.7A6.5 6.5 0 1 0 6.28 6.6c-1.1 3.13-.78 3.9-3.18 6.08A3 3 0 0 0 5 18c4 0 8.4-1.8 11.4-4.3",key:"cisjcv"}],["path",{d:"m18.5 6 2.19 4.5a6.48 6.48 0 0 1-2.29 7.2C15.4 20.2 11 22 7 22a3 3 0 0 1-2.68-1.66L2.4 16.5",key:"5byaag"}],["circle",{cx:"12.5",cy:"8.5",r:"2.5",key:"9738u8"}]]);var P=e.i(17923),A=e.i(94918);(0,l.default)("settings",[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);var L=e.i(5125);let T=(0,l.default)("user-cog",[["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m14.305 16.53.923-.382",key:"1itpsq"}],["path",{d:"m15.228 13.852-.923-.383",key:"eplpkm"}],["path",{d:"m16.852 12.228-.383-.923",key:"13v3q0"}],["path",{d:"m16.852 17.772-.383.924",key:"1i8mnm"}],["path",{d:"m19.148 12.228.383-.923",key:"1q8j1v"}],["path",{d:"m19.53 18.696-.382-.924",key:"vk1qj3"}],["path",{d:"m20.772 13.852.924-.383",key:"n880s0"}],["path",{d:"m20.772 16.148.924.383",key:"1g6xey"}],["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]]);var R=e.i(61659),I=e.i(1928),F=e.i(23945);let z={admin:["dashboard","ai_assistant","finance","products","invoice_management","account_management","warehouse_management","expense_management","logistics","butcher","reports","delivery_notes","whatsapp_orders","vehicles","employees","settings","accountant","customers","suppliers","bank"],depo_muduru:["dashboard","ai_assistant","finance","logistics","products","account_management","warehouse_management","delivery_notes","vehicles"],depo:["dashboard","ai_assistant","finance","logistics","products","account_management","warehouse_management","delivery_notes"],finans:["dashboard","ai_assistant","finance","products","invoice_management","warehouse_management","expense_management","reports","bank","accountant"],sofor:["dashboard","finance","products","invoice_management","warehouse_management","delivery_notes","vehicles"],kasap:["dashboard","butcher","logistics","products","invoice_management","warehouse_management"]};N.Wallet,w.Package,k.Users,k.Users,F.Store,S.FileText,I.ShoppingCart,S.FileText,p.Building2,C.Receipt,_.Truck,E.ClipboardList,L.Car,R.CreditCard,P.BarChart3,A.FileSpreadsheet;let U=[{id:"main",title:"Ana Menü",defaultOpen:!0,items:[{id:"dashboard",title:"Dashboard",icon:b,href:"/dashboard"},{id:"ai_assistant",title:"AI Asistan",icon:j,href:"/dashboard/ai"}]},{id:"sales_finance",title:"Satış & Finans",defaultOpen:!0,items:[{id:"finance",title:"Finans",icon:N.Wallet,href:"/dashboard/finance"},{id:"invoice_management",title:"Faturalar",icon:S.FileText,children:[{id:"purchase_invoices",title:"Alış Faturaları",icon:I.ShoppingCart,href:"/dashboard/purchase-invoices"},{id:"sale_invoices",title:"Satış Faturaları",icon:S.FileText,href:"/dashboard/sale-invoices"}]},{id:"expense_management",title:"Masraflar",icon:C.Receipt,href:"/dashboard/expenses"},{id:"bank",title:"Banka",icon:R.CreditCard,href:"/dashboard/bank"}]},{id:"inventory",title:"Stok & Depo",defaultOpen:!1,items:[{id:"products",title:"Ürünler",icon:w.Package,href:"/dashboard/products"},{id:"warehouse_management",title:"Depo",icon:p.Building2,href:"/dashboard/warehouse"},{id:"logistics",title:"Lojistik",icon:_.Truck,href:"/dashboard/logistics"},{id:"delivery_notes",title:"İrsaliye",icon:E.ClipboardList,href:"/dashboard/delivery-notes"}]},{id:"partners",title:"Cariler",defaultOpen:!1,items:[{id:"customers",title:"Müşteriler",icon:k.Users,href:"/dashboard/customers"},{id:"suppliers",title:"Tedarikçiler",icon:F.Store,href:"/dashboard/suppliers"}]},{id:"hr",title:"İnsan Kaynakları",defaultOpen:!1,items:[{id:"employees",title:"Çalışanlar",icon:T,href:"/dashboard/employees"},{id:"vehicles",title:"Araçlar",icon:L.Car,href:"/dashboard/vehicles"}]},{id:"operations",title:"Operasyonlar",defaultOpen:!1,items:[{id:"butcher",title:"Kasap",icon:M,href:"/dashboard/butcher"},{id:"whatsapp_orders",title:"WhatsApp",icon:O,href:"/dashboard/whatsapp"}]},{id:"reports",title:"Raporlar & Analiz",defaultOpen:!1,items:[{id:"reports",title:"Raporlar",icon:P.BarChart3,href:"/dashboard/reports"},{id:"accountant",title:"Mali Müşavir",icon:A.FileSpreadsheet,href:"/dashboard/accountant"}]}];function B(e,t,r){return"admin"===t||(r&&r.length>0?r.includes(e):(z[t]||["dashboard"]).includes(e))}function $(e,t,r){return e.children?e.children.some(e=>B(e.id,t,r)):B(e.id,t,r)}let D="sidebar-collapsed-groups",K="sidebar-favorites",q="sidebar-recent",J="sidebar-collapsed";function W({mobileOpen:e=!1,onMobileClose:l}){let b=(0,n.usePathname)(),j=(0,n.useRouter)(),{user:N,logout:w}=(0,v.useAuthStore)(),[k,S]=(0,r.useState)({}),[C,_]=(0,r.useState)({}),[E,O]=(0,r.useState)([]),[M,P]=(0,r.useState)([]),[A,L]=(0,r.useState)(!1),[T,R]=(0,r.useState)(""),[I,F]=(0,r.useState)(!1),z=N?.role||"admin",B=N?.allowedScreens;(0,r.useEffect)(()=>{try{let e=localStorage.getItem(D),t=localStorage.getItem(K),r=localStorage.getItem(q),a=localStorage.getItem(J);if(e)S(JSON.parse(e));else{let e={};U.forEach(t=>{e[t.id]=!t.defaultOpen}),S(e)}t&&O(JSON.parse(t)),r&&P(JSON.parse(r)),a&&L(JSON.parse(a))}catch(e){console.error("LocalStorage load error:",e)}},[]),(0,r.useEffect)(()=>{if(b&&"/dashboard"!==b){let e=null;U.forEach(t=>{t.items.forEach(t=>{t.href===b&&(e={id:t.id,title:t.title,href:t.href}),t.children&&t.children.forEach(t=>{t.href===b&&(e={id:t.id,title:t.title,href:t.href})})})}),e&&P(t=>{let r=t.filter(t=>t.id!==e.id),a=[e,...r].slice(0,5);return localStorage.setItem(q,JSON.stringify(a)),a})}},[b]);let W=e=>{_(t=>({...t,[e]:!t[e]}))},H=()=>{w(),j.push("/")},V=e=>!!e&&("/dashboard"===e?b===e:b===e||b.startsWith(e+"/")),X=()=>{l&&l()},Q=(r,n=0)=>{if(!$(r,z,B))return null;let l=r.children&&r.children.length>0,o=C[r.id],d=V(r.href),u=E.includes(r.id),h=r.icon;return A&&0===n&&!e?(0,t.jsxs)("div",{className:"relative group",children:[r.href?(0,t.jsx)(a.default,{href:r.href,className:(0,y.cn)("flex items-center justify-center w-10 h-10 rounded-lg transition-colors mx-auto",d?"bg-primary text-primary-foreground":"text-muted-foreground hover:bg-muted hover:text-foreground"),title:r.title,onClick:X,children:(0,t.jsx)(h,{className:"h-5 w-5"})}):(0,t.jsx)("button",{onClick:()=>W(r.id),className:(0,y.cn)("flex items-center justify-center w-10 h-10 rounded-lg transition-colors mx-auto","text-muted-foreground hover:bg-muted hover:text-foreground"),title:r.title,children:(0,t.jsx)(h,{className:"h-5 w-5"})}),(0,t.jsx)("div",{className:"absolute left-full ml-2 top-0 hidden group-hover:block z-50",children:(0,t.jsxs)("div",{className:"bg-popover text-popover-foreground border rounded-lg shadow-lg py-2 px-3 whitespace-nowrap",children:[(0,t.jsx)("span",{className:"font-medium",children:r.title}),l&&(0,t.jsx)("div",{className:"mt-2 space-y-1",children:r.children.map(e=>(0,t.jsx)(a.default,{href:e.href,className:"block text-sm text-muted-foreground hover:text-foreground py-1",onClick:X,children:e.title},e.id))})]})})]},r.id):(0,t.jsx)("div",{children:r.href&&!l?(0,t.jsxs)(a.default,{href:r.href,onClick:X,className:(0,y.cn)("flex items-center gap-3 rounded-lg px-3 py-2 text-sm font-medium transition-all group",d?"bg-primary text-primary-foreground":"text-muted-foreground hover:bg-muted hover:text-foreground",n>0&&"ml-6 text-[13px]"),children:[(0,t.jsx)(h,{className:"h-4 w-4 shrink-0"}),(0,t.jsx)("span",{className:"flex-1 truncate",children:r.title}),r.badge&&(0,t.jsx)("span",{className:"bg-destructive text-destructive-foreground text-xs px-1.5 py-0.5 rounded-full",children:r.badge}),(0,t.jsx)("button",{onClick:e=>{var t;return t=r.id,void(e.preventDefault(),e.stopPropagation(),O(e=>{let r=e.includes(t)?e.filter(e=>e!==t):[...e,t];return localStorage.setItem(K,JSON.stringify(r)),r}))},className:(0,y.cn)("opacity-0 group-hover:opacity-100 transition-opacity",u&&"opacity-100"),children:(0,t.jsx)(c,{className:(0,y.cn)("h-3.5 w-3.5",u?"fill-yellow-400 text-yellow-400":"text-muted-foreground")})})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("button",{onClick:()=>W(r.id),className:(0,y.cn)("flex items-center gap-3 rounded-lg px-3 py-2 text-sm font-medium transition-all w-full","text-muted-foreground hover:bg-muted hover:text-foreground",n>0&&"ml-6"),children:[(0,t.jsx)(h,{className:"h-4 w-4 shrink-0"}),(0,t.jsx)("span",{className:"flex-1 text-left truncate",children:r.title}),l&&(o?(0,t.jsx)(s.ChevronDown,{className:"h-4 w-4"}):(0,t.jsx)(i.ChevronRight,{className:"h-4 w-4"}))]}),l&&o&&(0,t.jsx)("div",{className:"mt-1 space-y-1",children:r.children.map(e=>Q(e,n+1))})]})},r.id)},Y=E.map(e=>{for(let t of U)for(let r of t.items){if(r.id===e)return r;if(r.children){let t=r.children.find(t=>t.id===e);if(t)return t}}return null}).filter(Boolean),Z=A&&!e;return(0,t.jsx)("aside",{className:(0,y.cn)("fixed left-0 top-0 z-40 h-screen border-r bg-background transition-all duration-300","hidden lg:block",Z?"lg:w-16":"lg:w-64",e&&"block w-72 lg:hidden shadow-xl"),children:(0,t.jsxs)("div",{className:"flex h-full flex-col",children:[(0,t.jsxs)("div",{className:(0,y.cn)("flex h-16 items-center border-b",Z?"justify-center px-2":"justify-between px-4"),children:[(!Z||e)&&(0,t.jsxs)(a.default,{href:"/dashboard",className:"flex items-center gap-2",onClick:X,children:[(0,t.jsx)("div",{className:"w-8 h-8 bg-primary rounded-lg flex items-center justify-center",children:(0,t.jsx)(p.Building2,{className:"w-5 h-5 text-primary-foreground"})}),(0,t.jsx)("span",{className:"text-lg font-bold",children:"Atlas ERP"})]}),(0,t.jsx)("button",{onClick:()=>{L(e=>(localStorage.setItem(J,JSON.stringify(!e)),!e))},className:"hidden lg:block p-2 rounded-lg hover:bg-muted text-muted-foreground hover:text-foreground transition-colors",children:A?(0,t.jsx)(m,{className:"h-5 w-5"}):(0,t.jsx)(f,{className:"h-5 w-5"})}),e&&(0,t.jsx)("button",{onClick:l,className:"lg:hidden p-2 rounded-lg hover:bg-muted text-muted-foreground hover:text-foreground transition-colors",children:(0,t.jsx)(x.X,{className:"h-5 w-5"})})]}),(!Z||e)&&(0,t.jsx)("div",{className:"px-3 py-2",children:(0,t.jsxs)("button",{onClick:()=>F(!0),className:"flex items-center gap-2 w-full px-3 py-2 text-sm text-muted-foreground bg-muted/50 hover:bg-muted rounded-lg transition-colors",children:[(0,t.jsx)(h.Search,{className:"h-4 w-4"}),(0,t.jsx)("span",{className:"flex-1 text-left",children:"Ara..."}),(0,t.jsxs)("kbd",{className:"hidden sm:inline-flex items-center gap-1 px-1.5 py-0.5 text-[10px] font-medium bg-background border rounded",children:[(0,t.jsx)(g,{className:"h-3 w-3"}),"K"]})]})}),(0,t.jsxs)("nav",{className:"flex-1 overflow-y-auto px-3 py-2",children:[(!Z||e)&&Y.length>0&&(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsxs)("p",{className:"px-3 text-xs font-semibold text-muted-foreground uppercase tracking-wider mb-2 flex items-center gap-1",children:[(0,t.jsx)(c,{className:"h-3 w-3 fill-yellow-400 text-yellow-400"}),"Favoriler"]}),(0,t.jsx)("div",{className:"space-y-1",children:Y.map(e=>(0,t.jsxs)(a.default,{href:e.href,onClick:X,className:(0,y.cn)("flex items-center gap-3 rounded-lg px-3 py-2 text-sm font-medium transition-colors",V(e.href)?"bg-primary text-primary-foreground":"text-muted-foreground hover:bg-muted hover:text-foreground"),children:[(0,t.jsx)(e.icon,{className:"h-4 w-4"}),e.title]},e.id))}),(0,t.jsx)("div",{className:"my-3 border-t"})]}),U.map(r=>{let a=r.items.filter(e=>$(e,z,B));if(0===a.length)return null;let n=k[r.id];return Z&&!e?(0,t.jsx)("div",{className:"mb-4 space-y-2",children:a.map(e=>Q(e))},r.id):(0,t.jsxs)("div",{className:"mb-2",children:[(0,t.jsxs)("button",{onClick:()=>{var e;return e=r.id,void S(t=>{let r={...t,[e]:!t[e]};return localStorage.setItem(D,JSON.stringify(r)),r})},className:"flex items-center gap-2 w-full px-3 py-1.5 text-xs font-semibold text-muted-foreground uppercase tracking-wider hover:text-foreground transition-colors",children:[n?(0,t.jsx)(i.ChevronRight,{className:"h-3 w-3"}):(0,t.jsx)(s.ChevronDown,{className:"h-3 w-3"}),r.title]}),!n&&(0,t.jsx)("div",{className:"mt-1 space-y-1",children:a.map(e=>Q(e))})]},r.id)}),(!Z||e)&&M.length>0&&(0,t.jsxs)("div",{className:"mt-4 pt-4 border-t",children:[(0,t.jsxs)("p",{className:"px-3 text-xs font-semibold text-muted-foreground uppercase tracking-wider mb-2 flex items-center gap-1",children:[(0,t.jsx)(u.Clock,{className:"h-3 w-3"}),"Son Ziyaretler"]}),(0,t.jsx)("div",{className:"space-y-1",children:M.slice(0,3).map(e=>(0,t.jsx)(a.default,{href:e.href,onClick:X,className:"flex items-center gap-2 rounded-lg px-3 py-1.5 text-xs text-muted-foreground hover:bg-muted hover:text-foreground transition-colors",children:(0,t.jsx)("span",{className:"truncate",children:e.title})},e.id))})]})]}),(0,t.jsx)("div",{className:"border-t p-3",children:Z&&!e?(0,t.jsxs)("div",{className:"flex flex-col items-center gap-2",children:[(0,t.jsx)("div",{className:"w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center",children:(0,t.jsx)(d.User,{className:"w-5 h-5 text-primary"})}),(0,t.jsx)("button",{onClick:H,className:"p-2 rounded-lg hover:bg-destructive/10 text-muted-foreground hover:text-destructive transition-colors",title:"Çıkış Yap",children:(0,t.jsx)(o,{className:"w-4 h-4"})})]}):(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center",children:(0,t.jsx)(d.User,{className:"w-5 h-5 text-primary"})}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsx)("p",{className:"text-sm font-medium truncate",children:N?.fullName||"Kullanıcı"}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground truncate",children:N?.branchName||"Şube"})]}),(0,t.jsx)("button",{onClick:H,className:"p-2 rounded-lg hover:bg-destructive/10 text-muted-foreground hover:text-destructive transition-colors",title:"Çıkış Yap",children:(0,t.jsx)(o,{className:"w-4 h-4"})})]})})]})})}let H=(0,l.default)("bell",[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]]),V=(0,l.default)("moon",[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]]),X=(0,l.default)("sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]),Q=(0,l.default)("menu",[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]]);var Y=e.i(19455),Z=e.i(93479);function G({onMobileMenuToggle:e}){let{user:r}=(0,v.useAuthStore)();return(0,t.jsxs)("header",{className:"sticky top-0 z-30 flex h-16 items-center gap-4 border-b bg-background px-4 lg:px-6",children:[(0,t.jsx)(Y.Button,{variant:"ghost",size:"icon",className:"lg:hidden",onClick:e,children:(0,t.jsx)(Q,{className:"h-5 w-5"})}),(0,t.jsxs)(a.default,{href:"/dashboard",className:"lg:hidden flex items-center gap-2",children:[(0,t.jsx)("div",{className:"w-8 h-8 bg-primary rounded-lg flex items-center justify-center",children:(0,t.jsx)(p.Building2,{className:"w-5 h-5 text-primary-foreground"})}),(0,t.jsx)("span",{className:"text-lg font-bold hidden sm:inline",children:"Atlas ERP"})]}),(0,t.jsx)("div",{className:"flex-1 max-w-md hidden sm:block",children:(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(h.Search,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),(0,t.jsx)(Z.Input,{type:"search",placeholder:"Ara...",className:"pl-9 bg-muted/50"})]})}),(0,t.jsx)("div",{className:"flex-1 sm:hidden"}),(0,t.jsxs)("div",{className:"flex items-center gap-1 sm:gap-2",children:[(0,t.jsx)(Y.Button,{variant:"ghost",size:"icon",className:"sm:hidden",children:(0,t.jsx)(h.Search,{className:"h-5 w-5"})}),(0,t.jsxs)(Y.Button,{variant:"ghost",size:"icon",className:"relative",children:[(0,t.jsx)(H,{className:"h-5 w-5"}),(0,t.jsx)("span",{className:"absolute -top-1 -right-1 h-4 w-4 rounded-full bg-destructive text-[10px] font-medium text-white flex items-center justify-center",children:"3"})]}),(0,t.jsxs)(Y.Button,{variant:"ghost",size:"icon",children:[(0,t.jsx)(X,{className:"h-5 w-5 rotate-0 scale-100 transition-all dark:-rotate-90 dark:scale-0"}),(0,t.jsx)(V,{className:"absolute h-5 w-5 rotate-90 scale-0 transition-all dark:rotate-0 dark:scale-100"})]}),(0,t.jsx)("div",{className:"hidden md:flex items-center gap-2 px-3 py-1.5 rounded-lg bg-muted",children:(0,t.jsx)("span",{className:"text-sm font-medium",children:r?.branchName||"Ana Sube"})})]})]})}var ee=e.i(31278);function et({children:e}){let a=(0,n.useRouter)(),s=(0,n.usePathname)(),{user:i,isAuthenticated:l,isLoading:o}=(0,v.useAuthStore)(),[d,c]=(0,r.useState)(!0);return((0,r.useEffect)(()=>{o||(l&&i?c(!1):(console.log("Auth Guard: Not authenticated, redirecting to login"),a.replace("/")))},[l,i,o,a,s]),o||d)?(0,t.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)(ee.Loader2,{className:"h-8 w-8 animate-spin text-primary mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-gray-600",children:"Oturum kontrol ediliyor..."})]})}):l&&i?(0,t.jsx)(t.Fragment,{children:e}):(0,t.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)(ee.Loader2,{className:"h-8 w-8 animate-spin text-primary mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-gray-600",children:"Yonlendiriliyor..."})]})})}function er({children:e}){let[a,n]=(0,r.useState)(!1),[s,i]=(0,r.useState)(!1);return(0,r.useEffect)(()=>{let e=()=>{try{let e=localStorage.getItem("sidebar-collapsed");n(!!e&&JSON.parse(e))}catch{n(!1)}};e();let t=t=>{"sidebar-collapsed"===t.key&&e()},r=()=>e(),a=e=>{i(e.detail.open)};window.addEventListener("storage",t),window.addEventListener("sidebar-toggle",r),window.addEventListener("mobile-menu-toggle",a);let s=setInterval(e,100);return()=>{window.removeEventListener("storage",t),window.removeEventListener("sidebar-toggle",r),window.removeEventListener("mobile-menu-toggle",a),clearInterval(s)}},[]),(0,r.useEffect)(()=>{let e=()=>{window.innerWidth>=1024&&i(!1)};return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),(0,r.useEffect)(()=>{i(!1)},[e]),(0,t.jsx)(et,{children:(0,t.jsxs)("div",{className:"min-h-screen bg-muted/30",children:[s&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black/50 z-30 lg:hidden",onClick:()=>{i(!1),window.dispatchEvent(new CustomEvent("mobile-menu-toggle",{detail:{open:!1}}))}}),(0,t.jsx)(W,{mobileOpen:s,onMobileClose:()=>{i(!1),window.dispatchEvent(new CustomEvent("mobile-menu-toggle",{detail:{open:!1}}))}}),(0,t.jsxs)("div",{className:(0,y.cn)("transition-all duration-300","lg:pl-64",a&&"lg:pl-16","pl-0"),children:[(0,t.jsx)(G,{onMobileMenuToggle:()=>{let e=!s;i(e),window.dispatchEvent(new CustomEvent("mobile-menu-toggle",{detail:{open:e}}))}}),(0,t.jsx)("main",{className:"p-4 lg:p-6",children:e})]})]})})}e.s(["default",()=>er],39126)}]);