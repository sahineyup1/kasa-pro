(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,63875,e=>{"use strict";var a=e.i(43476),l=e.i(71645),s=e.i(19455),t=e.i(93479),i=e.i(67489),r=e.i(84774),n=e.i(55146),c=e.i(69457),d=e.i(10204),o=e.i(24687),m=e.i(57428),x=e.i(76639),h=e.i(77572),u=e.i(31278),p=e.i(95468),g=e.i(73884),j=e.i(48256);let b=[{code:"SI",label:"Slovenya (SI)"},{code:"AT",label:"Avusturya (AT)"},{code:"DE",label:"Almanya (DE)"},{code:"IT",label:"Italya (IT)"},{code:"HR",label:"Hirvatistan (HR)"},{code:"HU",label:"Macaristan (HU)"},{code:"CZ",label:"Cek Cumhuriyeti (CZ)"},{code:"PL",label:"Polonya (PL)"},{code:"FR",label:"Fransa (FR)"},{code:"NL",label:"Hollanda (NL)"},{code:"BE",label:"Belcika (BE)"}],v=[{value:"wholesaler",label:"Toptanci"},{value:"manufacturer",label:"Uretici"},{value:"distributor",label:"Distributor"}],y=["EUR","USD","GBP","TRY"],N=["0","5","9.5","22"];function f(e,a,l,s){if(!e)return s;let t=e;for(let e of a)if(t&&"object"==typeof t&&e in t)t=t[e];else{t=void 0;break}if(null!=t)return t;let i=e[l];return null!=i?i:s}function S({open:r,onOpenChange:n,supplier:S,onSave:C}){let T=!!S,[k,w]=(0,l.useState)("SI"),[I,D]=(0,l.useState)(""),[A,B]=(0,l.useState)(!1),[L,F]=(0,l.useState)(null),[V,O]=(0,l.useState)(""),[R,H]=(0,l.useState)(""),[U,E]=(0,l.useState)("SI"),[P,M]=(0,l.useState)("wholesaler"),[$,_]=(0,l.useState)(!0),[z,K]=(0,l.useState)(""),[G,Y]=(0,l.useState)(""),[Z,X]=(0,l.useState)(!1),[q,J]=(0,l.useState)(""),[Q,W]=(0,l.useState)(""),[ee,ea]=(0,l.useState)(""),[el,es]=(0,l.useState)(""),[et,ei]=(0,l.useState)(""),[er,en]=(0,l.useState)(""),[ec,ed]=(0,l.useState)(""),[eo,em]=(0,l.useState)("30"),[ex,eh]=(0,l.useState)("EUR"),[eu,ep]=(0,l.useState)(""),[eg,ej]=(0,l.useState)(""),[eb,ev]=(0,l.useState)("9.5"),[ey,eN]=(0,l.useState)(!1),[ef,eS]=(0,l.useState)(""),[eC,eT]=(0,l.useState)(""),[ek,ew]=(0,l.useState)(""),[eI,eD]=(0,l.useState)(!1);(0,l.useEffect)(()=>{if(r)if(S){O(f(S,["basic","name"],"name","")),H(f(S,["basic","shortName"],"shortName","")),E(f(S,["basic","country"],"country","SI")),M(f(S,["basic","type"],"type","wholesaler")),_(f(S,["basic","isActive"],"isActive",!0)),K(f(S,["basic","categories"],"categories",[]).join(", ")),Y(f(S,["tax","taxId"],"taxId","")),X(f(S,["tax","reverseCharge"],"reverseCharge",!1)),J(f(S,["contact","address","street"],"street","")),W(f(S,["contact","address","city"],"city","")),ea(f(S,["contact","address","postalCode"],"postalCode","")),es(f(S,["contact","phone"],"phone","")),ei(f(S,["contact","email"],"email","")),en(f(S,["contact","contactPerson","name"],"contactPersonName","")),ed(f(S,["contact","contactPerson","phone"],"contactPersonPhone","")),em(String(f(S,["payment","paymentTermDays"],"paymentTermDays",30))),eh(f(S,["payment","currency"],"currency","EUR")),ep(f(S,["payment","bankDetails","bankName"],"bankName","")),ej(f(S,["payment","bankDetails","iban"],"iban","")),ev(String(f(S,["tax","defaultVatRate"],"defaultVatRate",9.5))),eN(f(S,["shipping","transportIncluded"],"transportIncluded",!1)),eS(String(f(S,["shipping","transportFee"],"transportFee",0)||"")),eT(String(f(S,["shipping","minOrderAmount"],"minOrderAmount",0)||"")),ew(f(S,["settings","notes"],"notes",""));let e=f(S,["tax","taxId"],"taxId","");if(e&&"string"==typeof e&&e.length>=2){let a=e.substring(0,2).toUpperCase(),l=e.substring(2);/^[A-Z]{2}$/.test(a)?(w(a),D(l)):D(e)}else e&&D(String(e));f(S,["tax","vies_validated"],"vies_validated",!1)&&F({valid:!0,message:"Onceden dogrulanmis",companyName:f(S,["tax","vies_company_name"],"vies_company_name",void 0)})}else O(""),H(""),E("SI"),M("wholesaler"),_(!0),K(""),Y(""),X(!1),J(""),W(""),ea(""),es(""),ei(""),en(""),ed(""),em("30"),eh("EUR"),ep(""),ej(""),ev("9.5"),eN(!1),eS(""),eT(""),ew(""),w("SI"),D(""),F(null)},[r,S]);let eA=async()=>{if(I.trim()&&!(I.length<6)){B(!0),F(null);try{let a=k+I.replace(/\s/g,"").toUpperCase(),{validateVATNumber:l}=await e.A(73272),s=await l(a);if(s.valid){let e=s.companyName||"",l=s.companyAddress||"";if(F({valid:!0,message:"VAT numarasi dogrulandi",companyName:e,companyAddress:l}),e&&(O(e),H(e.substring(0,30))),b.find(e=>e.code===k)&&E(k),l){let e=l.split(", ");if(e.length>=1&&J(e[0]),e.length>=2){let a=e[e.length-1],l=a.match(/^(\d+)\s+(.+)$/);l?(ea(l[1]),W(l[2])):W(a)}}Y(a),"SI"!==k&&X(!0)}else F({valid:!1,message:s.error||"Gecersiz VAT numarasi - VIES sisteminde bulunamadi"})}catch(e){F({valid:!1,message:"VIES servisi hata verdi: "+e.message})}finally{B(!1)}}},eB=async()=>{if(!V.trim())return void alert("Lutfen tedarikci adi girin!");if(et&&!et.includes("@"))return void alert("Gecersiz email adresi!");eD(!0);try{let e={type:{isCustomer:!1,isSupplier:!0,isBoth:!1},basic:{name:V.trim(),shortName:R.trim()||V.trim().substring(0,30),country:U,type:P,isActive:$,categories:z.split(",").map(e=>e.trim()).filter(Boolean),partnerTypes:{isCustomer:!1,isSupplier:!0}},contact:{address:{street:q.trim(),city:Q.trim(),postalCode:ee.trim()},phone:el.trim(),email:et.trim(),contactPerson:{name:er.trim(),phone:ec.trim()}},payment:{paymentTermDays:parseInt(eo)||30,currency:ex,bankDetails:{bankName:eu.trim(),iban:eg.trim()}},tax:{taxId:G.trim(),reverseCharge:Z,defaultVatRate:parseFloat(eb)||9.5,...L?.valid&&{vies_validated:!0,vies_validation_date:new Date().toISOString(),vies_company_name:L.companyName}},shipping:{transportIncluded:ey,transportFee:parseFloat(ef)||0,minOrderAmount:parseFloat(eC)||0},settings:{notes:ek.trim()},updatedAt:new Date().toISOString()};T&&S?.id?await (0,c.updateData)(`partners/${S.id}`,e):await (0,c.pushData)("partners",{...e,createdAt:new Date().toISOString()}),n(!1),C?.()}catch(e){console.error("Save error:",e),alert("Kaydetme hatasi: "+e.message)}finally{eD(!1)}};return(0,a.jsx)(x.Dialog,{open:r,onOpenChange:n,children:(0,a.jsxs)(x.DialogContent,{className:"max-w-4xl max-h-[90vh] overflow-hidden flex flex-col",children:[(0,a.jsxs)(x.DialogHeader,{className:"border-b pb-4",children:[(0,a.jsx)(x.DialogTitle,{className:"text-xl font-semibold",children:T?"Tedarikci Duzenle":"Yeni Tedarikci"}),(0,a.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:T?"Tedarikci bilgilerini guncelleyin":"Yeni tedarikci eklemek icin formu doldurun"})]}),(0,a.jsxs)("div",{className:"flex-1 overflow-y-auto py-4",children:[(0,a.jsxs)("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-4 mb-6",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(0,a.jsx)(j.Globe,{className:"h-5 w-5 text-amber-600"}),(0,a.jsx)("h3",{className:"font-semibold text-amber-900",children:"AB VAT Numarasi Dogrulama"})]}),(0,a.jsx)("p",{className:"text-sm text-amber-700 mb-4",children:"Sirket bilgilerini otomatik doldurmak icin AB VAT numarasi ile baslayin"}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsxs)(i.Select,{value:k,onValueChange:e=>{w(e),F(null)},children:[(0,a.jsx)(i.SelectTrigger,{className:"w-[130px]",children:(0,a.jsx)(i.SelectValue,{})}),(0,a.jsx)(i.SelectContent,{children:b.map(e=>(0,a.jsx)(i.SelectItem,{value:e.code,children:e.code},e.code))})]}),(0,a.jsx)("div",{className:"flex-1",children:(0,a.jsx)(t.Input,{placeholder:"12345678",value:I,onChange:e=>{D(e.target.value.replace(/\s/g,"").toUpperCase()),F(null)},onKeyDown:e=>{"Enter"===e.key&&(e.preventDefault(),I.trim()&&!A&&eA())}})}),(0,a.jsx)(s.Button,{onClick:eA,disabled:A||!I.trim(),className:"min-w-[130px]",children:A?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(u.Loader2,{className:"h-4 w-4 mr-2 animate-spin"}),"Dogrulaniyor..."]}):"Dogrula"})]}),L&&(0,a.jsxs)("div",{className:`mt-3 p-3 rounded-lg flex items-start gap-2 ${L.valid?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:[L.valid?(0,a.jsx)(p.CheckCircle2,{className:"h-5 w-5 mt-0.5 flex-shrink-0"}):(0,a.jsx)(g.XCircle,{className:"h-5 w-5 mt-0.5 flex-shrink-0"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium",children:L.message}),L.companyName&&(0,a.jsxs)("p",{className:"text-sm mt-1",children:["Sirket: ",L.companyName]}),L.companyAddress&&(0,a.jsxs)("p",{className:"text-sm",children:["Adres: ",L.companyAddress]})]})]})]}),(0,a.jsxs)(h.Tabs,{defaultValue:"basic",className:"w-full",children:[(0,a.jsxs)(h.TabsList,{className:"grid w-full grid-cols-5 mb-4",children:[(0,a.jsx)(h.TabsTrigger,{value:"basic",children:"Temel Bilgiler"}),(0,a.jsx)(h.TabsTrigger,{value:"contact",children:"Iletisim"}),(0,a.jsx)(h.TabsTrigger,{value:"payment",children:"Odeme & Finans"}),(0,a.jsx)(h.TabsTrigger,{value:"shipping",children:"Nakliye"}),(0,a.jsx)(h.TabsTrigger,{value:"settings",children:"Ayarlar"})]}),(0,a.jsxs)(h.TabsContent,{value:"basic",className:"space-y-4",children:[(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(d.Label,{htmlFor:"name",children:"Tedarikci Adi *"}),(0,a.jsx)(t.Input,{id:"name",value:V,onChange:e=>O(e.target.value),placeholder:"Orn: ABC Trading GmbH"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(d.Label,{htmlFor:"shortName",children:"Kisa Isim"}),(0,a.jsx)(t.Input,{id:"shortName",value:R,onChange:e=>H(e.target.value),placeholder:"Orn: ABC"})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(d.Label,{htmlFor:"country",children:"Ulke *"}),(0,a.jsxs)(i.Select,{value:U,onValueChange:E,children:[(0,a.jsx)(i.SelectTrigger,{children:(0,a.jsx)(i.SelectValue,{placeholder:"Ulke secin"})}),(0,a.jsx)(i.SelectContent,{children:b.map(e=>(0,a.jsx)(i.SelectItem,{value:e.code,children:e.label},e.code))})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(d.Label,{htmlFor:"type",children:"Tip"}),(0,a.jsxs)(i.Select,{value:P,onValueChange:M,children:[(0,a.jsx)(i.SelectTrigger,{children:(0,a.jsx)(i.SelectValue,{placeholder:"Tip secin"})}),(0,a.jsx)(i.SelectContent,{children:v.map(e=>(0,a.jsx)(i.SelectItem,{value:e.value,children:e.label},e.value))})]})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(d.Label,{htmlFor:"taxId",children:"VAT/Vergi Numarasi"}),(0,a.jsx)(t.Input,{id:"taxId",value:G,onChange:e=>Y(e.target.value.toUpperCase()),placeholder:"Orn: SI12345678"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(d.Label,{htmlFor:"categories",children:"Kategoriler"}),(0,a.jsx)(t.Input,{id:"categories",value:z,onChange:e=>K(e.target.value),placeholder:"Orn: Et, Tavuk, Sakatatlar (virgul ile)"})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-6 pt-2",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(m.Checkbox,{id:"isActive",checked:$,onCheckedChange:e=>_(e)}),(0,a.jsx)(d.Label,{htmlFor:"isActive",className:"font-normal",children:"Aktif Tedarikci"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(m.Checkbox,{id:"reverseCharge",checked:Z,onCheckedChange:e=>X(e)}),(0,a.jsx)(d.Label,{htmlFor:"reverseCharge",className:"font-normal",children:"Reverse Charge (AB Tedarikcisi)"})]})]})]}),(0,a.jsxs)(h.TabsContent,{value:"contact",className:"space-y-4",children:[(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("h4",{className:"font-medium text-gray-700 border-b pb-2",children:"Adres Bilgileri"}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(d.Label,{htmlFor:"street",children:"Cadde/Sokak"}),(0,a.jsx)(t.Input,{id:"street",value:q,onChange:e=>J(e.target.value),placeholder:"Orn: Hauptstrasse 123"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(d.Label,{htmlFor:"city",children:"Sehir"}),(0,a.jsx)(t.Input,{id:"city",value:Q,onChange:e=>W(e.target.value),placeholder:"Orn: Ljubljana"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(d.Label,{htmlFor:"postalCode",children:"Posta Kodu"}),(0,a.jsx)(t.Input,{id:"postalCode",value:ee,onChange:e=>ea(e.target.value),placeholder:"Orn: 1000"})]})]})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("h4",{className:"font-medium text-gray-700 border-b pb-2",children:"Iletisim Bilgileri"}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(d.Label,{htmlFor:"phone",children:"Telefon"}),(0,a.jsx)(t.Input,{id:"phone",value:el,onChange:e=>es(e.target.value),placeholder:"Orn: +386 1 234 5678"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(d.Label,{htmlFor:"email",children:"Email"}),(0,a.jsx)(t.Input,{id:"email",type:"email",value:et,onChange:e=>ei(e.target.value),placeholder:"Orn: info@tedarikci.com"})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(d.Label,{htmlFor:"contactPerson",children:"Irtibat Kisisi"}),(0,a.jsx)(t.Input,{id:"contactPerson",value:er,onChange:e=>en(e.target.value),placeholder:"Orn: Ahmet Yilmaz"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(d.Label,{htmlFor:"contactPhone",children:"Irtibat Telefonu"}),(0,a.jsx)(t.Input,{id:"contactPhone",value:ec,onChange:e=>ed(e.target.value),placeholder:"Orn: +386 40 123 456"})]})]})]})]}),(0,a.jsxs)(h.TabsContent,{value:"payment",className:"space-y-4",children:[(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("h4",{className:"font-medium text-gray-700 border-b pb-2",children:"Odeme Bilgileri"}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(d.Label,{htmlFor:"paymentTermDays",children:"Odeme Vadesi (gun)"}),(0,a.jsx)(t.Input,{id:"paymentTermDays",type:"number",value:eo,onChange:e=>em(e.target.value),min:"0",max:"365"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(d.Label,{htmlFor:"currency",children:"Para Birimi"}),(0,a.jsxs)(i.Select,{value:ex,onValueChange:eh,children:[(0,a.jsx)(i.SelectTrigger,{children:(0,a.jsx)(i.SelectValue,{placeholder:"Para birimi secin"})}),(0,a.jsx)(i.SelectContent,{children:y.map(e=>(0,a.jsx)(i.SelectItem,{value:e,children:e},e))})]})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(d.Label,{htmlFor:"bankName",children:"Banka Adi"}),(0,a.jsx)(t.Input,{id:"bankName",value:eu,onChange:e=>ep(e.target.value),placeholder:"Orn: Nova KBM"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(d.Label,{htmlFor:"iban",children:"IBAN"}),(0,a.jsx)(t.Input,{id:"iban",value:eg,onChange:e=>ej(e.target.value),placeholder:"Orn: SI56 0110 0100 0123 456"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(d.Label,{htmlFor:"vatRate",children:"Varsayilan KDV Orani (%)"}),(0,a.jsxs)(i.Select,{value:eb,onValueChange:ev,children:[(0,a.jsx)(i.SelectTrigger,{className:"w-[200px]",children:(0,a.jsx)(i.SelectValue,{placeholder:"KDV orani secin"})}),(0,a.jsx)(i.SelectContent,{children:N.map(e=>(0,a.jsxs)(i.SelectItem,{value:e,children:["%",e]},e))})]})]})]}),T&&S?.payment?.currentBalance!==void 0&&(0,a.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4 mt-4",children:[(0,a.jsx)("h4",{className:"font-medium text-gray-700 mb-2",children:"Bakiye Durumu"}),(0,a.jsx)("p",{className:`text-2xl font-bold ${(S.payment.currentBalance||0)>0?"text-red-600":0>(S.payment.currentBalance||0)?"text-green-600":""}`,children:(S.payment.currentBalance||0).toLocaleString("tr-TR",{style:"currency",currency:ex})})]})]}),(0,a.jsx)(h.TabsContent,{value:"shipping",className:"space-y-4",children:(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("h4",{className:"font-medium text-gray-700 border-b pb-2",children:"Nakliye Bilgileri"}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(m.Checkbox,{id:"transportIncluded",checked:ey,onCheckedChange:e=>eN(e)}),(0,a.jsx)(d.Label,{htmlFor:"transportIncluded",className:"font-normal",children:"Nakliye Ucreti Dahil"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(d.Label,{htmlFor:"transportFee",children:"Nakliye Ucreti (EUR)"}),(0,a.jsx)(t.Input,{id:"transportFee",type:"number",step:"0.01",value:ef,onChange:e=>eS(e.target.value),disabled:ey,placeholder:"0.00"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(d.Label,{htmlFor:"minOrderAmount",children:"Minimum Siparis (EUR)"}),(0,a.jsx)(t.Input,{id:"minOrderAmount",type:"number",step:"0.01",value:eC,onChange:e=>eT(e.target.value),placeholder:"0.00"})]})]})]})}),(0,a.jsx)(h.TabsContent,{value:"settings",className:"space-y-4",children:(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("h4",{className:"font-medium text-gray-700 border-b pb-2",children:"Diger Ayarlar"}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(d.Label,{htmlFor:"notes",children:"Notlar"}),(0,a.jsx)(o.Textarea,{id:"notes",value:ek,onChange:e=>ew(e.target.value),placeholder:"Tedarikci hakkinda notlar...",rows:5})]})]})})]})]}),(0,a.jsxs)("div",{className:"border-t pt-4 flex justify-end gap-3",children:[(0,a.jsx)(s.Button,{variant:"outline",onClick:()=>n(!1),disabled:eI,children:"Iptal"}),(0,a.jsx)(s.Button,{onClick:eB,disabled:eI,children:eI?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(u.Loader2,{className:"h-4 w-4 mr-2 animate-spin"}),"Kaydediliyor..."]}):"Tedarikciyi Kaydet"})]})]})})}var C=e.i(68148),T=e.i(74612),k=e.i(98919),w=e.i(69638),I=e.i(3116),D=e.i(75254);let A=(0,D.default)("skip-forward",[["path",{d:"M21 4v16",key:"7j8fe9"}],["path",{d:"M6.029 4.285A2 2 0 0 0 3 6v12a2 2 0 0 0 3.029 1.715l9.997-5.998a2 2 0 0 0 .003-3.432z",key:"zs4d6"}]]),B=(0,D.default)("play",[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]]),L=(0,D.default)("square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);function F({status:e}){let{icon:l,label:s,class:t}={pending:{icon:I.Clock,label:"Bekliyor",class:"text-gray-500"},validating:{icon:u.Loader2,label:"Dogrulaniyor",class:"text-amber-500"},valid:{icon:w.CheckCircle,label:"Gecerli",class:"text-green-500"},invalid:{icon:g.XCircle,label:"Gecersiz",class:"text-red-500"},skipped:{icon:A,label:"Atlandi",class:"text-gray-400"}}[e];return(0,a.jsxs)("span",{className:`inline-flex items-center gap-1 text-xs font-medium ${t}`,children:[(0,a.jsx)(l,{className:`h-3 w-3 ${"validating"===e?"animate-spin":""}`}),s]})}function V({open:e,onOpenChange:t,entityType:i,entities:n,onComplete:d}){let[o,h]=(0,l.useState)(!0),[u,p]=(0,l.useState)(!0),[g,j]=(0,l.useState)(!1),[b,v]=(0,l.useState)(!1),[y,N]=(0,l.useState)(0),[f,S]=(0,l.useState)({}),[w,I]=(0,l.useState)({}),D=e=>e.basic?.vatNumber||e.tax?.taxId||e.vatNumber||e.taxId||"",A=e=>e.basic?.name||e.name||"-",V=e=>e.basic?.vatCheckedAt||e.tax?.vies_validation_date||null,O=n.filter(e=>{let a=D(e);return(!u||!!a)&&(!o||!!(e=>{let a=V(e);if(!a)return!0;let l=new Date;return l.setMonth(l.getMonth()-6),new Date(a)<l})(e))});(0,l.useEffect)(()=>{if(e){let e={};O.forEach(a=>{let l=D(a);e[a.id]=l?"pending":"skipped"}),I(e),S({}),N(0),j(!1),v(!1)}},[e,o,u]);let R=(0,l.useCallback)(async()=>{j(!0),v(!1);for(let e=0;e<O.length&&!b;e++){let a=O[e],l=D(a);if(!l){I(e=>({...e,[a.id]:"skipped"})),N(e+1);continue}I(e=>({...e,[a.id]:"validating"})),N(e);let s=await (0,T.validateVATNumber)(l),t=new Date().toISOString(),r={entityId:a.id,entityName:A(a),vatNumber:l,valid:s.valid,countryCode:s.countryCode,companyName:s.companyName,companyAddress:s.companyAddress,error:s.error,validatedAt:t};S(e=>({...e,[a.id]:r})),I(e=>({...e,[a.id]:s.valid?"valid":"invalid"}));try{let e="customer"===i?"customers":"suppliers";"customer"===i?await (0,c.updateData)(`${e}/${a.id}`,{"basic/vatValidated":s.valid,"basic/vatCheckedAt":t,"basic/vatCountry":s.countryCode||"","basic/vatCompanyName":s.companyName||""}):await (0,c.updateData)(`${e}/${a.id}`,{"tax/vies_validated":s.valid,"tax/vies_validation_date":t,"tax/vies_status":s.valid?"valid":"invalid","tax/vies_country_code":s.countryCode||"","tax/vies_company_name":s.companyName||"","tax/vies_company_address":s.companyAddress||"","tax/vies_error":s.error||""})}catch(e){console.error("Save error:",e)}await new Promise(e=>setTimeout(e,200)),N(e+1)}j(!1),d?.()},[O,i,b,d]),H={total:O.length,pending:Object.values(w).filter(e=>"pending"===e).length,valid:Object.values(w).filter(e=>"valid"===e).length,invalid:Object.values(w).filter(e=>"invalid"===e).length,skipped:Object.values(w).filter(e=>"skipped"===e).length},U=O.length>0?y/O.length*100:0;return(0,a.jsx)(x.Dialog,{open:e,onOpenChange:t,children:(0,a.jsxs)(x.DialogContent,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[(0,a.jsx)(x.DialogHeader,{children:(0,a.jsxs)(x.DialogTitle,{className:"flex items-center gap-2",children:[(0,a.jsx)(k.Shield,{className:"h-5 w-5"}),"Toplu VIES VAT Dogrulama"]})}),(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center gap-6 p-4 bg-gray-50 rounded-lg",children:[(0,a.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer",children:[(0,a.jsx)(m.Checkbox,{checked:o,onCheckedChange:e=>h(!!e),disabled:g}),(0,a.jsx)("span",{className:"text-sm",children:"Sadece 6+ ay once dogrulanmis"})]}),(0,a.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer",children:[(0,a.jsx)(m.Checkbox,{checked:u,onCheckedChange:e=>p(!!e),disabled:g}),(0,a.jsx)("span",{className:"text-sm",children:"Sadece VAT numarasi olanlar"})]})]}),g&&(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,a.jsxs)("span",{children:["Dogrulaniyor: ",y," / ",O.length]}),(0,a.jsxs)("span",{children:[Math.round(U),"%"]})]}),(0,a.jsx)(C.Progress,{value:U,className:"h-2"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-5 gap-4 text-center",children:[(0,a.jsxs)("div",{className:"p-3 bg-gray-100 rounded-lg",children:[(0,a.jsx)("div",{className:"text-2xl font-bold",children:H.total}),(0,a.jsx)("div",{className:"text-xs text-muted-foreground",children:"Toplam"})]}),(0,a.jsxs)("div",{className:"p-3 bg-amber-100 rounded-lg",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-amber-600",children:H.pending}),(0,a.jsx)("div",{className:"text-xs text-amber-600",children:"Bekliyor"})]}),(0,a.jsxs)("div",{className:"p-3 bg-green-100 rounded-lg",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-green-600",children:H.valid}),(0,a.jsx)("div",{className:"text-xs text-green-600",children:"Gecerli"})]}),(0,a.jsxs)("div",{className:"p-3 bg-red-100 rounded-lg",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-red-600",children:H.invalid}),(0,a.jsx)("div",{className:"text-xs text-red-600",children:"Gecersiz"})]}),(0,a.jsxs)("div",{className:"p-3 bg-gray-100 rounded-lg",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-gray-500",children:H.skipped}),(0,a.jsx)("div",{className:"text-xs text-gray-500",children:"Atlandi"})]})]}),(0,a.jsx)("div",{className:"border rounded-lg max-h-[300px] overflow-y-auto",children:(0,a.jsxs)(r.Table,{children:[(0,a.jsx)(r.TableHeader,{children:(0,a.jsxs)(r.TableRow,{children:[(0,a.jsx)(r.TableHead,{children:"Isim"}),(0,a.jsx)(r.TableHead,{children:"VAT Numarasi"}),(0,a.jsx)(r.TableHead,{children:"Son Dogrulama"}),(0,a.jsx)(r.TableHead,{children:"Durum"}),(0,a.jsx)(r.TableHead,{children:"Ulke"}),(0,a.jsx)(r.TableHead,{children:"Sonuc"})]})}),(0,a.jsx)(r.TableBody,{children:0===O.length?(0,a.jsx)(r.TableRow,{children:(0,a.jsx)(r.TableCell,{colSpan:6,className:"text-center py-8 text-muted-foreground",children:"Dogrulanacak kayit bulunamadi"})}):O.map(e=>{let l=D(e),s=V(e),t=w[e.id]||"pending",i=f[e.id];return(0,a.jsxs)(r.TableRow,{children:[(0,a.jsx)(r.TableCell,{className:"font-medium",children:A(e)}),(0,a.jsx)(r.TableCell,{className:"font-mono text-sm",children:l||"-"}),(0,a.jsx)(r.TableCell,{className:"text-xs text-muted-foreground",children:s?new Date(s).toLocaleDateString("tr-TR"):"-"}),(0,a.jsx)(r.TableCell,{children:(0,a.jsx)(F,{status:t})}),(0,a.jsx)(r.TableCell,{className:"text-sm",children:i?.countryCode||l?.substring(0,2)||"-"}),(0,a.jsx)(r.TableCell,{className:"text-xs max-w-[200px] truncate",children:i?.companyName||i?.error||"-"})]},e.id)})})]})}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)(s.Button,{variant:"outline",onClick:()=>t(!1),children:"Kapat"}),(0,a.jsx)("div",{className:"flex gap-2",children:g?(0,a.jsxs)(s.Button,{variant:"destructive",onClick:()=>v(!0),children:[(0,a.jsx)(L,{className:"h-4 w-4 mr-2"}),"Durdur"]}):(0,a.jsxs)(s.Button,{onClick:R,disabled:0===O.length,children:[(0,a.jsx)(B,{className:"h-4 w-4 mr-2"}),"Dogrulamayi Baslat (",O.length,")"]})})]})]})]})})}var O=e.i(7233),R=e.i(16715),H=e.i(41071),U=e.i(88699),E=e.i(27612),P=e.i(86536),M=e.i(55436),$=e.i(7486),_=e.i(99602),z=e.i(75558),K=e.i(25063);function G({isActive:e}){return(0,a.jsx)("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${e?"bg-green-100 text-green-800":"bg-gray-100 text-gray-600"}`,children:e?"Aktif":"Pasif"})}let Y={SI:"ðŸ‡¸ðŸ‡®",AT:"ðŸ‡¦ðŸ‡¹",DE:"ðŸ‡©ðŸ‡ª",IT:"ðŸ‡®ðŸ‡¹",HR:"ðŸ‡­ðŸ‡·",HU:"ðŸ‡­ðŸ‡º",CZ:"ðŸ‡¨ðŸ‡¿",PL:"ðŸ‡µðŸ‡±",FR:"ðŸ‡«ðŸ‡·",NL:"ðŸ‡³ðŸ‡±",BE:"ðŸ‡§ðŸ‡ª",TR:"ðŸ‡¹ðŸ‡·",ES:"ðŸ‡ªðŸ‡¸",GR:"ðŸ‡¬ðŸ‡·",SK:"ðŸ‡¸ðŸ‡°"};function Z(e,a,l,s){let t=e;for(let e of a)if(t&&"object"==typeof t&&e in t)t=t[e];else{t=void 0;break}if(null!=t)return t;let i=e[l];return null!=i?i:s}function X(){let[e,d]=(0,l.useState)([]),[o,m]=(0,l.useState)(!0),[x,h]=(0,l.useState)(""),[u,p]=(0,l.useState)("all"),[g,b]=(0,l.useState)("all"),[v,y]=(0,l.useState)("all"),[N,f]=(0,l.useState)(!1),[C,T]=(0,l.useState)(null),[w,I]=(0,l.useState)(!1),[D,A]=(0,l.useState)("name"),[B,L]=(0,l.useState)("asc");(0,l.useEffect)(()=>{(async()=>{m(!0);try{let e=(await (0,c.getCachedDataArray)("partners")||[]).filter(e=>{let a=e.type?.isSupplier||e.basic?.partnerTypes?.isSupplier,l=e.basic?.status==="deleted";return a&&!l});d(e)}catch(e){console.error("Suppliers load error:",e)}finally{m(!1)}})()},[]);let F=(0,l.useMemo)(()=>e.filter(e=>{let a=Z(e,["basic","name"],"name",""),l=Z(e,["contact","email"],"email",""),s=Z(e,["contact","phone"],"phone",""),t=Z(e,["tax","taxId"],"taxId",""),i=x.toLowerCase(),r=!x||a.toLowerCase().includes(i)||l.toLowerCase().includes(i)||s.toLowerCase().includes(i)||t.toLowerCase().includes(i),n=Z(e,["basic","isActive"],"isActive",!0),c="all"===u||"active"===u&&n||"inactive"===u&&!n,d=Z(e,["basic","country"],"country",""),o="all"===g||d===g,m=Z(e,["basic","categories"],"categories",[]),h="all"===v||m.some(e=>e.toLowerCase()===v.toLowerCase());return r&&c&&o&&h}).sort((e,a)=>{let l,s;switch(D){case"name":default:l=Z(e,["basic","name"],"name",""),s=Z(a,["basic","name"],"name","");break;case"country":l=Z(e,["basic","country"],"country",""),s=Z(a,["basic","country"],"country","");break;case"city":l=Z(e,["contact","address","city"],"city",""),s=Z(a,["contact","address","city"],"city","");break;case"balance":l=Z(e,["payment","currentBalance"],"currentBalance",0),s=Z(a,["payment","currentBalance"],"currentBalance",0);break;case"taxId":l=Z(e,["tax","taxId"],"taxId",""),s=Z(a,["tax","taxId"],"taxId","")}if("balance"===D)return"asc"===B?l-s:s-l;if("taxId"===D){let e=String(l).localeCompare(String(s),"tr",{numeric:!0});return"asc"===B?e:-e}let t=String(l).localeCompare(String(s),"tr");return"asc"===B?t:-t}),[e,x,u,g,v,D,B]),X=(0,l.useMemo)(()=>{let a=e.length;return{total:a,active:e.filter(e=>Z(e,["basic","isActive"],"isActive",!0)).length,totalBalance:e.reduce((e,a)=>e+Z(a,["payment","currentBalance"],"currentBalance",0),0)}},[e]),q=(0,l.useMemo)(()=>{let a=new Set;return e.forEach(e=>{let l=Z(e,["basic","country"],"country","");l&&a.add(l)}),Array.from(a).sort()},[e]),J=(0,l.useMemo)(()=>{let a=new Set;return e.forEach(e=>{Z(e,["basic","categories"],"categories",[]).forEach(e=>a.add(e))}),Array.from(a).sort()},[e]),Q=async e=>{try{let a=!Z(e,["basic","isActive"],"isActive",!0);e.basic?await (0,c.updateData)(`partners/${e.id}/basic`,{isActive:a}):await (0,c.updateData)(`partners/${e.id}`,{isActive:a,updatedAt:new Date().toISOString()})}catch(e){console.error("Status update error:",e),alert("Durum guncellenemedi: "+e.message)}},W=async e=>{let a=Z(e,["basic","name"],"name","Tedarikci");if(confirm(`"${a}" tedarikciyi silmek istediginize emin misiniz?`))try{await (0,c.removeData)(`partners/${e.id}`)}catch(e){console.error("Delete error:",e),alert("Silme hatasi: "+e.message)}};return(0,a.jsxs)("div",{className:"h-full flex flex-col bg-gray-50",children:[(0,a.jsxs)("div",{className:"bg-white border-b px-8 py-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-2xl font-semibold text-gray-900",children:"Tedarikciler"}),(0,a.jsxs)("p",{className:"text-sm text-gray-500 mt-1",children:[X.total," tedarikci - ",X.active," aktif"]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsxs)(s.Button,{variant:"outline",size:"sm",onClick:()=>{m(!0),setTimeout(()=>m(!1),500)},disabled:o,children:[(0,a.jsx)(R.RefreshCw,{className:`h-4 w-4 mr-2 ${o?"animate-spin":""}`}),"Yenile"]}),(0,a.jsxs)(s.Button,{variant:"outline",onClick:()=>I(!0),children:[(0,a.jsx)(k.Shield,{className:"h-4 w-4 mr-2"}),"Toplu VIES Dogrulama"]}),(0,a.jsxs)(s.Button,{onClick:()=>{T(null),f(!0)},children:[(0,a.jsx)(O.Plus,{className:"h-4 w-4 mr-2"}),"Yeni Tedarikci"]})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-4 gap-4 mb-6",children:[(0,a.jsx)("div",{className:"bg-amber-50 rounded-lg p-4",children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"p-2 bg-amber-100 rounded-lg",children:(0,a.jsx)($.Building2,{className:"h-5 w-5 text-amber-600"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Toplam"}),(0,a.jsx)("p",{className:"text-xl font-semibold text-gray-900",children:X.total})]})]})}),(0,a.jsx)("div",{className:"bg-green-50 rounded-lg p-4",children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"p-2 bg-green-100 rounded-lg",children:(0,a.jsx)($.Building2,{className:"h-5 w-5 text-green-600"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Aktif"}),(0,a.jsx)("p",{className:"text-xl font-semibold text-gray-900",children:X.active})]})]})}),(0,a.jsx)("div",{className:"bg-purple-50 rounded-lg p-4",children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"p-2 bg-purple-100 rounded-lg",children:(0,a.jsx)(j.Globe,{className:"h-5 w-5 text-purple-600"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Ulkeler"}),(0,a.jsx)("p",{className:"text-xl font-semibold text-gray-900",children:q.length})]})]})}),(0,a.jsx)("div",{className:`${X.totalBalance>=0?"bg-red-50":"bg-green-50"} rounded-lg p-4`,children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:`p-2 ${X.totalBalance>=0?"bg-red-100":"bg-green-100"} rounded-lg`,children:(0,a.jsx)($.Building2,{className:`h-5 w-5 ${X.totalBalance>=0?"text-red-600":"text-green-600"}`})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Toplam Bakiye"}),(0,a.jsxs)("p",{className:`text-xl font-semibold ${X.totalBalance>=0?"text-red-600":"text-green-600"}`,children:[X.totalBalance>=0?"-":"+","â‚¬",Math.abs(X.totalBalance).toLocaleString("tr-TR",{minimumFractionDigits:2})]})]})]})})]}),(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsxs)("div",{className:"relative flex-1 max-w-md",children:[(0,a.jsx)(M.Search,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400"}),(0,a.jsx)(t.Input,{placeholder:"Tedarikci ara...",value:x,onChange:e=>h(e.target.value),className:"pl-10"})]}),(0,a.jsxs)(i.Select,{value:u,onValueChange:p,children:[(0,a.jsx)(i.SelectTrigger,{className:"w-[150px]",children:(0,a.jsx)(i.SelectValue,{placeholder:"Durum"})}),(0,a.jsxs)(i.SelectContent,{children:[(0,a.jsx)(i.SelectItem,{value:"all",children:"Tum durumlar"}),(0,a.jsx)(i.SelectItem,{value:"active",children:"Aktif"}),(0,a.jsx)(i.SelectItem,{value:"inactive",children:"Pasif"})]})]}),(0,a.jsxs)(i.Select,{value:g,onValueChange:b,children:[(0,a.jsx)(i.SelectTrigger,{className:"w-[150px]",children:(0,a.jsx)(i.SelectValue,{placeholder:"Ulke"})}),(0,a.jsxs)(i.SelectContent,{children:[(0,a.jsx)(i.SelectItem,{value:"all",children:"Tum ulkeler"}),q.map(e=>(0,a.jsx)(i.SelectItem,{value:e,children:Y[e]||e},e))]})]}),(0,a.jsxs)(i.Select,{value:v,onValueChange:y,children:[(0,a.jsx)(i.SelectTrigger,{className:"w-[150px]",children:(0,a.jsx)(i.SelectValue,{placeholder:"Kategori"})}),(0,a.jsxs)(i.SelectContent,{children:[(0,a.jsx)(i.SelectItem,{value:"all",children:"Tum kategoriler"}),J.map(e=>(0,a.jsx)(i.SelectItem,{value:e,children:e},e))]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2 border-l pl-4",children:[(0,a.jsx)(_.ArrowUpDown,{className:"h-4 w-4 text-gray-400"}),(0,a.jsxs)(i.Select,{value:D,onValueChange:A,children:[(0,a.jsx)(i.SelectTrigger,{className:"w-[140px]",children:(0,a.jsx)(i.SelectValue,{placeholder:"Sirala"})}),(0,a.jsxs)(i.SelectContent,{children:[(0,a.jsx)(i.SelectItem,{value:"name",children:"Isim"}),(0,a.jsx)(i.SelectItem,{value:"country",children:"Ulke"}),(0,a.jsx)(i.SelectItem,{value:"city",children:"Sehir"}),(0,a.jsx)(i.SelectItem,{value:"balance",children:"Bakiye"}),(0,a.jsx)(i.SelectItem,{value:"taxId",children:"Vergi No"})]})]}),(0,a.jsx)(s.Button,{variant:"outline",size:"icon",onClick:()=>L("asc"===B?"desc":"asc"),title:"asc"===B?"Artan":"Azalan",children:"asc"===B?(0,a.jsx)(z.ArrowUp,{className:"h-4 w-4"}):(0,a.jsx)(K.ArrowDown,{className:"h-4 w-4"})})]})]})]}),(0,a.jsx)("div",{className:"flex-1 overflow-auto p-8",children:(0,a.jsx)("div",{className:"bg-white rounded-lg border",children:(0,a.jsxs)(r.Table,{children:[(0,a.jsx)(r.TableHeader,{children:(0,a.jsxs)(r.TableRow,{children:[(0,a.jsx)(r.TableHead,{className:"w-[120px]",children:"Kod"}),(0,a.jsx)(r.TableHead,{children:"Tedarikci"}),(0,a.jsx)(r.TableHead,{children:"Tip"}),(0,a.jsx)(r.TableHead,{children:"Ulke"}),(0,a.jsx)(r.TableHead,{children:"Iletisim"}),(0,a.jsx)(r.TableHead,{children:"Telefon"}),(0,a.jsx)(r.TableHead,{children:"E-posta"}),(0,a.jsx)(r.TableHead,{className:"text-right",children:"Borc"}),(0,a.jsx)(r.TableHead,{className:"text-right",children:"Alacak"}),(0,a.jsx)(r.TableHead,{className:"text-right",children:"Bakiye"}),(0,a.jsx)(r.TableHead,{children:"Durum"}),(0,a.jsx)(r.TableHead,{className:"w-[60px]"})]})}),(0,a.jsx)(r.TableBody,{children:o?(0,a.jsx)(r.TableRow,{children:(0,a.jsx)(r.TableCell,{colSpan:12,className:"text-center py-8 text-gray-500",children:"Yukleniyor..."})}):0===F.length?(0,a.jsx)(r.TableRow,{children:(0,a.jsx)(r.TableCell,{colSpan:12,className:"text-center py-8 text-gray-500",children:x||"all"!==u||"all"!==g||"all"!==v?"Filtrelere uygun tedarikci bulunamadi":"Henuz tedarikci eklenmemis"})}):F.map(e=>{let l=Z(e,["tax","taxId"],"taxId","-"),t=Z(e,["basic","name"],"name","Bilinmiyor"),i=Z(e,["basic","type"],"type","wholesaler"),c=Z(e,["basic","country"],"country","-"),d=Z(e,["contact","contactPerson","name"],"contactPerson","-"),o=Z(e,["contact","phone"],"phone","-"),m=Z(e,["contact","email"],"email","-"),x=Z(e,["basic","isActive"],"isActive",!0),h=Z(e,["payment","currentBalance"],"currentBalance",0),u=h>=0?h:0,p=h<0?Math.abs(h):0;return(0,a.jsxs)(r.TableRow,{className:"hover:bg-gray-50",children:[(0,a.jsx)(r.TableCell,{className:"font-mono text-sm font-medium",children:l}),(0,a.jsx)(r.TableCell,{className:"font-medium",children:t}),(0,a.jsx)(r.TableCell,{className:"text-gray-600",children:{wholesaler:"Toptanci",manufacturer:"Uretici",distributor:"Distributor",ToptancÄ±:"Toptanci",Ãœretici:"Uretici",DistribÃ¼tÃ¶r:"Distributor"}[i]||i}),(0,a.jsx)(r.TableCell,{children:Y[c]||c}),(0,a.jsx)(r.TableCell,{className:"text-gray-600",children:d}),(0,a.jsx)(r.TableCell,{className:"text-gray-600",children:o}),(0,a.jsx)(r.TableCell,{className:"text-gray-600",children:m}),(0,a.jsxs)(r.TableCell,{className:`text-right ${u>0?"text-red-600 font-medium":""}`,children:["â‚¬",u.toLocaleString("tr-TR",{minimumFractionDigits:2})]}),(0,a.jsxs)(r.TableCell,{className:`text-right ${p>0?"text-green-600 font-medium":""}`,children:["â‚¬",p.toLocaleString("tr-TR",{minimumFractionDigits:2})]}),(0,a.jsxs)(r.TableCell,{className:`text-right font-medium ${h>0?"text-red-600":h<0?"text-green-600":""}`,children:["â‚¬",h.toLocaleString("tr-TR",{minimumFractionDigits:2})]}),(0,a.jsx)(r.TableCell,{children:(0,a.jsx)(G,{isActive:x})}),(0,a.jsx)(r.TableCell,{children:(0,a.jsxs)(n.DropdownMenu,{children:[(0,a.jsx)(n.DropdownMenuTrigger,{asChild:!0,children:(0,a.jsx)(s.Button,{variant:"ghost",size:"icon",className:"h-8 w-8",children:(0,a.jsx)(H.MoreHorizontal,{className:"h-4 w-4"})})}),(0,a.jsxs)(n.DropdownMenuContent,{align:"end",children:[(0,a.jsxs)(n.DropdownMenuItem,{onClick:()=>{T(e),f(!0)},children:[(0,a.jsx)(P.Eye,{className:"h-4 w-4 mr-2"}),"Detaylari Goruntule"]}),(0,a.jsxs)(n.DropdownMenuItem,{onClick:()=>{T(e),f(!0)},children:[(0,a.jsx)(U.Pencil,{className:"h-4 w-4 mr-2"}),"Duzenle"]}),(0,a.jsx)(n.DropdownMenuSeparator,{}),(0,a.jsx)(n.DropdownMenuItem,{onClick:()=>Q(e),children:x?"â¸ï¸ Pasif Yap":"â–¶ï¸ Aktif Yap"}),(0,a.jsx)(n.DropdownMenuSeparator,{}),(0,a.jsxs)(n.DropdownMenuItem,{onClick:()=>W(e),className:"text-red-600",children:[(0,a.jsx)(E.Trash2,{className:"h-4 w-4 mr-2"}),"Sil"]})]})]})})]},e.id)})})]})})}),(0,a.jsx)(S,{open:N,onOpenChange:f,supplier:C,onSave:()=>f(!1)}),(0,a.jsx)(V,{open:w,onOpenChange:I,entityType:"supplier",entities:e})]})}e.s(["default",()=>X],63875)}]);